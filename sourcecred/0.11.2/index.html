<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>sourcecred 0.11.2 | Documentation</title>
  <meta name='description' content='a tool for communities to measure and reward value creation'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>sourcecred</h3>
          <div class='mb1'><code>0.11.2</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#dependsonedgetype'
                  class="">
                  dependsOnEdgeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#referencesedgetype'
                  class="">
                  referencesEdgeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#contributestoedgetype'
                  class="">
                  contributesToEdgeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#contributestoentryedgetype'
                  class="">
                  contributesToEntryEdgeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#championsedgetype'
                  class="">
                  championsEdgeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loginaddress'
                  class="">
                  loginAddress
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parseaddress'
                  class="">
                  parseAddress
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodetype'
                  class="">
                  NodeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodetype'
                  class="">
                  NodeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgetype'
                  class="">
                  EdgeType
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#identityproposal'
                  class="">
                  IdentityProposal
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#ensureidentityexists'
                  class="">
                  ensureIdentityExists
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#externalplugin'
                  class="">
                  ExternalPlugin
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructorplugin'
                  class="">
                  ConstructorPlugin
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#zipstorage'
                  class="">
                  ZipStorage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#networkstorage'
                  class=" toggle-sibling">
                  NetworkStorage
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#networkstorageget'
                        class='regular pre-open'>
                        #get
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#name'
                  class="">
                  Name
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#namefromstring'
                  class="">
                  nameFromString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#coerce'
                  class="">
                  coerce
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#assertvalid'
                  class="">
                  assertValid
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#assertvalidparts'
                  class="">
                  assertValidParts
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#empty'
                  class="">
                  empty
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromparts'
                  class="">
                  fromParts
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#toparts'
                  class="">
                  toParts
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#tostring'
                  class="">
                  toString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#append'
                  class="">
                  append
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#hasprefix'
                  class="">
                  hasPrefix
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromraw'
                  class="">
                  fromRaw
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parser'
                  class="">
                  parser
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#name'
                  class="">
                  name
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nonce'
                  class="">
                  nonce
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#othernonces'
                  class="">
                  otherNonces
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#toobject'
                  class="">
                  toObject
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromobject'
                  class="">
                  fromObject
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#copy'
                  class="">
                  copy
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mapkeys'
                  class="">
                  mapKeys
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mapvalues'
                  class="">
                  mapValues
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mapentries'
                  class="">
                  mapEntries
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#merge'
                  class="">
                  merge
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#merge'
                  class="">
                  merge
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#merge'
                  class="">
                  merge
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#pushvalue'
                  class="">
                  pushValue
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#maptoarray'
                  class="">
                  mapToArray
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodeaddresst'
                  class="">
                  NodeAddressT
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#node'
                  class="">
                  Node
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edge'
                  class="">
                  Edge
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodecontraction'
                  class="">
                  NodeContraction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#graph'
                  class=" toggle-sibling">
                  Graph
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#graphfromjson'
                        class='regular pre-open'>
                        .fromJSON
                      </a></li>
                    
                      <li><a
                        href='#graphmerge'
                        class='regular pre-open'>
                        .merge
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#graph_reference'
                        class='regular pre-open'>
                        #_reference
                      </a></li>
                      
                      <li><a
                        href='#graph_unreference'
                        class='regular pre-open'>
                        #_unreference
                      </a></li>
                      
                      <li><a
                        href='#graphmodificationcount'
                        class='regular pre-open'>
                        #modificationCount
                      </a></li>
                      
                      <li><a
                        href='#graphaddnode'
                        class='regular pre-open'>
                        #addNode
                      </a></li>
                      
                      <li><a
                        href='#graphremovenode'
                        class='regular pre-open'>
                        #removeNode
                      </a></li>
                      
                      <li><a
                        href='#graphhasnode'
                        class='regular pre-open'>
                        #hasNode
                      </a></li>
                      
                      <li><a
                        href='#graphnode'
                        class='regular pre-open'>
                        #node
                      </a></li>
                      
                      <li><a
                        href='#graphnodes'
                        class='regular pre-open'>
                        #nodes
                      </a></li>
                      
                      <li><a
                        href='#graphaddedge'
                        class='regular pre-open'>
                        #addEdge
                      </a></li>
                      
                      <li><a
                        href='#graphremoveedge'
                        class='regular pre-open'>
                        #removeEdge
                      </a></li>
                      
                      <li><a
                        href='#graphhasedge'
                        class='regular pre-open'>
                        #hasEdge
                      </a></li>
                      
                      <li><a
                        href='#graphisdanglingedge'
                        class='regular pre-open'>
                        #isDanglingEdge
                      </a></li>
                      
                      <li><a
                        href='#graphedge'
                        class='regular pre-open'>
                        #edge
                      </a></li>
                      
                      <li><a
                        href='#graphedges'
                        class='regular pre-open'>
                        #edges
                      </a></li>
                      
                      <li><a
                        href='#graphneighbors'
                        class='regular pre-open'>
                        #neighbors
                      </a></li>
                      
                      <li><a
                        href='#graphequals'
                        class='regular pre-open'>
                        #equals
                      </a></li>
                      
                      <li><a
                        href='#graphcopy'
                        class='regular pre-open'>
                        #copy
                      </a></li>
                      
                      <li><a
                        href='#graphtojson'
                        class='regular pre-open'>
                        #toJSON
                      </a></li>
                      
                      <li><a
                        href='#graphcontractnodes'
                        class='regular pre-open'>
                        #contractNodes
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#nodetostring'
                  class="">
                  nodeToString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgetostring'
                  class="">
                  edgeToString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgetostrings'
                  class="">
                  edgeToStrings
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromcompat'
                  class="">
                  fromCompat
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#map'
                  class="">
                  map
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#map'
                  class="">
                  map
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#orthrow'
                  class="">
                  orThrow
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#orelse'
                  class="">
                  orElse
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#filterlist'
                  class="">
                  filterList
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#weightedgraph'
                  class="">
                  WeightedGraph
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#empty'
                  class="">
                  empty
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#empty'
                  class="">
                  empty
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#overrideweights'
                  class="">
                  overrideWeights
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodeweight'
                  class="">
                  NodeWeight
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgeweight'
                  class="">
                  EdgeWeight
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#weightst'
                  class="">
                  WeightsT
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#permute'
                  class="">
                  permute
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#normalizeneighbors'
                  class="">
                  normalizeNeighbors
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#pagerankparams'
                  class="">
                  PagerankParams
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#pagerankoptions'
                  class="">
                  PagerankOptions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sparsemarkovchain'
                  class="">
                  SparseMarkovChain
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#distribution'
                  class="">
                  Distribution
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#computedelta'
                  class="">
                  computeDelta
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#deepfreeze'
                  class="">
                  deepFreeze
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#rewriteepochnode'
                  class="">
                  rewriteEpochNode
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodeindex'
                  class="">
                  nodeIndex
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodeorder'
                  class="">
                  nodeOrder
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodes'
                  class="">
                  nodes
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgeindex'
                  class="">
                  edgeIndex
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgeorder'
                  class="">
                  edgeOrder
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edges'
                  class="">
                  edges
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_nodeorder'
                  class="">
                  _nodeOrder
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#virtualizednodeaddresses'
                  class="">
                  virtualizedNodeAddresses
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#personalattributionproportion'
                  class="">
                  PersonalAttributionProportion
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#personalattributionproportion'
                  class="">
                  PersonalAttributionProportion
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#attributionrecipient'
                  class="">
                  AttributionRecipient
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#personalattribution'
                  class="">
                  PersonalAttribution
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#personalattributions'
                  class="">
                  PersonalAttributions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validatepersonalattributions'
                  class="">
                  validatePersonalAttributions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#index'
                  class="">
                  Index
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#indexedpersonalattributions'
                  class=" toggle-sibling">
                  IndexedPersonalAttributions
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#indexedpersonalattributions_validateindex'
                        class='regular pre-open'>
                        #_validateIndex
                      </a></li>
                      
                      <li><a
                        href='#indexedpersonalattributionstopersonalattributions'
                        class='regular pre-open'>
                        #toPersonalAttributions
                      </a></li>
                      
                      <li><a
                        href='#indexedpersonalattributionsrecipientsforepochandparticipant'
                        class='regular pre-open'>
                        #recipientsForEpochAndParticipant
                      </a></li>
                      
                      <li><a
                        href='#indexedpersonalattributionsgetproportionvalue'
                        class='regular pre-open'>
                        #getProportionValue
                      </a></li>
                      
                      <li><a
                        href='#indexedpersonalattributionsgetsumproportionvalue'
                        class='regular pre-open'>
                        #getSumProportionValue
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#timestampms'
                  class="">
                  timestampMs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#uuidfromstring'
                  class="">
                  uuidFromString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#makeseedgadget'
                  class="">
                  makeSeedGadget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#payoutgadget'
                  class="">
                  payoutGadget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#forwardwebbinggadget'
                  class="">
                  forwardWebbingGadget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#backwardwebbinggadget'
                  class="">
                  backwardWebbingGadget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sum'
                  class="">
                  sum
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sum'
                  class="">
                  sum
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sum'
                  class="">
                  sum
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#participantcredgrain'
                  class="">
                  ParticipantCredGrain
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#credgrainview'
                  class=" toggle-sibling">
                  CredGrainView
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#credgrainviewfromcredgraphandledger'
                        class='regular pre-open'>
                        .fromCredGraphAndLedger
                      </a></li>
                    
                      <li><a
                        href='#credgrainviewfromscoredcontributionsandledger'
                        class='regular pre-open'>
                        .fromScoredContributionsAndLedger
                      </a></li>
                    
                      <li><a
                        href='#credgrainviewfromcredgrainviews'
                        class='regular pre-open'>
                        .fromCredGrainViews
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#credgrainviewparticipant'
                        class='regular pre-open'>
                        #participant
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#timescopedcredgrainview'
                  class="">
                  TimeScopedCredGrainView
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#interval'
                  class="">
                  Interval
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#intervalsequence'
                  class="">
                  IntervalSequence
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#graphinterval'
                  class="">
                  GraphInterval
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#partitiongraph'
                  class="">
                  partitionGraph
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#graphintervals'
                  class="">
                  graphIntervals
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#weekintervals'
                  class="">
                  weekIntervals
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sortby'
                  class="">
                  sortBy
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#identitytypeparser'
                  class="">
                  identityTypeParser
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#allocationreceipt'
                  class="">
                  AllocationReceipt
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#accountingstatus'
                  class="">
                  AccountingStatus
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mutableaccount'
                  class=" toggle-sibling">
                  MutableAccount
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#mutableaccountbalance'
                        class='regular pre-open'>
                        .balance
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#payableaddressstore'
                  class="">
                  PayableAddressStore
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#ledger'
                  class=" toggle-sibling">
                  Ledger
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#ledgerfromeventlog'
                        class='regular pre-open'>
                        .fromEventLog
                      </a></li>
                    
                      <li><a
                        href='#ledgerparse'
                        class='regular pre-open'>
                        .parse
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#ledgeraccounts'
                        class='regular pre-open'>
                        #accounts
                      </a></li>
                      
                      <li><a
                        href='#ledgeraccount'
                        class='regular pre-open'>
                        #account
                      </a></li>
                      
                      <li><a
                        href='#ledgernameavailable'
                        class='regular pre-open'>
                        #nameAvailable
                      </a></li>
                      
                      <li><a
                        href='#ledgeraccountbyaddress'
                        class='regular pre-open'>
                        #accountByAddress
                      </a></li>
                      
                      <li><a
                        href='#ledgeraccountbyname'
                        class='regular pre-open'>
                        #accountByName
                      </a></li>
                      
                      <li><a
                        href='#ledgerallocation'
                        class='regular pre-open'>
                        #allocation
                      </a></li>
                      
                      <li><a
                        href='#ledgerallocations'
                        class='regular pre-open'>
                        #allocations
                      </a></li>
                      
                      <li><a
                        href='#ledgerdistribution'
                        class='regular pre-open'>
                        #distribution
                      </a></li>
                      
                      <li><a
                        href='#ledgerdistributions'
                        class='regular pre-open'>
                        #distributions
                      </a></li>
                      
                      <li><a
                        href='#ledgerdistributionbyallocationid'
                        class='regular pre-open'>
                        #distributionByAllocationId
                      </a></li>
                      
                      <li><a
                        href='#ledgercreateidentity'
                        class='regular pre-open'>
                        #createIdentity
                      </a></li>
                      
                      <li><a
                        href='#ledgermergeidentities'
                        class='regular pre-open'>
                        #mergeIdentities
                      </a></li>
                      
                      <li><a
                        href='#ledgerrenameidentity'
                        class='regular pre-open'>
                        #renameIdentity
                      </a></li>
                      
                      <li><a
                        href='#ledgeraddalias'
                        class='regular pre-open'>
                        #addAlias
                      </a></li>
                      
                      <li><a
                        href='#ledgeractivate'
                        class='regular pre-open'>
                        #activate
                      </a></li>
                      
                      <li><a
                        href='#ledgerdeactivate'
                        class='regular pre-open'>
                        #deactivate
                      </a></li>
                      
                      <li><a
                        href='#ledgerdistributegrain'
                        class='regular pre-open'>
                        #distributeGrain
                      </a></li>
                      
                      <li><a
                        href='#ledgertransfergrain'
                        class='regular pre-open'>
                        #transferGrain
                      </a></li>
                      
                      <li><a
                        href='#ledgersetpayoutaddress'
                        class='regular pre-open'>
                        #setPayoutAddress
                      </a></li>
                      
                      <li><a
                        href='#ledgerenableaccounting'
                        class='regular pre-open'>
                        #enableAccounting
                      </a></li>
                      
                      <li><a
                        href='#ledgerdisableaccounting'
                        class='regular pre-open'>
                        #disableAccounting
                      </a></li>
                      
                      <li><a
                        href='#ledgerenableintegrationtracking'
                        class='regular pre-open'>
                        #enableIntegrationTracking
                      </a></li>
                      
                      <li><a
                        href='#ledgerdisableintegrationtracking'
                        class='regular pre-open'>
                        #disableIntegrationTracking
                      </a></li>
                      
                      <li><a
                        href='#ledgermarkdistributionexecuted'
                        class='regular pre-open'>
                        #markDistributionExecuted
                      </a></li>
                      
                      <li><a
                        href='#ledgersetexternalcurrency'
                        class='regular pre-open'>
                        #setExternalCurrency
                      </a></li>
                      
                      <li><a
                        href='#ledgerremoveexternalcurrency'
                        class='regular pre-open'>
                        #removeExternalCurrency
                      </a></li>
                      
                      <li><a
                        href='#ledgeraccounting'
                        class='regular pre-open'>
                        #accounting
                      </a></li>
                      
                      <li><a
                        href='#ledgerexternalcurrency'
                        class='regular pre-open'>
                        #externalCurrency
                      </a></li>
                      
                      <li><a
                        href='#ledgertrackeddistributions'
                        class='regular pre-open'>
                        #trackedDistributions
                      </a></li>
                      
                      <li><a
                        href='#ledgerisgrainintegrationexecuted'
                        class='regular pre-open'>
                        #isGrainIntegrationExecuted
                      </a></li>
                      
                      <li><a
                        href='#ledgereventlog'
                        class='regular pre-open'>
                        #eventLog
                      </a></li>
                      
                      <li><a
                        href='#ledgerserialize'
                        class='regular pre-open'>
                        #serialize
                      </a></li>
                      
                      <li><a
                        href='#ledgerlastdistributiontimestamp'
                        class='regular pre-open'>
                        #lastDistributionTimestamp
                      </a></li>
                      
                      <li><a
                        href='#ledger_deactivateaccountswithoutpayoutaddress'
                        class='regular pre-open'>
                        #_deactivateAccountsWithoutPayoutAddress
                      </a></li>
                      
                      <li><a
                        href='#ledger_eraseledgerbalances'
                        class='regular pre-open'>
                        #_eraseLedgerBalances
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#action'
                  class="">
                  Action
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#evmchainid'
                  class="">
                  EvmChainId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#tokenaddress'
                  class="">
                  tokenAddress
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#protocolsymbol'
                  class="">
                  ProtocolSymbol
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#protocol'
                  class="">
                  Protocol
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#currencykey'
                  class="">
                  CurrencyKey
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#random'
                  class="">
                  random
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromstring'
                  class="">
                  fromString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parser'
                  class="">
                  parser
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getrandomvalues'
                  class="">
                  getRandomValues
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#g'
                  class="">
                  G
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#jsonlog'
                  class="">
                  JsonLog
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#applydistributions'
                  class="">
                  applyDistributions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#computedistribution'
                  class="">
                  computeDistribution
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#grain'
                  class="">
                  Grain
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#format'
                  class="">
                  format
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#formatandtrim'
                  class="">
                  formatAndTrim
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#multiplyfloat'
                  class="">
                  multiplyFloat
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#frominteger'
                  class="">
                  fromInteger
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromfloatstring'
                  class="">
                  fromFloatString
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromapproximatefloat'
                  class="">
                  fromApproximateFloat
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#tofloatratio'
                  class="">
                  toFloatRatio
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#splitbudget'
                  class="">
                  splitBudget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#budgetremaining'
                  class="">
                  budgetRemaining
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#add'
                  class="">
                  add
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#serializedcurrencydetails'
                  class="">
                  SerializedCurrencyDetails
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#currencydetails'
                  class="">
                  CurrencyDetails
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#upgrade'
                  class="">
                  upgrade
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#alias'
                  class="">
                  Alias
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#weightoperand'
                  class="">
                  WeightOperand
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#expression'
                  class=" toggle-sibling">
                  Expression
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#expressionoperator'
                        class='regular pre-open'>
                        .operator
                      </a></li>
                    
                      <li><a
                        href='#expressiondescription'
                        class='regular pre-open'>
                        .description
                      </a></li>
                    
                      <li><a
                        href='#expressionweightoperands'
                        class='regular pre-open'>
                        .weightOperands
                      </a></li>
                    
                      <li><a
                        href='#expressionexpressionoperands'
                        class='regular pre-open'>
                        .expressionOperands
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#contribution'
                  class="">
                  Contribution
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getweight'
                  class="">
                  getWeight
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#hasexplicitweight'
                  class="">
                  hasExplicitWeight
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#weightconfig'
                  class=" toggle-sibling">
                  WeightConfig
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#weightconfigkey'
                        class='regular pre-open'>
                        .key
                      </a></li>
                    
                      <li><a
                        href='#weightconfigdefault'
                        class='regular pre-open'>
                        .default
                      </a></li>
                    
                      <li><a
                        href='#weightconfigsubkeys'
                        class='regular pre-open'>
                        .subkeys
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#operatorconfig'
                  class=" toggle-sibling">
                  OperatorConfig
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#operatorconfigkey'
                        class='regular pre-open'>
                        .key
                      </a></li>
                    
                      <li><a
                        href='#operatorconfigoperator'
                        class='regular pre-open'>
                        .operator
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#rawconfig'
                  class=" toggle-sibling">
                  RawConfig
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#rawconfigmemo'
                        class='regular pre-open'>
                        .memo
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#rawconfigsbytarget'
                  class="">
                  RawConfigsByTarget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#memo'
                  class="">
                  memo
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getoperator'
                  class="">
                  getOperator
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getearlieststartforconfigs'
                  class="">
                  getEarliestStartForConfigs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#timestampms'
                  class="">
                  TimestampMs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#toiso'
                  class="">
                  toISO
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromiso'
                  class="">
                  fromISO
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validatetimestampms'
                  class="">
                  validateTimestampMs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#ledgerstorage'
                  class="">
                  LedgerStorage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_getlocalchanges'
                  class="">
                  _getLocalChanges
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_getremotechanges'
                  class="">
                  _getRemoteChanges
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#persist'
                  class="">
                  persist
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#reloadledger'
                  class="">
                  reloadLedger
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#diffledger'
                  class="">
                  diffLedger
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#credrank'
                  class="">
                  credrank
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#credrank'
                  class="">
                  credrank
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#c'
                  class="">
                  C
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#processedbonuspolicy'
                  class="">
                  ProcessedBonusPolicy
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodeweightevaluator'
                  class="">
                  nodeWeightEvaluator
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgeweightevaluator'
                  class="">
                  edgeWeightEvaluator
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#add'
                  class="">
                  add
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getlast'
                  class="">
                  getLast
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#intervallength'
                  class="">
                  IntervalLength
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#applybudget'
                  class="">
                  applyBudget
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_computereweighting'
                  class="">
                  _computeReweighting
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_reweightingforentry'
                  class="">
                  _reweightingForEntry
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_reweightgraph'
                  class="">
                  _reweightGraph
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_anycommonprefixes'
                  class="">
                  _anyCommonPrefixes
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#markovprocessgraphpagerank'
                  class="">
                  markovProcessGraphPagerank
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#personalattributionsconfig'
                  class="">
                  PersonalAttributionsConfig
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#updatepersonalattributionsconfig'
                  class="">
                  updatePersonalAttributionsConfig
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#contributions'
                  class="">
                  contributions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loggingtaskreporter'
                  class="">
                  LoggingTaskReporter
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#silenttaskreporter'
                  class="">
                  SilentTaskReporter
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#scopedtaskreporter'
                  class="">
                  ScopedTaskReporter
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#credequate'
                  class="">
                  credequate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#credgrainview'
                  class="">
                  credGrainView
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#scoreddependencycontributions'
                  class="">
                  scoredDependencyContributions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#dependencies'
                  class="">
                  dependencies
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#graph'
                  class="">
                  graph
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#cascadingreferencedetector'
                  class="">
                  CascadingReferenceDetector
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#grain'
                  class="">
                  grain
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#executegrainintegrationsfromgraininput'
                  class="">
                  executeGrainIntegrationsFromGrainInput
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#grainintegrationfunction'
                  class="">
                  GrainIntegrationFunction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#sortedids'
                  class="">
                  sortedIds
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#formatcenter'
                  class="">
                  formatCenter
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#distributionbalances'
                  class="">
                  DistributionBalances
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gettotaldistributed'
                  class="">
                  getTotalDistributed
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#analysisinput'
                  class="">
                  AnalysisInput
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#analysisoutput'
                  class="">
                  AnalysisOutput
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#analysis'
                  class="">
                  analysis
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#neo4joutput'
                  class="">
                  Neo4jOutput
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#batcharray'
                  class="">
                  batchArray
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#batchiterator'
                  class="">
                  batchIterator
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#readinstance'
                  class="">
                  ReadInstance
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#readonlyinstance'
                  class=" toggle-sibling">
                  ReadOnlyInstance
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#readonlyinstancereadgraphinput'
                        class='regular pre-open'>
                        #readGraphInput
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadcontributionsinput'
                        class='regular pre-open'>
                        #readContributionsInput
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadcredrankinput'
                        class='regular pre-open'>
                        #readCredrankInput
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadcredequateinput'
                        class='regular pre-open'>
                        #readCredequateInput
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadgraininput'
                        class='regular pre-open'>
                        #readGrainInput
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadanalysisinput'
                        class='regular pre-open'>
                        #readAnalysisInput
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadweightedgraphforplugin'
                        class='regular pre-open'>
                        #readWeightedGraphForPlugin
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadcredgraph'
                        class='regular pre-open'>
                        #readCredGraph
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadcredgrainview'
                        class='regular pre-open'>
                        #readCredGrainView
                      </a></li>
                      
                      <li><a
                        href='#readonlyinstancereadledger'
                        class='regular pre-open'>
                        #readLedger
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#instance'
                  class=" toggle-sibling">
                  Instance
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#instancewritegraphoutput'
                        class='regular pre-open'>
                        #writeGraphOutput
                      </a></li>
                      
                      <li><a
                        href='#instancewritecontributionsoutput'
                        class='regular pre-open'>
                        #writeContributionsOutput
                      </a></li>
                      
                      <li><a
                        href='#instancewritecredrankoutput'
                        class='regular pre-open'>
                        #writeCredrankOutput
                      </a></li>
                      
                      <li><a
                        href='#instancewritecredequateoutput'
                        class='regular pre-open'>
                        #writeCredequateOutput
                      </a></li>
                      
                      <li><a
                        href='#instancewriteanalysisoutput'
                        class='regular pre-open'>
                        #writeAnalysisOutput
                      </a></li>
                      
                      <li><a
                        href='#instancewriteledger'
                        class='regular pre-open'>
                        #writeLedger
                      </a></li>
                      
                      <li><a
                        href='#instancewritegrainintegrationoutput'
                        class='regular pre-open'>
                        #writeGrainIntegrationOutput
                      </a></li>
                      
                      <li><a
                        href='#instanceupdategrainintegrationconfig'
                        class='regular pre-open'>
                        #updateGrainIntegrationConfig
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#rawpluginbudgetconfig'
                  class="">
                  RawPluginBudgetConfig
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#originstorage'
                  class=" toggle-sibling">
                  OriginStorage
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#originstorageget'
                        class='regular pre-open'>
                        #get
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#datastorage'
                  class=" toggle-sibling">
                  DataStorage
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#datastorageget'
                        class='regular pre-open'>
                        #get
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#writabledatastorage'
                  class="">
                  WritableDataStorage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#balanced'
                  class="">
                  Balanced
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#balancedreceipts'
                  class="">
                  balancedReceipts
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nonnegativegrain'
                  class="">
                  NonnegativeGrain
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#immediate'
                  class="">
                  Immediate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#immediatereceipts'
                  class="">
                  immediateReceipts
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#recent'
                  class="">
                  Recent
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#recentreceipts'
                  class="">
                  recentReceipts
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#special'
                  class="">
                  Special
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#writeinstance'
                  class=" toggle-sibling">
                  WriteInstance
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#writeinstanceupdategrainintegrationconfig'
                        class='regular pre-open'>
                        #updateGrainIntegrationConfig
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#localinstance'
                  class="">
                  LocalInstance
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mkdirx'
                  class="">
                  mkdirx
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#isdirempty'
                  class="">
                  isDirEmpty
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#diskstorage'
                  class=" toggle-sibling">
                  DiskStorage
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#diskstorageget'
                        class='regular pre-open'>
                        #get
                      </a></li>
                      
                      <li><a
                        href='#diskstorageset'
                        class='regular pre-open'>
                        #set
                      </a></li>
                      
                      <li><a
                        href='#diskstorage_checkpathprefix'
                        class='regular pre-open'>
                        #_checkPathPrefix
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#normalize'
                  class="">
                  normalize
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getplugin'
                  class="">
                  getPlugin
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#pluginid'
                  class="">
                  PluginId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loadjson'
                  class="">
                  loadJson
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loadjsonwithdefault'
                  class="">
                  loadJsonWithDefault
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loadfilewithdefault'
                  class="">
                  loadFileWithDefault
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fetchgithubrepofromcache'
                  class="">
                  fetchGithubRepoFromCache
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fetchgithubrepo'
                  class="">
                  fetchGithubRepo
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#quotarefreshat'
                  class="">
                  quotaRefreshAt
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_resolverefreshtime'
                  class="">
                  _resolveRefreshTime
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mirror'
                  class=" toggle-sibling">
                  Mirror
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#mirror_initialize'
                        class='regular pre-open'>
                        #_initialize
                      </a></li>
                      
                      <li><a
                        href='#mirror_createupdate'
                        class='regular pre-open'>
                        #_createUpdate
                      </a></li>
                      
                      <li><a
                        href='#mirrorregisterobject'
                        class='regular pre-open'>
                        #registerObject
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyregisterobject'
                        class='regular pre-open'>
                        #_nontransactionallyRegisterObject
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyregisternodefieldresult'
                        class='regular pre-open'>
                        #_nontransactionallyRegisterNodeFieldResult
                      </a></li>
                      
                      <li><a
                        href='#mirror_findoutdated'
                        class='regular pre-open'>
                        #_findOutdated
                      </a></li>
                      
                      <li><a
                        href='#mirror_isuptodate'
                        class='regular pre-open'>
                        #_isUpToDate
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryfromplan'
                        class='regular pre-open'>
                        #_queryFromPlan
                      </a></li>
                      
                      <li><a
                        href='#mirror_updatedata'
                        class='regular pre-open'>
                        #_updateData
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdatedata'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateData
                      </a></li>
                      
                      <li><a
                        href='#mirror_logrequest'
                        class='regular pre-open'>
                        #_logRequest
                      </a></li>
                      
                      <li><a
                        href='#mirror_logresponse'
                        class='regular pre-open'>
                        #_logResponse
                      </a></li>
                      
                      <li><a
                        href='#mirror_logrequestupdateid'
                        class='regular pre-open'>
                        #_logRequestUpdateId
                      </a></li>
                      
                      <li><a
                        href='#mirror_updatestep'
                        class='regular pre-open'>
                        #_updateStep
                      </a></li>
                      
                      <li><a
                        href='#mirrorupdate'
                        class='regular pre-open'>
                        #update
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryshallow'
                        class='regular pre-open'>
                        #_queryShallow
                      </a></li>
                      
                      <li><a
                        href='#mirror_getendcursor'
                        class='regular pre-open'>
                        #_getEndCursor
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryconnection'
                        class='regular pre-open'>
                        #_queryConnection
                      </a></li>
                      
                      <li><a
                        href='#mirror_updateconnection'
                        class='regular pre-open'>
                        #_updateConnection
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdateconnection'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateConnection
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryowndata'
                        class='regular pre-open'>
                        #_queryOwnData
                      </a></li>
                      
                      <li><a
                        href='#mirror_updateowndata'
                        class='regular pre-open'>
                        #_updateOwnData
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdateowndata'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateOwnData
                      </a></li>
                      
                      <li><a
                        href='#mirror_querytypename'
                        class='regular pre-open'>
                        #_queryTypename
                      </a></li>
                      
                      <li><a
                        href='#mirror_updatetypenames'
                        class='regular pre-open'>
                        #_updateTypenames
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdatetypenames'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateTypenames
                      </a></li>
                      
                      <li><a
                        href='#mirrorextract'
                        class='regular pre-open'>
                        #extract
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#mirror'
                  class=" toggle-sibling">
                  Mirror
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#mirror_initialize'
                        class='regular pre-open'>
                        #_initialize
                      </a></li>
                      
                      <li><a
                        href='#mirror_createupdate'
                        class='regular pre-open'>
                        #_createUpdate
                      </a></li>
                      
                      <li><a
                        href='#mirrorregisterobject'
                        class='regular pre-open'>
                        #registerObject
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyregisterobject'
                        class='regular pre-open'>
                        #_nontransactionallyRegisterObject
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyregisternodefieldresult'
                        class='regular pre-open'>
                        #_nontransactionallyRegisterNodeFieldResult
                      </a></li>
                      
                      <li><a
                        href='#mirror_findoutdated'
                        class='regular pre-open'>
                        #_findOutdated
                      </a></li>
                      
                      <li><a
                        href='#mirror_isuptodate'
                        class='regular pre-open'>
                        #_isUpToDate
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryfromplan'
                        class='regular pre-open'>
                        #_queryFromPlan
                      </a></li>
                      
                      <li><a
                        href='#mirror_updatedata'
                        class='regular pre-open'>
                        #_updateData
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdatedata'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateData
                      </a></li>
                      
                      <li><a
                        href='#mirror_logrequest'
                        class='regular pre-open'>
                        #_logRequest
                      </a></li>
                      
                      <li><a
                        href='#mirror_logresponse'
                        class='regular pre-open'>
                        #_logResponse
                      </a></li>
                      
                      <li><a
                        href='#mirror_logrequestupdateid'
                        class='regular pre-open'>
                        #_logRequestUpdateId
                      </a></li>
                      
                      <li><a
                        href='#mirror_updatestep'
                        class='regular pre-open'>
                        #_updateStep
                      </a></li>
                      
                      <li><a
                        href='#mirrorupdate'
                        class='regular pre-open'>
                        #update
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryshallow'
                        class='regular pre-open'>
                        #_queryShallow
                      </a></li>
                      
                      <li><a
                        href='#mirror_getendcursor'
                        class='regular pre-open'>
                        #_getEndCursor
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryconnection'
                        class='regular pre-open'>
                        #_queryConnection
                      </a></li>
                      
                      <li><a
                        href='#mirror_updateconnection'
                        class='regular pre-open'>
                        #_updateConnection
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdateconnection'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateConnection
                      </a></li>
                      
                      <li><a
                        href='#mirror_queryowndata'
                        class='regular pre-open'>
                        #_queryOwnData
                      </a></li>
                      
                      <li><a
                        href='#mirror_updateowndata'
                        class='regular pre-open'>
                        #_updateOwnData
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdateowndata'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateOwnData
                      </a></li>
                      
                      <li><a
                        href='#mirror_querytypename'
                        class='regular pre-open'>
                        #_queryTypename
                      </a></li>
                      
                      <li><a
                        href='#mirror_updatetypenames'
                        class='regular pre-open'>
                        #_updateTypenames
                      </a></li>
                      
                      <li><a
                        href='#mirror_nontransactionallyupdatetypenames'
                        class='regular pre-open'>
                        #_nontransactionallyUpdateTypenames
                      </a></li>
                      
                      <li><a
                        href='#mirrorextract'
                        class='regular pre-open'>
                        #extract
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#schemainfo'
                  class="">
                  SchemaInfo
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#queryplan'
                  class="">
                  QueryPlan
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#endcursor'
                  class="">
                  EndCursor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#typenamesupdateresult'
                  class="">
                  TypenamesUpdateResult
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#owndataupdateresult'
                  class="">
                  OwnDataUpdateResult
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#nodeconnectionsupdateresult'
                  class="">
                  NodeConnectionsUpdateResult
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#updateresult'
                  class="">
                  UpdateResult
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#typenames'
                  class="">
                  TYPENAMES
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#own_data'
                  class="">
                  OWN_DATA
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#node_connections'
                  class="">
                  NODE_CONNECTIONS
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_makesingleupdatefunction'
                  class="">
                  _makeSingleUpdateFunction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#body'
                  class="">
                  Body
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#layoutstrategy'
                  class="">
                  LayoutStrategy
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#multilinelayout'
                  class="">
                  multilineLayout
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#inlinelayout'
                  class="">
                  inlineLayout
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#typename'
                  class="">
                  Typename
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#cacheid'
                  class="">
                  CacheId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#cacheidforrepoid'
                  class="">
                  cacheIdForRepoId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#retry'
                  class="">
                  retry
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#compressbyremovingbody'
                  class="">
                  compressByRemovingBody
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#urlreferencemap'
                  class="">
                  urlReferenceMap
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#expectallnonnull'
                  class="">
                  expectAllNonNull
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parsereferences'
                  class="">
                  parseReferences
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#textblocks'
                  class="">
                  textBlocks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromrelationalviews'
                  class="">
                  fromRelationalViews
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mappedreferencedetector'
                  class="">
                  MappedReferenceDetector
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#translatingreferencedetector'
                  class="">
                  TranslatingReferenceDetector
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validatetoken'
                  class="">
                  validateToken
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#discordconfigjson'
                  class="">
                  DiscordConfigJson
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_upgrade'
                  class="">
                  _upgrade
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#graphmessage'
                  class="">
                  GraphMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#findgraphmessages'
                  class="">
                  findGraphMessages
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#topichaslikedpost'
                  class="">
                  TopicHasLikedPost
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parselinks'
                  class="">
                  parseLinks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#defaulttagweight'
                  class="">
                  defaultTagWeight
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#defaultcategoryweight'
                  class="">
                  defaultCategoryWeight
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#readrepository'
                  class=" toggle-sibling">
                  ReadRepository
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#readrepositorytopics'
                        class='regular pre-open'>
                        #topics
                      </a></li>
                      
                      <li><a
                        href='#readrepositoryposts'
                        class='regular pre-open'>
                        #posts
                      </a></li>
                      
                      <li><a
                        href='#readrepositoryfindpostintopic'
                        class='regular pre-open'>
                        #findPostInTopic
                      </a></li>
                      
                      <li><a
                        href='#readrepositoryusers'
                        class='regular pre-open'>
                        #users
                      </a></li>
                      
                      <li><a
                        href='#readrepositorylikes'
                        class='regular pre-open'>
                        #likes
                      </a></li>
                      
                      <li><a
                        href='#readrepositoryfinduser'
                        class='regular pre-open'>
                        #findUser
                      </a></li>
                      
                      <li><a
                        href='#readrepositorytopicbyid'
                        class='regular pre-open'>
                        #topicById
                      </a></li>
                      
                      <li><a
                        href='#readrepositorypostbyid'
                        class='regular pre-open'>
                        #postById
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#definitioncheckms'
                  class="">
                  definitionCheckMs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#topicbumpms'
                  class="">
                  topicBumpMs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#bumpedmsfortopic'
                  class="">
                  bumpedMsForTopic
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#syncheads'
                  class="">
                  syncHeads
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#replacetopictransaction'
                  class="">
                  replaceTopicTransaction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#bumpdefinitiontopiccheck'
                  class="">
                  bumpDefinitionTopicCheck
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fetch'
                  class="">
                  fetch
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#topicview'
                  class="">
                  TopicView
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#topiclatest'
                  class="">
                  TopicLatest
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#topic'
                  class="">
                  Topic
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#discourse'
                  class=" toggle-sibling">
                  Discourse
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#discourselikesbyuser'
                        class='regular pre-open'>
                        #likesByUser
                      </a></li>
                      
                      <li><a
                        href='#discoursetopicsbumpedsince'
                        class='regular pre-open'>
                        #topicsBumpedSince
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#parselatesttopic'
                  class="">
                  parseLatestTopic
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#discoursereferencedetector'
                  class="">
                  DiscourseReferenceDetector
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#initiative'
                  class="">
                  Initiative
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#initiativerepository'
                  class=" toggle-sibling">
                  InitiativeRepository
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#initiativerepositoryinitiatives'
                        class='regular pre-open'>
                        #initiatives
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#nodeentryfield'
                  class="">
                  NodeEntryField
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#normalizenodeentry'
                  class="">
                  normalizeNodeEntry
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_titleslug'
                  class="">
                  _titleSlug
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#initiativefile'
                  class="">
                  InitiativeFile
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#initiativefileurl'
                  class="">
                  initiativeFileURL
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#initiativesdirectory'
                  class="">
                  InitiativesDirectory
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loadedinitiativesdirectory'
                  class="">
                  LoadedInitiativesDirectory
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loaddirectory'
                  class="">
                  loadDirectory
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#edgespec'
                  class="">
                  EdgeSpec
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#normalizeedgespec'
                  class="">
                  normalizeEdgeSpec
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_validateedgespec'
                  class="">
                  _validateEdgeSpec
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_findduplicatesbykey'
                  class="">
                  _findDuplicatesByKey
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#findduplicates'
                  class="">
                  findDuplicates
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='dependsonedgetype'>
      dependsOnEdgeType
    </h3>
    
    
  </div>
  

  <p>An initiative (src) DEPENDS ON (verb) a dependency (dst).
Forward: depending on something shows the value of the dependency.
Backward: having a dependency does not endorse the iniative, but does flow
some cred to incentivize reuse and attribution.</p>

    <div class='pre p1 fill-light mt0'>dependsOnEdgeType</div>
  
    <p>
      Type:
      <a href="#edgetype">EdgeType</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='referencesedgetype'>
      referencesEdgeType
    </h3>
    
    
  </div>
  

  <p>An initiative (src) REFERENCES (verb) a reference (dst).
Forward: referencing from an initiative shows the value of the reference.
But we assume a reference likely needs some refinement to be used by the initiative,
so it flows less cred than to a dependency.
Backward: having reference material does not endorse the iniative, but does flow
some cred to incentivize using existing research and attribution.</p>

    <div class='pre p1 fill-light mt0'>referencesEdgeType</div>
  
    <p>
      Type:
      <a href="#edgetype">EdgeType</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='contributestoedgetype'>
      contributesToEdgeType
    </h3>
    
    
  </div>
  

  <p>A contribution (src) CONTRIBUTES TO (verb) an initiative (dst).
Forward: a contribution towards the initiative is also an endorsement of the
value of that initiative.
Backward: an initiative in large part consists of it's contributions, so the
value of an initiative caries over to it's contributions.</p>

    <div class='pre p1 fill-light mt0'>contributesToEdgeType</div>
  
    <p>
      Type:
      <a href="#edgetype">EdgeType</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='contributestoentryedgetype'>
      contributesToEntryEdgeType
    </h3>
    
    
  </div>
  

  <p>A contributor (src) CONTRIBUTES TO (verb) an entry node (dst).
Forward: a contributor towards the entry node has a small endorsement of that
contribution. Though a high weight would risk contributors' own cred gets
"lost to alpha".
Backward: flows the value of the contribution to the contributors.</p>

    <div class='pre p1 fill-light mt0'>contributesToEntryEdgeType</div>
  
    <p>
      Type:
      <a href="#edgetype">EdgeType</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='championsedgetype'>
      championsEdgeType
    </h3>
    
    
  </div>
  

  <p>A user (src) CHAMPIONS (verb) an initiative (dst).
Meaning forward is the user claiming and committing they will champion an
initiative. And backward is the return of cred based on the completion and
succesful championing of the ininiative.</p>
<p>Forward: a user championing an iniative is also an endorsement of the value
of that initiative.
Backward: an initiative likely received a lot of ongoing support from it's
champion. We're assuming this is more support than individual contributions.</p>

    <div class='pre p1 fill-light mt0'>championsEdgeType</div>
  
    <p>
      Type:
      <a href="#edgetype">EdgeType</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loginaddress'>
      loginAddress
    </h3>
    
    
  </div>
  

  <p>Return the address corresponding to a GitHub login.</p>
<p>If the login is considered a bot, then a bot address is returned. Otherwise,
a regular user address is returned. The method does not attempt to find out
whether the address should actually be an organization address, as we don't
yet handle organization addresses.</p>
<p>Note: The signature will need to be refactored when we make the list of bots
a configuration option rather than a hardcoded constant.</p>

    <div class='pre p1 fill-light mt0'>loginAddress(username: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): RawAddress</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>username</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>RawAddress</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parseaddress'>
      parseAddress
    </h3>
    
    
  </div>
  

  <p>parseAddress will accept any 20-byte hexadecimal ethereum address encoded as
a string, optionally prefixed with <code>0x</code>.</p>
<p>Per EIP-55 (<a href="https://eips.ethereum.org/EIPS/eip-55">https://eips.ethereum.org/EIPS/eip-55</a>), parseAddress throws if
the provided string is mixed-case but not checksum-encoded. All valid
addresses in lower- and upper-case format will not throw.</p>
<p>For consistency, all valid addresses are converted and returned in
mixed-case form with the <code>0x</code> prefix included</p>
<p>valid formats:
"2Ccc7cD913677553766873483ed9eEDdB77A0Bb0"
"0x2Ccc7cD913677553766873483ed9eEDdB77A0Bb0"
"0X2CCC7CD913677553766873483ED9EEDDB77A0BB0"
"0x2ccc7cd913677553766873483ed9eeddb77a0bb0"</p>
<p>invalid formats:
"0x2ccc7cD913677553766873483ed9eEDdB77A0Bb0"
"2ccc7cD913677553766873483ed9eEDdB77A0Bb0"</p>

    <div class='pre p1 fill-light mt0'>parseAddress(s: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): EthAddress</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>s</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>EthAddress</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodetype'>
      NodeType
    </h3>
    
    
  </div>
  

  <p>This module defines <code>NodeType</code>s and <code>EdgeType</code>s, both of which are
data structures containing shared metadata that describes many nodes or edges
in the graph. Nodes can be "members" of zero or more <code>NodeType</code>s, and edges can
be "members" of zero or more <code>EdgeType</code>s. Membership is determined based on the
type's <code>prefix</code>, which is an address. A node or edge is considered a member of
a type if that type's prefix is a prefix of the node's address.</p>
<p>To make this more concrete, let's consider a specific example. Suppose we define
the following nodes:</p>
<p>const pullNode = NodeAddress.fromParts(["github", "pull", "repo", "34"]);
const commitNode = NodeAddress.fromParts(["git", "commit", "e1337"]);
const pullType: NodeType = {
name: "Pull request",
prefix: NodeAddress.fromParts(["github", "pull"]),
// ... more properties as required
};
const githubType: NodeType = {
name: "GitHub node",
prefix: NodeAddress.fromParts(["github"])
};</p>
<p>Then the <code>pullNode</code> is considered a member of the <code>pullType</code> and <code>githubType</code>,
while the <code>commitNode</code> is not a member of either type.</p>
<p>The concept of a "type" is useful to SourceCred because it let's us express
that groups of nodes are conceptually related, and that we should treat them similarly.
Most saliently, we use types to assign default weights to groups of nodes, and to
aggregate them for better UI organization. The fact that the SourceCred UI can group
all pull requests together, and assign a default weight to all of them, is possible
because the GitHub plugin defines a pull request node type.</p>
<p>While a node or edge can theoretically be a member of multiple types, in practice we
generally treat the node or edge as though it is only a member of its most specific type.
In the example above, we would treat any individual pull request as though it is only
a member of the pull request node type. That may change in the future. In general,
the type system is not wholly finalized; when it does become finalized, we will
likely move it into src/core. See <a href="https://github.com/sourcecred/sourcecred/issues/710">#710</a> for context.</p>

    <div class='pre p1 fill-light mt0'>NodeType</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>pluralName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>prefix</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>defaultWeight</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>description</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodetype'>
      NodeType
    </h3>
    
    
  </div>
  

  <p>Represents a "Type" of node in the graph. See the module docstring
for context.</p>

    <div class='pre p1 fill-light mt0'>NodeType</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>pluralName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>prefix</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>defaultWeight</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>description</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgetype'>
      EdgeType
    </h3>
    
    
  </div>
  

  <p>Represents a "Type" of edge in the graph. See the module docstring
for context.</p>

    <div class='pre p1 fill-light mt0'>EdgeType</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>forwardName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>backwardName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>defaultWeight</span> <code class='quiet'>(<a href="#edgeweight">EdgeWeight</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>prefix</span> <code class='quiet'>(EdgeAddressT)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>description</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='identityproposal'>
      IdentityProposal
    </h3>
    
    
  </div>
  

  <p>An IdentityProposal allows a plugin to report a participant identity,
for inclusion in the ledger.</p>
<p>The proposal has an <code>alias</code>, which includes a node address for the identity.
If some account already has that address, then the proposal may be ignored.</p>
<p>If no account has that address, then the proposal will be added as a new
identity in the ledger.</p>
<p>The proposal has a proposed name for the identity, and a name for the
plugin. The plugin name will be used as a discriminator if there's already a
different identity with that name.</p>
<p>If the name and discriminator combo is taken, then a further numeric
discriminator will be added.</p>
<p>When the identity is created, it will have its own identity address, per
usual, and then the alias will be added. We give the plugin control over the
full alias because aliases include helpful descriptions which are shown in
the UI, and the plugin should choose an appropriate description.</p>

    <div class='pre p1 fill-light mt0'>IdentityProposal</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>name</span> <code class='quiet'>(<a href="#name">Name</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>pluginName</span> <code class='quiet'>(<a href="#name">Name</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>alias</span> <code class='quiet'>(<a href="#alias">Alias</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>type</span> <code class='quiet'>(IdentityType)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='ensureidentityexists'>
      ensureIdentityExists
    </h3>
    
    
  </div>
  

  <p>Given a Ledger and an IdentityProposal, ensure that some Ledger account
exists for the proposed identity and return the identity ID.</p>
<p>If there is already an account matching the node address of the proposal's
alias, then the ledger is unchanged.</p>
<p>Otherwise, a new account will be created per the semantics of the
IdentityProposal type.</p>

    <div class='pre p1 fill-light mt0'>ensureIdentityExists(ledger: <a href="#ledger">Ledger</a>, proposal: <a href="#identityproposal">IdentityProposal</a>): IdentityId</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>proposal</span> <code class='quiet'>(<a href="#identityproposal">IdentityProposal</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>IdentityId</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='externalplugin'>
      ExternalPlugin
    </h3>
    
    
  </div>
  

  <p>A dynamic plugin that allows 3rd parties to rapidly pipe data into an instance.</p>
<p>The External plugin can be used multiple times, because it simply uses the
PluginId pattern "external/X" where X can be any name (but preferably an agreed
upon name between the 3rd-party software and the instance maintainer).</p>
<p>The External plugin loads its graph and optionally its declaration and
identityProposals from either:</p>
<ol>
<li>the plugin config folder on disk</li>
</ol>
<ul>
<li>To use this method, simply place the files into the</li>
</ul>
<p><code>config/plugins/external/X</code> folder.
2. a base url that statically serves the files</p>
<ul>
<li>To use this method, simply serve the files statically with cross-origin</li>
</ul>
<p>enabled in the same directory, and add a <code>config.json</code> file in the
instance's <code>config/plugins/external/X</code> folder with form:
<code>{ "Url": "https://www.myhost.com/path/to/directory" }</code></p>
<p>Supported files for either method are:</p>
<ol>
<li><code>graph.json</code>/<code>graph.json.gzip</code> (required) - works whether or not it is</li>
</ol>
<p>compressed using our library
2. <code>declaration.json</code> (optional) - if omitted, a default declaration with
minimal node/edge types is used, but also graphs don't have to adhere to the
declaration if they don't desire to be configured using our
Weight Configuration UI.
3. <code>identityProposals.json</code> (optional) - if omitted, no identities are proposed</p>

    <div class='pre p1 fill-light mt0'>new ExternalPlugin(options: {pluginId: <a href="#pluginid">PluginId</a>, storage: <a href="#datastorage">DataStorage</a>?, config: ExternalPluginConfig?})</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({pluginId: <a href="#pluginid">PluginId</a>, storage: <a href="#datastorage">DataStorage</a>?, config: ExternalPluginConfig?})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructorplugin'>
      ConstructorPlugin
    </h3>
    
    
  </div>
  

  <p>A way for 3rd-party developers to easily test their External Plugin.
After generating a WeightedGraph, a Declaration, and IdentityProposals,
a developer could instantiate a ConstructorPlugin and pass it into our
<code>graph</code> API using our library in environments such as Observable.
This is a prerequisite for testing using <code>credrank</code> because of the
IdentityProposals. Once satisfied with the result, they can serve their files
for consumption by an ExternalPlugin configuration.</p>

    <div class='pre p1 fill-light mt0'>new ConstructorPlugin(options: {weightedGraph: <a href="#weightedgraph">WeightedGraph</a>?, identityProposals: $ReadOnlyArray&#x3C;<a href="#identityproposal">IdentityProposal</a>>?, declaration: PluginDeclaration?, pluginId: <a href="#pluginid">PluginId</a>?})</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({weightedGraph: <a href="#weightedgraph">WeightedGraph</a>?, identityProposals: $ReadOnlyArray&#x3C;<a href="#identityproposal">IdentityProposal</a>>?, declaration: PluginDeclaration?, pluginId: <a href="#pluginid">PluginId</a>?})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='zipstorage'>
      ZipStorage
    </h3>
    
    
  </div>
  

  <p>The ZipStorage class composes with other WritableDataStorage implementations.
It compresses <code>value</code>s before passing them into the underlying <code>baseStorage</code>
implementation, and decompresses them upon receit  from <code>baseStorage</code>.</p>

    <div class='pre p1 fill-light mt0'>new ZipStorage(baseStorage: <a href="#datastorage">DataStorage</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>baseStorage</span> <code class='quiet'>(<a href="#datastorage">DataStorage</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='networkstorage'>
      NetworkStorage
    </h3>
    
    
  </div>
  

  <p>This class serves as a simple wrapper for http GET requests using fetch.
If an empty string is passed as the base, the base will be interpretted
as '.'</p>

    <div class='pre p1 fill-light mt0'>new NetworkStorage(base: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>base</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='networkstorageget'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>get(resource)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>This get method will error if a non-200 or 300-level status was returned,
or if the resource traverses above the base path.</p>

    <div class='pre p1 fill-light mt0'>get(resource: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>resource</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='name'>
      Name
    </h3>
    
    
  </div>
  

  <p>A Name is an identity name which has the following properties:</p>
<ul>
<li>It consists of alphanumeric ASCII and of dashes, which makes it suitable
for including in urls (so we can give each contributor a hardcoded URL
showing their contributions, Cred, and Grain).</li>
<li>It is unique within an instance. Also, no two identities may have names that both
have the same lowercase representation.</li>
<li>It's chosen by (and changeable by) the owner of the identity.</li>
</ul>

    <div class='pre p1 fill-light mt0'>Name</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='namefromstring'>
      nameFromString
    </h3>
    
    
  </div>
  

  <p>Parse a Name from a string.</p>
<p>Throws an error if the Name is invalid.</p>

    <div class='pre p1 fill-light mt0'>nameFromString(name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="#name">Name</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#name">Name</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='coerce'>
      coerce
    </h3>
    
    
  </div>
  

  <p>Attempt to coerce a string into a valid name, by replacing invalid
characters like <code>_</code> or <code>#</code> with hyphens.</p>
<p>This can still error, if given a very long string or the empty string, it
will fail rather than try to change the name length.</p>

    <div class='pre p1 fill-light mt0'>coerce(name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="#name">Name</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#name">Name</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='assertvalid'>
      assertValid
    </h3>
    
    
  </div>
  

  <p>Assert at runtime that the provided address is actually a valid
address of this kind, throwing an error if it is not. If <code>what</code> is
provided, it will be included in the error message.</p>

    <div class='pre p1 fill-light mt0'>assertValid(address: Address, what: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(Address)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>what</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='assertvalidparts'>
      assertValidParts
    </h3>
    
    
  </div>
  

  <p>Assert at runtime that the provided array is a valid array of
address parts (i.e., a valid input to <code>fromParts</code>), throwing an
error if it is not. If <code>what</code> is provided, it will be included in
the error message.</p>

    <div class='pre p1 fill-light mt0'>assertValidParts(parts: $ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, what: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>parts</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>what</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='empty'>
      empty
    </h3>
    
    
  </div>
  

  <p>The empty address (the identity for <code>append</code>). Equivalent to
<code>fromParts([])</code>.</p>

    <div class='pre p1 fill-light mt0'>empty</div>
  
    <p>
      Type:
      Address
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromparts'>
      fromParts
    </h3>
    
    
  </div>
  

  <p>Convert an array of address parts to an address. The input must be
a non-null array of non-null strings, none of which contains the
NUL character. This is the inverse of <code>toParts</code>.</p>

    <div class='pre p1 fill-light mt0'>fromParts(parts: $ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): Address</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>parts</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Address</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='toparts'>
      toParts
    </h3>
    
    
  </div>
  

  <p>Convert an address to the array of parts that it represents. This
is the inverse of <code>fromParts</code>.</p>

    <div class='pre p1 fill-light mt0'>toParts(address: Address): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(Address)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='tostring'>
      toString
    </h3>
    
    
  </div>
  

  <p>Pretty-print an address. The result will be human-readable and
contain only printable characters. Clients should not make any
assumptions about the format.</p>

    <div class='pre p1 fill-light mt0'>toString(address: Address): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(Address)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='append'>
      append
    </h3>
    
    
  </div>
  

  <p>Construct an address by extending the given address with the given
additional components. This function is equivalent to:</p>
<pre><code>return fromParts([...toParts(address), ...components]);
</code></pre>
<p>but may be more efficient.</p>

    <div class='pre p1 fill-light mt0'>append(address: Address, components: ...<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): Address</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(Address)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>components</span> <code class='quiet'>(...<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Address</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='hasprefix'>
      hasPrefix
    </h3>
    
    
  </div>
  

  <p>Test whether the given address has the given prefix. This function
is equivalent to:</p>
<pre><code>const prefixParts = toParts(prefix);
const addressParts = toParts(address);
const actualPrefix = addressParts.slice(0, prefixParts.length);
return deepEqual(prefix, actualPrefix);
</code></pre>
<p>(where <code>deepEqual</code> checks value equality on arrays of strings), but
may be more efficient.</p>
<p>Note that this is an array-wise prefix, not a string-wise-prefix:
e.g., <code>toParts(["ban"])</code> is not a prefix of <code>toParts(["banana"])</code>.</p>

    <div class='pre p1 fill-light mt0'>hasPrefix(address: Address, prefix: Address): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(Address)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>prefix</span> <code class='quiet'>(Address)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromraw'>
      fromRaw
    </h3>
    
    
  </div>
  

  <p>Interpret the provided string as an Address.</p>
<p>Addresses are natively stored as strings. This method verifies
that the provided "raw" address is actually an Address, so that
you can have a type-level assurance that a string is an Address.</p>
<p>This is useful if e.g. you are loading serialized Addresses.</p>
<p>Throws an error if the string is not a valid Address.</p>

    <div class='pre p1 fill-light mt0'>fromRaw(raw: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): Address</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>raw</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Address</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parser'>
      parser
    </h3>
    
    
  </div>
  

  <p>A parser for Addresses.</p>
<p>Convenience wrapper <code>fromRaw</code>.</p>

    <div class='pre p1 fill-light mt0'>parser</div>
  
    <p>
      Type:
      C.Parser&#x3C;Address>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='name'>
      name
    </h3>
    
    
  </div>
  

  <p>The name of this kind of address, like <code>NodeAddress</code>.</p>

    <div class='pre p1 fill-light mt0'>name</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nonce'>
      nonce
    </h3>
    
    
  </div>
  

  <p>A unique nonce for the runtime representation of this address. For
compact serialization, this should be short; a single letter
suffices.</p>

    <div class='pre p1 fill-light mt0'>nonce</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='othernonces'>
      otherNonces
    </h3>
    
    
  </div>
  

  <p>For the purposes of nice error messages: in response to an address
of the wrong kind, we can inform the user what kind of address they
passed (e.g., "expected NodeAddress, got EdgeAddress"). This
dictionary maps another address module's nonce to the name of that
module.</p>

    <div class='pre p1 fill-light mt0'>otherNonces</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='toobject'>
      toObject
    </h3>
    
    
  </div>
  

  <p>Convert a string-keyed map to an object. Useful for conversion to
JSON. If a map's keys are not strings, consider invoking <code>mapKeys</code>
first.</p>

    <div class='pre p1 fill-light mt0'>toObject(map: $ReadOnlyMap&#x3C;InK, InV>): {}</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>($ReadOnlyMap&#x3C;InK, InV>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>{}</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromobject'>
      fromObject
    </h3>
    
    
  </div>
  

  <p>Convert an object to a map. The resulting map will have key-value
pairs corresponding to the enumerable own properties of the object in
iteration order, as returned by <code>Object.keys</code>.</p>

    <div class='pre p1 fill-light mt0'>fromObject(object: {}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>object</span> <code class='quiet'>({})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='copy'>
      copy
    </h3>
    
    
  </div>
  

  <p>Shallow-copy a map, allowing upcasting its type parameters.</p>
<p>The <code>Map</code> type constructor is not covariant in its type parameters,
which means that (e.g.) <code>Map&#x3C;string, Dog></code> is not a subtype of
<code>Map&#x3C;string, Animal></code> even if <code>Dog</code> is a subtype of <code>Animal</code>. This is
because, given a <code>Map&#x3C;string, Animal></code>, one can insert a <code>Cat</code>, which
would break invariants of existing references to the variable as a
map containing only <code>Dog</code>s.</p>
<pre><code>declare class Animal {};
declare class Dog extends Animal {};
declare class Cat extends Animal {};
declare var dogMap: Map&#x3C;string, Dog>;
const animalMap: Map&#x3C;string, Animal> = dogMap;  // must fail
animalMap.set("tabby", new Cat());  // or we could do this...
(dogMap.values(): Iterator&#x3C;Dog>);  // ...now contains a `Cat`!
</code></pre>
<p>This problem only exists when a map with existing references is
mutated. Therefore, when we shallow-copy a map, we have the
opportunity to upcast its type parameters: <code>copy(dogMap)</code> <em>can</em> be a
<code>Map&#x3C;string, Animal></code>.</p>

    <div class='pre p1 fill-light mt0'>copy(map: $ReadOnlyMap&#x3C;InK, InV>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>($ReadOnlyMap&#x3C;InK, InV>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mapkeys'>
      mapKeys
    </h3>
    
    
  </div>
  

  <p>Map across the keys of a map. Note that the key-mapping function is
provided both the key and the value for each entry.</p>
<p>The key-mapping function must be injective on the map's key set. If
it maps two distinct input keys to the same output key, an error may
be thrown.</p>

    <div class='pre p1 fill-light mt0'>mapKeys(map: $ReadOnlyMap&#x3C;InK, InV>, f: function (InK, InV): K): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>($ReadOnlyMap&#x3C;InK, InV>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>f</span> <code class='quiet'>(function (InK, InV): K)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mapvalues'>
      mapValues
    </h3>
    
    
  </div>
  

  <p>Map across the values of a map. Note that the value-mapping function
is provided both the key and the value for each entry.</p>
<p>There are no restrictions on the value-mapping function (in
particular, it need not be injective).</p>

    <div class='pre p1 fill-light mt0'>mapValues(map: $ReadOnlyMap&#x3C;InK, InV>, g: function (InK, InV): V): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>($ReadOnlyMap&#x3C;InK, InV>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>g</span> <code class='quiet'>(function (InK, InV): V)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mapentries'>
      mapEntries
    </h3>
    
    
  </div>
  

  <p>Map simultaneously across the keys and values of a map.</p>
<p>The key-mapping function must be injective on the map's key set. If
it maps two distinct input keys to the same output key, an error may
be thrown. There are no such restrictions on the value-mapping
function.</p>

    <div class='pre p1 fill-light mt0'>mapEntries(map: $ReadOnlyMap&#x3C;InK, InV>, h: function (InK, InV): [K, V]): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>($ReadOnlyMap&#x3C;InK, InV>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>h</span> <code class='quiet'>(function (InK, InV): [K, V])</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='merge'>
      merge
    </h3>
    
    
  </div>
  

  <p>Merge maps without mutating the arguments.</p>
<p>Merges multiple maps, returning a new map which has every key from
the source maps, with their corresponding values. None of the inputs
are mutated. In the event that multiple maps have the same key, an
error will be thrown.</p>

    <div class='pre p1 fill-light mt0'>merge(maps: $ReadOnlyArray&#x3C;$ReadOnlyMap&#x3C;K, V>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>maps</span> <code class='quiet'>($ReadOnlyArray&#x3C;$ReadOnlyMap&#x3C;K, V>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='merge'>
      merge
    </h3>
    
    
  </div>
  

  <p>Merge multiple WeightedGraphs together.</p>
<p>This delegates to the semantics of Graph.merge and Weights.merge.</p>

    <div class='pre p1 fill-light mt0'>merge(ws: $ReadOnlyArray&#x3C;<a href="#weightedgraph">WeightedGraph</a>>): <a href="#weightedgraph">WeightedGraph</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ws</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#weightedgraph">WeightedGraph</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#weightedgraph">WeightedGraph</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='merge'>
      merge
    </h3>
    
    
  </div>
  

  <p>Merge multiple Weights together.</p>
<p>The resultant Weights will have every weight specified by each of the input
weights.</p>
<p>When there are overlaps (i.e. the same address is present in two or more of
the Weights), then the appropriate resolver will be invoked to resolve the
conflict. The resolver takes two weights and combines them to return a new
weight.</p>
<p>When no resolvers are explicitly provided, merge defaults to
conservative "error on conflict" resolvers.</p>

    <div class='pre p1 fill-light mt0'>merge(ws: $ReadOnlyArray&#x3C;<a href="#weightst">WeightsT</a>>, resolvers: {nodeResolver: NodeOperator, edgeResolver: EdgeOperator}?): <a href="#weightst">WeightsT</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ws</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#weightst">WeightsT</a>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>resolvers</span> <code class='quiet'>({nodeResolver: NodeOperator, edgeResolver: EdgeOperator}?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#weightst">WeightsT</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='pushvalue'>
      pushValue
    </h3>
    
    
  </div>
  

  <p>Given a map whose values are arrays, push an element onto the array
corresponding to the given key. If the key is not in the map, first
insert it with value a new empty array.</p>
<p>If the key is already in the map, its value will be mutated, not
replaced.</p>

    <div class='pre p1 fill-light mt0'>pushValue(map: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;V>>, key: K, value: V): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;K, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;V>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>key</span> <code class='quiet'>(K)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(V)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='maptoarray'>
      mapToArray
    </h3>
    
    
  </div>
  

  <p>Given a Map, transform its entries into an Array using a
provided transformer function.</p>

    <div class='pre p1 fill-light mt0'>mapToArray(map: $ReadOnlyMap&#x3C;K, V>, fn: function (pair: [K, V], index: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): R): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;R></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>($ReadOnlyMap&#x3C;K, V>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(function (pair: [K, V], index: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): R)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;R></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeaddresst'>
      NodeAddressT
    </h3>
    
    
  </div>
  

  <p>This module contains the Graph, which is one of the most fundamental pieces
of SourceCred. SourceCred uses this graph to model all of the contributions
that make up a project, and the relationships between those contributions.</p>
<p>If you aren't familiar with computer science graphs, now would be a good
time to refresh. See <a href="https://softwareengineering.stackexchange.com/questions/168058/what-are-graphs-in-laymens-terms#168067">this StackOverflow answer</a> for an introduction, and
<a href="https://en.wikipedia.org/wiki/Graph_(abstract_data_type)">Wikipedia</a> for a more thorough overview. This Graph is used by
SourceCred as a "Contribution Graph", where every node is a contribution or
contributor (e.g. a pull request, or a GitHub user identity) and every edge
represents a connection between contributions or contributors (e.g. a pull
request contains a comment, or a comment is authored by a user).</p>
<p>The Graph serves a simple function: it keeps track of which Nodes exist, and
what Edges join those nodes to each other. Nodes and Edges are both identified
by Addresses; specifically, <code>NodeAddressT</code>s and <code>EdgeAddressT</code>s.</p>
<p>In both cases, addresses are modeled as arrays of strings. For example,
you might want to give an address to your favorite node. You can do so as
follows:</p>
<p>const myAddress: NodeAddressT = NodeAddress.fromParts(["my", "favorite"])</p>
<p>Edge Addresses are quite similar, except you use the EdgeAddress module.</p>
<p>We model addresses as arrays of strings so that plugins can apply
hierarchical namespacing for the address. In general, for any address, the
first piece should be the name of the organization that owns the plugin, and
the second piece should be the name of the plugin. Pieces thereafter are
namespaced by the plugin's internal logic. For example, SourceCred has a
Git plugin, and that plugin produces addresses like
["sourcecred", "git", "commit", "9cba0e9e212a287ce26e8d7c2d273e1025c9f9bf"].</p>
<p>This enables "prefix matching" for finding only certain types of nodes. For
example, if we wanted to find every Git commit in the graph, we
could use the following code:</p>
<p>const commitPrefix = NodeAddress.fromParts(["sourcecred", "git", "commit"]);
const commitNodes = graph.nodes({prefix: commitPrefix});</p>
<p>The graph represents nodes as the <code>Node</code> data type, which includes an
address (NodeAddressT) as well as a few other fields that are needed for
calculating and displaying cred. The Graph is intended to be a lightweight
data structure, so only data directly needed for cred analysis is included.
If there's other data you want to store (e.g. the full text of posts that
are tracked in the graph), you can use the node address as a key for a
separate database.</p>
<p>Edges are represented by <code>Edge</code> objects. They have <code>src</code> and <code>dst</code> fields.
These fields represent the "source" of the edge and the "destination" of the
edge respectively, and both fields contain <code>NodeAddressT</code>s. The edge also
has its own address, which is an <code>EdgeAddressT</code>.</p>
<p>Graphs are allowed to contain Edges whose <code>src</code> or <code>dst</code> are not present.
Such edges are called 'Dangling Edges'. An edge may convert from dangling to
non-dangling (if it is added before its src or dst), and it may convert from
non-dangling to dangling (if its src or dst are removed).</p>
<p>Supporting dangling edges is important, because it means that we can require
metadata be present for a Node (e.g. its creation timestamp), and still
allow graph creators that do not know a node's metadata to create references
to it. (Of course, they still need to know the node's address).</p>
<p>Here's a toy example of creating a graph:</p>
<p>Graph has a number of accessor methods:</p>
<ul>
<li><code>hasNode</code> to check if a node address is in the Graph</li>
<li><code>node</code> to retrieve a node by its address</li>
<li><code>nodes</code> to iterate over the nodes in the graph</li>
<li><code>hasEdge</code> to check if an edge address is in the Graph</li>
<li><code>isDanglingEdge</code> to check if an edge is dangling</li>
<li><code>edge</code> to retrieve an edge by its address</li>
<li><code>edges</code> to iterate over the edges in the graph</li>
<li><code>neighbors</code> to find all the edges and nodes adjacent to a node
(also supports filtering by direction, by node prefix, or edge prefix)</li>
</ul>
<p>The Graph also has a few other convenience methods, like toJSON/fromJSON
for serialization, and <code>Graph.merge</code> for combining multiple graphs.</p>

    <div class='pre p1 fill-light mt0'>NodeAddressT</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='node'>
      Node
    </h3>
    
    
  </div>
  

  <p>Represents a node in the graph.</p>

    <div class='pre p1 fill-light mt0'>Node</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>description</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>((<a href="#timestampms">TimestampMs</a> | null))</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edge'>
      Edge
    </h3>
    
    
  </div>
  

  <p>An edge between two nodes.</p>

    <div class='pre p1 fill-light mt0'>Edge</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>address</span> <code class='quiet'>(EdgeAddressT)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>src</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>dst</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodecontraction'>
      NodeContraction
    </h3>
    
    
  </div>
  

  <p>Specifies how to contract a graph, collapsing several old nodes
into a single new node, and re-writing edges for consistency.</p>

    <div class='pre p1 fill-light mt0'>NodeContraction</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>old</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#nodeaddresst">NodeAddressT</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>replacement</span> <code class='quiet'>(<a href="#node">Node</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='graph'>
      Graph
    </h3>
    
    
  </div>
  

  <p>This module adds a system for specifying "bonus minting" policies. The core
idea for bonus minting is that extra Cred is conjured out of thin air (as a
"bonus") and distributed to a chosen recipient. This system is intended to
be used for minting Cred for project-level dependencies. For example, we
would like users of SourceCred to mint some extra Cred and flow it to the
SourceCred project.</p>
<p>In CredRank, we handle this by creating extra nodes in the graph which mint
the bonus Cred, and it flows directly from those nodes to the intended
recipients.</p>
<p>The total amount of Cred that may be minted is unbounded; for example, if
the dependencies have a total weight of 0.2, then the total Cred will be
120% of the base Cred, but if the dependencies had a total weight of 1, then
the total Cred would be double the base Cred. This was a deliberate design
decision so that dependency minting would feel "non-rival", i.e. there is
not a fixed budget of dependency cred that must be split between the
dependencies. In some cases, it may be reasonable for the total Cred flowing
to a project's dependencies to be larger than the total Cred flowing
directly to the project's contributors; consider that the total amount of
time/effort invested in building all the dependencies may be orders of
magnitude larger than investment in the project itself.</p>

    <div class='pre p1 fill-light mt0'>Graph</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='graphfromjson'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fromJSON(compatJson)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Deserializes a GraphJSON into a new Graph.</p>

    <div class='pre p1 fill-light mt0'>fromJSON(compatJson: GraphJSON): <a href="#graph">Graph</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>compatJson</span> <code class='quiet'>(GraphJSON)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#graph">Graph</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphmerge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>merge(graphs)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Compute the union of the given graphs. The result is a new graph that has
all of the nodes and all of the edges from all the provided graphs.</p>
<p>If two of the given graphs have edges with the same address, the edges
must be equal (i.e. must have the same source and destination in each
graph). If this is not the case, an error will be thrown.</p>
<p>Example usage:</p>
<p>const g1 = new Graph().addNode(a).addNode(b).addEdge(e);
const g2 = new Graph().addNode(b).addNode(c).addEdge(f);
const g3 = Graph.merge([g1, g2]);
Array.from(g3.nodes()).length;  // 3
Array.from(g3.edges()).length;  // 2
const g1 = new Graph().addNode(a).addNode(b).addEdge(x);
const g2 = new Graph().addNode(c);
const g3 = Graph.merge([g1, g2]);</p>
<p>The newly created graph is a separate instance from any of the input graphs,
and may be mutated independently.</p>

    <div class='pre p1 fill-light mt0'>merge(graphs: Iterable&#x3C;<a href="#graph">Graph</a>>): <a href="#graph">Graph</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>graphs</span> <code class='quiet'>(Iterable&#x3C;<a href="#graph">Graph</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#graph">Graph</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='graph_reference'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_reference(n)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A node address is 'referenced' if it is either present in the graph, or is
the src or dst of some edge.</p>
<p>Referenced nodes always have an entry in this._incidentEdges (regardless
of whether they are incident to any edges).</p>
<p>This method ensures that a given node address has a reference.</p>

    <div class='pre p1 fill-light mt0'>_reference(n: <a href="#nodeaddresst">NodeAddressT</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>n</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graph_unreference'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_unreference(n)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A node stops being referenced as soon as it is both not in the graph, and is
not incident to any edge. This method must be called after any operation which
might cause a node address to no longer be referenced, so that the node can
be unreferenced if appropriate.</p>

    <div class='pre p1 fill-light mt0'>_unreference(n: <a href="#nodeaddresst">NodeAddressT</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>n</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphmodificationcount'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>modificationCount()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns how many times the graph has been modified.</p>
<p>This value is exposed so that users of Graph can cache computations over
the graph with confidence, knowing that they will be able to check the
modification count to know when their cache is potentially invalid.</p>
<p>This value may increase any time the graph is potentially modified, even
if no modification actually occurs; for example, if a client calls
<code>addNode</code>, the modification count may increase even if the added node was
already present in the graph.</p>
<p>This value is not serialized, and is ignored when checking equality, i.e.
two graphs may be semantically equal even when they have different
modification counts.</p>

    <div class='pre p1 fill-light mt0'>modificationCount(): ModificationCount</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>ModificationCount</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphaddnode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>addNode(node)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Adds a new node to the graph.</p>
<p>If the node already exists in the graph, no action is taken and no error
is thrown. (This operation is idempotent).</p>
<p>Returns <code>this</code> for chaining.</p>

    <div class='pre p1 fill-light mt0'>addNode(node: <a href="#node">Node</a>): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>node</span> <code class='quiet'>(<a href="#node">Node</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphremovenode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>removeNode(a)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Remove a node from the graph.</p>
<p>If the node does not exist in the graph, no action is taken and no error
is thrown. (This operation is idempotent.)</p>
<p>Removing a node which is incident to some edges is allowed; such edges will
become dangling edges. See the discussion of 'Dangling Edges' in the module docstring
for details.</p>
<p>Returns <code>this</code> for chaining.</p>

    <div class='pre p1 fill-light mt0'>removeNode(a: <a href="#nodeaddresst">NodeAddressT</a>): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>a</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphhasnode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>hasNode(a)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Test whether there exists a Node corresponding to the given NodeAddress.</p>
<p>This will return false for node addresses which are referenced by some
edge, but not actually present in the graph.</p>

    <div class='pre p1 fill-light mt0'>hasNode(a: <a href="#nodeaddresst">NodeAddressT</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>a</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphnode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>node(address)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the Node matching a given NodeAddressT, if such a node exists,
or undefined otherwise.</p>

    <div class='pre p1 fill-light mt0'>node(address: <a href="#nodeaddresst">NodeAddressT</a>): <a href="#node">Node</a>?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#node">Node</a>?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphnodes'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>nodes(options?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns an iterator over all of the nodes in the graph.</p>
<p>Optionally, the caller can provide a node prefix. If
provided, the iterator will only contain nodes matching that
prefix. See semantics of <a href="https://github.com/sourcecred/sourcecred/blob/7c7fa2d83d4fd5ba38efb2b2f4e0244235ac1312/src/core/address.js#L74">Address.hasPrefix</a> for details.</p>
<p>Clients must not modify the graph during iteration. If they do so, an
error may be thrown at the iteration call site.</p>
<p>Nodes are yielded in address-sorted order.</p>

    <div class='pre p1 fill-light mt0'>nodes(options: {prefix: <a href="#nodeaddresst">NodeAddressT</a>}?): Iterator&#x3C;<a href="#node">Node</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({prefix: <a href="#nodeaddresst">NodeAddressT</a>}?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;<a href="#node">Node</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphaddedge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>addEdge(edge)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Add an edge to the graph.</p>
<p>It is permitted to add an edge if its src or dst are not in the graph. See
the discussion of 'Dangling Edges' in the module docstring for semantics.</p>
<p>It is an error to add an edge if a distinct edge with the same address
already exists in the graph (i.e., if the source or destination are
different).</p>
<p>Adding an edge that already exists to the graph is a no-op. (This
operation is idempotent.)</p>
<p>Returns <code>this</code> for chaining.</p>

    <div class='pre p1 fill-light mt0'>addEdge(edge: <a href="#edge">Edge</a>): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>edge</span> <code class='quiet'>(<a href="#edge">Edge</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphremoveedge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>removeEdge(address)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Remove an edge from the graph.</p>
<p>Calling removeEdge on an address that does not correspond to any edge in
the graph is a no-op. (This method is idempotent.)</p>
<p>Returns <code>this</code> for chaining.</p>

    <div class='pre p1 fill-light mt0'>removeEdge(address: EdgeAddressT): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(EdgeAddressT)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphhasedge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>hasEdge(address)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Test whether the graph contains an edge with the given address.</p>

    <div class='pre p1 fill-light mt0'>hasEdge(address: EdgeAddressT): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(EdgeAddressT)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphisdanglingedge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>isDanglingEdge(address)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Test whether there is a dangling edge at the given address.</p>
<p>Returns true if the edge is present, and is dangling.
Returns false if the edge is present, and is not dangling.
Returns undefined if the edge is not present.</p>
<p>See the module docstring for more details on dangling edges.</p>

    <div class='pre p1 fill-light mt0'>isDanglingEdge(address: EdgeAddressT): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a> | any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(EdgeAddressT)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a> | any)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphedge'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>edge(address)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the Edge matching a given EdgeAddressT, if such an edge exists, or
null otherwise.</p>

    <div class='pre p1 fill-light mt0'>edge(address: EdgeAddressT): <a href="#edge">Edge</a>?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(EdgeAddressT)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#edge">Edge</a>?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphedges'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>edges(options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns an iterator over edges in the graph, optionally filtered by edge
address prefix, source address prefix, and/or destination address prefix.</p>
<p>The caller must pass an options object with a boolean field <code>showDangling</code>,
which determines whether dangling edges will be included in the results.
The caller may also pass fields <code>addressPrefix</code>, <code>srcPrefix</code>, and <code>dstPrefix</code>
to perform prefix-based address filtering of edges that are returned.
(See the module docstring for more context on dangling edges.)</p>
<p>Suppose that you want to find every edge that represents authorship by a
user. If all authorship edges have the <code>AUTHORS_EDGE_PREFIX</code> prefix, and
all user nodes have the <code>USER_NODE_PREFIX</code> prefix, then you could call:</p>
<p>graph.edges({
showDangling: true,  // or false, irrelevant for this example
addressPrefix: AUTHORS_EDGE_PREFIX,
srcPrefix: USER_NODE_PREFIX,
});</p>
<p>In this example, as <code>dstPrefix</code> was left unset, it will default to
<code>NodeAddress.empty</code>, which is a prefix of every node address.</p>
<p>Clients must not modify the graph during iteration. If they do so, an
error may be thrown at the iteration call site.</p>
<p>The edges are yielded in sorted address order.</p>

    <div class='pre p1 fill-light mt0'>edges(options: EdgesOptions): Iterator&#x3C;<a href="#edge">Edge</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(EdgesOptions)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;<a href="#edge">Edge</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphneighbors'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>neighbors(node, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Find the <code>Neighbors</code> that are incident to a chosen root node.</p>
<p>A <code>Neighbor</code> contains an edge that is incident to the root,
and the node at the other endpoint of the edge. This may be
either the source or destination of the edge, depending on whether the
edge is an in-edge or an out-edge from the perspective of the root. For
convenience, a <code>Neighbor</code> is thus an object that includes both the edge
and the adjacent node.</p>
<p>Every non-dangling edge incident to the root corresponds to exactly one
neighbor, but note that multiple neighbors may have the same <code>node</code> in the
case that there are multiple edges with the same source and destination.</p>
<p>Callers to <code>neighbors</code> must provide <code>NeighborsOptions</code> as follows:</p>
<ul>
<li>
<p>direction: one of Direction.IN, direction.OUT, or Direction.ANY.</p>
<ul>
<li>Direction.IN finds neigbhors where root is the destination of the
edge.</li>
<li>Direction.OUT finds neigbhors where root is the source of the edge.</li>
<li>Direction.ANY finds neigbhors where root is the source or destination
of the edge.</li>
</ul>
</li>
<li>
<p>nodePrefix: A NodeAddressT to use as a prefix filter for the adjacent node.
If you want all nodes, use <code>NodeAddress</code>.empty.</p>
</li>
<li>
<p>edgePrefix: An EdgeAddressT to use as a prefix filter for the edge.
If you want all edges, use <code>EdgeAddress</code>.empty.</p>
</li>
</ul>
<p>Calling <code>neighbors</code> on a node that is not present in the graph is an error.</p>
<p>If the root node has an edge for which it is both the source and the
destination (a loop edge), there will be one <code>Neighbor</code> with the root node
and the loop edge.</p>
<p>No <code>Neighbors</code> will be created for dangling edges, as such edges do not
correspond to any Node in the graph.</p>
<p>Clients must not modify the graph during iteration. If they do so, an
error may be thrown at the iteration call site. The iteration order is
undefined.</p>

    <div class='pre p1 fill-light mt0'>neighbors(node: <a href="#nodeaddresst">NodeAddressT</a>, options: NeighborsOptions): Iterator&#x3C;Neighbor></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>node</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(NeighborsOptions)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;Neighbor></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphequals'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>equals(that)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Checks whether this graph is equal to another graph.</p>
<p>Two Graphs are considered equal if they have identical sets of nodes
and edges. Insertion order is irrelevant.</p>
<p>Runs in time <code>O(n + e)</code>, where <code>n</code> is the number of nodes and <code>e</code> is the
number of edges.</p>

    <div class='pre p1 fill-light mt0'>equals(that: <a href="#graph">Graph</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>that</span> <code class='quiet'>(<a href="#graph">Graph</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphcopy'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>copy()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Produce a copy of this graph.</p>
<p>The copy is equal to the original, but distinct, so that they may be
modified independently.</p>

    <div class='pre p1 fill-light mt0'>copy(): <a href="#graph">Graph</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#graph">Graph</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphtojson'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>toJSON()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Serialize a Graph into a plain JavaScript object.</p>

    <div class='pre p1 fill-light mt0'>toJSON(): GraphJSON</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>GraphJSON</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='graphcontractnodes'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>contractNodes(contractions)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a new graph, in which some nodes have been contracted together.</p>
<p>contractNodes takes a list of NodeContractions, each of which specifies a
replacement node, and a list of old node addresses to map onto the new
node. A new graph will be returned where the new node is added, none of
the old nodes are present, and every edge incident to one of the old nodes
has been re-written so that it is incident to the new node instead.</p>
<p>If the same node addresses is "old" for several contractions, all incident
edges will be re-written to connect to whichever contraction came last.</p>
<p>If the replacement node is present in the graph, no error will be thrown,
provided that the replacement node is consistent with the one in the graph.</p>
<p>If there is a "chain" of remaps (i.e. a->b and b->c), then an error will
be thrown, as support for chaining has not yet been implemented.</p>
<p>The original Graph is not mutated.</p>
<p>contractNodes runs in O(n+e+k), where <code>n</code> is the number of nodes, <code>e</code> is the
number of edges, and <code>k</code> is the number of contractions. If needed, we can
improve the peformance by mutating the original graph instead of creating
a new one.</p>

    <div class='pre p1 fill-light mt0'>contractNodes(contractions: $ReadOnlyArray&#x3C;<a href="#nodecontraction">NodeContraction</a>>): <a href="#graph">Graph</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>contractions</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#nodecontraction">NodeContraction</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#graph">Graph</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodetostring'>
      nodeToString
    </h3>
    
    
  </div>
  

  <p>Convert a node into a human readable string.</p>
<p>The precise behavior is an implementation detail and subject to change.</p>

    <div class='pre p1 fill-light mt0'>nodeToString(node: <a href="#node">Node</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>node</span> <code class='quiet'>(<a href="#node">Node</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgetostring'>
      edgeToString
    </h3>
    
    
  </div>
  

  <p>Convert an edge into a human readable string.</p>
<p>The precise behavior is an implementation detail and subject to change.</p>

    <div class='pre p1 fill-light mt0'>edgeToString(edge: <a href="#edge">Edge</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>edge</span> <code class='quiet'>(<a href="#edge">Edge</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgetostrings'>
      edgeToStrings
    </h3>
    
    
  </div>
  

  <p>Convert an edge to an object whose fields are human-readable.
This is useful for storing edges in human-readable formats that
should not include NUL characters, such as Jest snapshots.</p>

    <div class='pre p1 fill-light mt0'>edgeToStrings(edge: <a href="#edge">Edge</a>): {address: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, src: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, dst: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, timestampMs: <a href="#timestampms">TimestampMs</a>}</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>edge</span> <code class='quiet'>(<a href="#edge">Edge</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>{address: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, src: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, dst: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, timestampMs: <a href="#timestampms">TimestampMs</a>}</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromcompat'>
      fromCompat
    </h3>
    
    
  </div>
  

  <p>Load an object from compatibilized state created by <code>toCompat</code>.
The object has an expected type and version, and may optionally have
handler functions for transforming previous versions into a canonical state.
If a handler is present for the current version, it will be applied.
Throws an error if the compatibilized object is the wrong type, or if its version
is not current and there was no handler for its version.</p>

    <div class='pre p1 fill-light mt0'>fromCompat(expectedCompatInfo: CompatInfo, obj: Compatible&#x3C;any>, handlers: {}?): T</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>expectedCompatInfo</span> <code class='quiet'>(CompatInfo)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>obj</span> <code class='quiet'>(Compatible&#x3C;any>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>handlers</span> <code class='quiet'>({}?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>T</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='map'>
      map
    </h3>
    
    
  </div>
  

  <p>Utilities for working with nullable types: <code>?T = T | null | void</code>.</p>
<p>These functions use the native runtime representation, as opposed to
creating an <code>Optional&#x3C;T></code> wrapper class. This ensures that they have
minimal runtime cost (just a function call), and that they are
trivially interoperable with other code.</p>
<p>When a value of type <code>?T</code> is <code>null</code> or <code>undefined</code>, we say that it is
<em>absent</em>. Otherwise, it is <em>present</em>.</p>
<p>Some functions that typically appear in such libraries are not
needed:</p>
<ul>
<li><code>join</code> (<code>??T => ?T</code>) can be implemented as the identity function,
because the Flow types <code>??T</code> and <code>?T</code> are equivalent;</li>
<li><code>flatMap</code> (<code>?T => (T => ?U) => ?U</code>) can be implemented simply as
<code>map</code>, again because <code>??T</code> and <code>?T</code> are equivalent;</li>
<li><code>first</code> (<code>?T => ?T => ?T</code>) can be implemented simply as <code>orElse</code>,
again because <code>??T</code> and <code>?T</code> are equivalent;</li>
<li><code>isPresent</code> (<code>?T => boolean</code>) doesn't provide much value over the
equivalent abstract disequality check;</li>
<li>constructors like <code>empty</code> (<code>() => ?T</code>) and <code>of</code> (<code>T => ?T</code>) are
entirely spurious.</li>
</ul>
<p>Other functions could reasonably be implemented, but have been left
out because they have rarely been needed:</p>
<ul>
<li><code>filter</code> (<code>?T => (T => boolean) => ?T</code>);</li>
<li><code>forEach</code> (<code>?T => (T => void) => void</code>);</li>
<li><code>orElseGet</code> (<code>?T => (() => T) => T</code>), which is useful in the case
where constructing the default value is expensive.</li>
</ul>
<p>(Of these three, <code>orElseGet</code> would probably be the most useful for
our existing codebase.)</p>

    <div class='pre p1 fill-light mt0'>map(x: T?, f: function (T): U): U?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(T?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>f</span> <code class='quiet'>(function (T): U)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>U?</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='map'>
      map
    </h3>
    
    
  </div>
  

  <p>Apply the given function inside the nullable. If the input is absent,
then it will be returned unchanged. Otherwise, the given function
will be applied.</p>

    <div class='pre p1 fill-light mt0'>map(x: T?, f: function (T): U): U?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(T?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>f</span> <code class='quiet'>(function (T): U)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>U?</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
  </div>
  

  <p>Extract the value from a nullable. If the input is present, it will
be returned. Otherwise, an error will be thrown with the provided
message (defaulting to the string representation of the absent input).</p>

    <div class='pre p1 fill-light mt0'>get(x: T?, errorMessage: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?): T</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(T?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>errorMessage</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>T</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='orthrow'>
      orThrow
    </h3>
    
    
  </div>
  

  <p>Extract the value from a nullable. If the input is present, it will
be returned. Otherwise, an error will be thrown, with message given
by the provided function.</p>

    <div class='pre p1 fill-light mt0'>orThrow(x: T?, getErrorMessage: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): T</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(T?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>getErrorMessage</span> <code class='quiet'>(function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>T</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='orelse'>
      orElse
    </h3>
    
    
  </div>
  

  <p>Extract the value from a nullable, using the provided default value
in case the input is absent.</p>

    <div class='pre p1 fill-light mt0'>orElse(x: T?, defaultValue: T): T</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(T?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>defaultValue</span> <code class='quiet'>(T)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>T</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='filterlist'>
      filterList
    </h3>
    
    
  </div>
  

  <p>Filter nulls and undefined out of an array, returning a new array.</p>
<p>The functionality is easy to implement without a util method (just call
<code>filter</code>); however Flow doesn't infer the type of the output array based on
the callback that was passed to filter. This method basically wraps filter
in a type-aware way.</p>

    <div class='pre p1 fill-light mt0'>filterList(xs: $ReadOnlyArray&#x3C;T?>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>xs</span> <code class='quiet'>($ReadOnlyArray&#x3C;T?>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='weightedgraph'>
      WeightedGraph
    </h3>
    
    
  </div>
  

  <p>The WeightedGraph a Graph alongside associated Weights</p>
<p>Any combination of Weights and Graph can make a valid WeightedGraph. If the
Weights contains weights for node or edge addresses that are not present in
the graph, then those weights will be ignored. If the graph contains nodes
or edges which do not correspond to any weights, then default weights will
be inferred.</p>

    <div class='pre p1 fill-light mt0'>WeightedGraph</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>graph</span> <code class='quiet'>(<a href="#graph">Graph</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>weights</span> <code class='quiet'>(<a href="#weightst">WeightsT</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='empty'>
      empty
    </h3>
    
    
  </div>
  

  <p>Create a new, empty WeightedGraph.</p>

    <div class='pre p1 fill-light mt0'>empty(): <a href="#weightedgraph">WeightedGraph</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#weightedgraph">WeightedGraph</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='empty'>
      empty
    </h3>
    
    
  </div>
  

  <p>Creates new, empty weights.</p>

    <div class='pre p1 fill-light mt0'>empty(): <a href="#weightst">WeightsT</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#weightst">WeightsT</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='overrideweights'>
      overrideWeights
    </h3>
    
    
  </div>
  

  <p>Create a new WeightedGraph where default weights have been overriden.</p>
<p>This takes a base WeightedGraph along with a set of "override" weights. The
new graph has the union of both the base and override weights; wherever
there is a conflict, the override weights will replace the base weights.
This is useful in situations where we want to let the user manually specify
some weights, and ensure that the user's decisions will trump any defaults.</p>
<p>This method does not mutuate any of the original arguments. For performance
reasons, it is not a full copy; the input and output WeightedGraphs have the
exact same underlying Graph, which should not be modified.</p>

    <div class='pre p1 fill-light mt0'>overrideWeights(wg: <a href="#weightedgraph">WeightedGraph</a>, overrides: <a href="#weightst">WeightsT</a>): <a href="#weightedgraph">WeightedGraph</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>wg</span> <code class='quiet'>(<a href="#weightedgraph">WeightedGraph</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>overrides</span> <code class='quiet'>(<a href="#weightst">WeightsT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#weightedgraph">WeightedGraph</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeweight'>
      NodeWeight
    </h3>
    
    
  </div>
  

  <p>Represents the weight for a particular Node (or node address prefix).
Weight 1 is the default value and signifies normal importance.
Weights are linear, so 2 is twice as important as 1.</p>

    <div class='pre p1 fill-light mt0'>NodeWeight</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgeweight'>
      EdgeWeight
    </h3>
    
    
  </div>
  

  <p>Represents the forwards and backwards weights for a particular Edge (or
edge address prefix).
Weight 1 is the default value and signifies normal importance.
Weights are linear, so 2 is twice as important as 1.</p>

    <div class='pre p1 fill-light mt0'>EdgeWeight</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>forwards</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>backwards</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='weightst'>
      WeightsT
    </h3>
    
    
  </div>
  

  <p>Represents the weights for nodes and edges.</p>
<p>The weights are stored by address prefix, i.e. multiple weights may apply
to a given node or edge.</p>

    <div class='pre p1 fill-light mt0'>WeightsT</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>nodeWeights</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="#nodeaddresst">NodeAddressT</a>, <a href="#nodeweight">NodeWeight</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>edgeWeights</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;EdgeAddressT, <a href="#edgeweight">EdgeWeight</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='permute'>
      permute
    </h3>
    
    
  </div>
  

  <p>Return an equivalent form of the given chain whose <code>nodeOrder</code> is the
provided array, which must be a permutation of the node order of the
original chain.</p>

    <div class='pre p1 fill-light mt0'>permute(old: OrderedSparseMarkovChain, newOrder: $ReadOnlyArray&#x3C;<a href="#nodeaddresst">NodeAddressT</a>>): OrderedSparseMarkovChain</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>old</span> <code class='quiet'>(OrderedSparseMarkovChain)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newOrder</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#nodeaddresst">NodeAddressT</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>OrderedSparseMarkovChain</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='normalizeneighbors'>
      normalizeNeighbors
    </h3>
    
    
  </div>
  

  <p>Return an equivalent form of the given chain such that for for each
node, the entries in <code>chain[node].neighbors</code> are sorted.</p>

    <div class='pre p1 fill-light mt0'>normalizeNeighbors(old: OrderedSparseMarkovChain): OrderedSparseMarkovChain</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>old</span> <code class='quiet'>(OrderedSparseMarkovChain)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>OrderedSparseMarkovChain</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='pagerankparams'>
      PagerankParams
    </h3>
    
    
  </div>
  

  <p>The data inputs to running PageRank.</p>
<p>We keep these separate from the PagerankOptions below,
because we expect that within a given context, every call to
findStationaryDistribution (or other Pagerank functions) will
have different PagerankParams, but often have the same PagerankOptions.</p>

    <div class='pre p1 fill-light mt0'>PagerankParams</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>chain</span> <code class='quiet'>(<a href="#sparsemarkovchain">SparseMarkovChain</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>pi0</span> <code class='quiet'>(<a href="#distribution">Distribution</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>seed</span> <code class='quiet'>(<a href="#distribution">Distribution</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>alpha</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='pagerankoptions'>
      PagerankOptions
    </h3>
    
    
  </div>
  

  <p>PagerankOptions allows the user to tweak PageRank's behavior, especially around
convergence.</p>

    <div class='pre p1 fill-light mt0'>PagerankOptions</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>verbose</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>convergenceThreshold</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>maxIterations</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>yieldAfterMs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sparsemarkovchain'>
      SparseMarkovChain
    </h3>
    
    
  </div>
  

  <p>A representation of a sparse transition matrix that is convenient for
computations on Markov chains.</p>
<p>A Markov chain has nodes indexed from <code>0</code> to <code>n - 1</code>, where <code>n</code> is
the length of the chain. The elements of the chain represent the
incoming edges to each node. Specifically, for each node <code>v</code>, the
in-degree of <code>v</code> equals the length of both <code>chain[v].neighbor</code> and
<code>chain[v].weight</code>. For each <code>i</code> from <code>0</code> to the degree of <code>v</code>
(exclusive), there is an edge to <code>v</code> from <code>chain[v].neighbor[i]</code> with
weight <code>chain[v].weight[i]</code>.</p>
<p>In other words, <code>chain[v]</code> is a sparse-vector representation of
column <code>v</code> of the transition matrix of the Markov chain.</p>

    <div class='pre p1 fill-light mt0'>SparseMarkovChain</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{neighbor: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array">Uint32Array</a>, weight: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float64Array">Float64Array</a>}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='distribution'>
      Distribution
    </h3>
    
    
  </div>
  

  <p>A distribution over the integers <code>0</code> through <code>n - 1</code>, where <code>n</code> is
the length of the array. The value at index <code>i</code> is the probability of
<code>i</code> in the distribution. The values should sum to 1.</p>

    <div class='pre p1 fill-light mt0'>Distribution</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float64Array">Float64Array</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='computedelta'>
      computeDelta
    </h3>
    
    
  </div>
  

  <p>Compute the maximum difference (in absolute value) between components in two
distributions.</p>
<p>Equivalent to $\norm{pi0 - pi1}_\infty$.</p>

    <div class='pre p1 fill-light mt0'>computeDelta(pi0: <a href="#distribution">Distribution</a>, pi1: <a href="#distribution">Distribution</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pi0</span> <code class='quiet'>(<a href="#distribution">Distribution</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pi1</span> <code class='quiet'>(<a href="#distribution">Distribution</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='deepfreeze'>
      deepFreeze
    </h3>
    
    
  </div>
  

  <p>Data structure representing a particular kind of Markov process, as
kind of a middle ground between the semantic SourceCred graph (in the
<code>core/graph</code> module) and a literal transition matrix. Unlike the core
graph, edges in a Markov process graph are unidirectional, edge
weights are raw transition probabilities (which must sum to 1) rather
than unnormalized weights, and there are no dangling edges. Unlike a
fully general transition matrix, parallel edges are still reified,
not collapsed; nodes have weights, representing sources of flow; and
a few SourceCred-specific concepts are made first-class:
specifically, cred minting and time period fibration. The
"teleportation vector" from PageRank is also made explicit via the
"adjoined seed node" graph transformation strategy, so this data
structure can form well-defined Markov processes even from graphs
with nodes with no out-weight. Because the graph reifies the
teleportation and temporal fibration, the associated parameters are
"baked in" to weights of the Markov process graph.</p>
<p>We use the term "fibration" to refer to a graph transformation where
each scoring node is split into one node per epoch, and incident
edges are rewritten to point to the appropriate epoch nodes. The term
is vaguely inspired from the notion of a fiber bundle, though the
analogy is not precise.</p>
<p>The Markov process graphs in this module have three kinds of nodes:</p>
<ul>
<li><em>base nodes</em>, which are in 1-to-1 correspondence with the nodes
in the underlying core graph that are not scoring nodes;</li>
<li><em>user-epoch nodes</em>, which are created for each time period for
each scoring node; and</li>
<li><em>epoch accumulators</em>, which are created once for each epoch to
aggregate over the epoch nodes,</li>
<li>the <em>seed node</em>, which reifies the teleportation vector and
forces well-definedness and ergodicity of the Markov process (for
nonzero alpha, and assuming that there is at least one edge in
the underlying graph).</li>
</ul>
<p>The edges include:</p>
<ul>
<li><em>base edges</em> due to edges in the underlying graph, whose
endpoints are lifted to the corresponding base nodes or to
user-epoch nodes for endpoints that have been fibrated;</li>
<li><em>radiation edges</em> edges from nodes to the seed node;</li>
<li><em>minting edges</em> from the seed node to cred-minting nodes;</li>
<li><em>webbing edges</em> between temporally adjacent user-epoch nodes; and</li>
<li><em>payout edges</em> from a user-epoch node to the accumulator for its
epoch.</li>
</ul>
<p>A Markov process graph can be converted to a pure Markov chain for
spectral analysis via the <code>toMarkovChain</code> method.</p>

    <div class='pre p1 fill-light mt0'>deepFreeze</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='rewriteepochnode'>
      rewriteEpochNode
    </h3>
    
    
  </div>
  

  <p>Find an epoch node, or just the original node if it's not a
scoring address.</p>

    <div class='pre p1 fill-light mt0'>rewriteEpochNode</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>edgeTimestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#nodeaddresst">NodeAddressT</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeindex'>
      nodeIndex
    </h3>
    
    
  </div>
  

  <p>Return the node address's canonical index in the
node order, if it is present.</p>

    <div class='pre p1 fill-light mt0'>nodeIndex(address: <a href="#nodeaddresst">NodeAddressT</a>): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeorder'>
      nodeOrder
    </h3>
    
    
  </div>
  

  <p>Returns a canonical ordering of the nodes in the graph.</p>
<p>No assumptions should be made about the node order, other than
that it is stable for any given MarkovProcessGraph.</p>

    <div class='pre p1 fill-light mt0'>nodeOrder(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodes'>
      nodes
    </h3>
    
    
  </div>
  

  <p>Iterate over the nodes in the graph. If a prefix is provided,
only nodes matching that prefix will be returned.</p>
<p>The nodes are always iterated over in the node order.</p>

    <div class='pre p1 fill-light mt0'>nodes(options: {prefix: <a href="#nodeaddresst">NodeAddressT</a>}?): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({prefix: <a href="#nodeaddresst">NodeAddressT</a>}?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgeindex'>
      edgeIndex
    </h3>
    
    
  </div>
  

  <p>Return the edge address's canonical index in the
edge order, if it is present.</p>

    <div class='pre p1 fill-light mt0'>edgeIndex(address: MarkovEdgeAddressT): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(MarkovEdgeAddressT)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgeorder'>
      edgeOrder
    </h3>
    
    
  </div>
  

  <p>Returns a canonical ordering of the edges in the graph.</p>
<p>No assumptions should be made about the edge order, other than
that it is stable for any given MarkovProcessGraph.</p>

    <div class='pre p1 fill-light mt0'>edgeOrder(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edges'>
      edges
    </h3>
    
    
  </div>
  

  <p>Iterate over the edges in the graph.</p>
<p>The edges are always iterated over in the edge order.</p>

    <div class='pre p1 fill-light mt0'>edges(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_nodeorder'>
      _nodeOrder
    </h3>
    
    
  </div>
  

  <p>Yield the canonical node order.
This has been separated from the class because we need it at construction time, etc.</p>

    <div class='pre p1 fill-light mt0'>_nodeOrder(nodes: $ReadOnlyMap&#x3C;<a href="#nodeaddresst">NodeAddressT</a>, MarkovNode>, epochStarts: $ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>, participants: $ReadOnlyArray&#x3C;Participant>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>nodes</span> <code class='quiet'>($ReadOnlyMap&#x3C;<a href="#nodeaddresst">NodeAddressT</a>, MarkovNode>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStarts</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>participants</span> <code class='quiet'>($ReadOnlyArray&#x3C;Participant>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='virtualizednodeaddresses'>
      virtualizedNodeAddresses
    </h3>
    
    
  </div>
  

  <p>Return an array containing the node addresses for every
virtualized node. The order must be stable.</p>

    <div class='pre p1 fill-light mt0'>virtualizedNodeAddresses(epochStarts: $ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>, participants: $ReadOnlyArray&#x3C;Participant>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStarts</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>participants</span> <code class='quiet'>($ReadOnlyArray&#x3C;Participant>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='personalattributionproportion'>
      PersonalAttributionProportion
    </h3>
    
    
  </div>
  

  <p>This module allows participants to attribute their cred to other participants.
This feature should not be used to make cred sellable/transferable, but
instead is intended to allow participants to acknowledge that a portion of
their creditted outputs are directly generated/supported by the labor of
others. (e.g. when a contributor has a personal assistant working behind the
scenes)</p>

    <div class='pre p1 fill-light mt0'>PersonalAttributionProportion</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>proportionValue</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='personalattributionproportion'>
      PersonalAttributionProportion
    </h3>
    
    
  </div>
  

  <p>A timestamped configuration representing a decimal proportion of cred flow,
which can be applied to a participant pair.</p>

    <div class='pre p1 fill-light mt0'>PersonalAttributionProportion</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>proportionValue</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='attributionrecipient'>
      AttributionRecipient
    </h3>
    
    
  </div>
  

  <p>A recipient of cred attribution and a chronological log of proportion
configurations.</p>

    <div class='pre p1 fill-light mt0'>AttributionRecipient</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>toParticipantId</span> <code class='quiet'>(IdentityId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>proportions</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#personalattributionproportion">PersonalAttributionProportion</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='personalattribution'>
      PersonalAttribution
    </h3>
    
    
  </div>
  

  <p>A participant that is attributing their cred, and a log of how they are
attributing it.</p>

    <div class='pre p1 fill-light mt0'>PersonalAttribution</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>fromParticipantId</span> <code class='quiet'>(IdentityId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>recipients</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#attributionrecipient">AttributionRecipient</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='personalattributions'>
      PersonalAttributions
    </h3>
    
    
  </div>
  

  <p>A list of participants who are attributing their cred, with logs of how
they are attributing it.</p>

    <div class='pre p1 fill-light mt0'>PersonalAttributions</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;<a href="#personalattribution">PersonalAttribution</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validatepersonalattributions'>
      validatePersonalAttributions
    </h3>
    
    
  </div>
  

  <p>Validates that:</p>
<ol>
<li>There is only 1 entry per fromParticipantId.</li>
<li>Each fromParticipantId only has 1 entry per toParticipantId.</li>
<li>Proportions are in chronological order.</li>
<li>Proportions are a number between 0 and 1.</li>
</ol>

    <div class='pre p1 fill-light mt0'>validatePersonalAttributions(personalAttributions: <a href="#personalattributions">PersonalAttributions</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>personalAttributions</span> <code class='quiet'>(<a href="#personalattributions">PersonalAttributions</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='index'>
      Index
    </h3>
    
    
  </div>
  

  <p>This is the intermediary data structure used to index personal attributions
data, making lookups faster. It can be interpreted as:</p>
<p>$ReadOnlyMap&#x3C;
fromParticipantId,
$ReadOnlyMap&#x3C;toParticipantId, AttributionRecipient></p>
<blockquote>
</blockquote>

    <div class='pre p1 fill-light mt0'>Index</div>
  
    <p>
      Type:
      $ReadOnlyMap&#x3C;IdentityId, $ReadOnlyMap&#x3C;IdentityId, <a href="#attributionrecipient">AttributionRecipient</a>>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='indexedpersonalattributions'>
      IndexedPersonalAttributions
    </h3>
    
    
  </div>
  

  <p>An indexed store of PersonalAttributions that includes optimized queries
needed by credrank.</p>

    <div class='pre p1 fill-light mt0'>new IndexedPersonalAttributions(personalAttributions: <a href="#personalattributions">PersonalAttributions</a>, epochStarts: $ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>personalAttributions</span> <code class='quiet'>(<a href="#personalattributions">PersonalAttributions</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStarts</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='indexedpersonalattributions_validateindex'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_validateIndex(index, epochStarts)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Validates that:</p>
<ol>
<li>No participant is attributing more than 100% of their cred in any epoch.</li>
</ol>

    <div class='pre p1 fill-light mt0'>_validateIndex(index: <a href="#index">Index</a>, epochStarts: $ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>index</span> <code class='quiet'>(<a href="#index">Index</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStarts</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#timestampms">TimestampMs</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='indexedpersonalattributionstopersonalattributions'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>toPersonalAttributions()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns a non-indexed, json-friendly PersonalAttributions. The order
may be changed from the original PersonalAttributions that was used to
construct this object, but the elements are the same and the order is
generated consistently.</p>

    <div class='pre p1 fill-light mt0'>toPersonalAttributions(): <a href="#personalattributions">PersonalAttributions</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#personalattributions">PersonalAttributions</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='indexedpersonalattributionsrecipientsforepochandparticipant'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>recipientsForEpochAndParticipant(epochStart, fromParticipantId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return the IDs of all of the recipients that receive a non-zero proportion
of the given participant's cred in the given epoch.</p>

    <div class='pre p1 fill-light mt0'>recipientsForEpochAndParticipant(epochStart: <a href="#timestampms">TimestampMs</a>, fromParticipantId: IdentityId): $ReadOnlyArray&#x3C;IdentityId></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStart</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fromParticipantId</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;IdentityId></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='indexedpersonalattributionsgetproportionvalue'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getProportionValue(epochStart, fromParticipantId, toParticipantId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the decimal proportion of the fromParticipant's cred that should
flow to the toParticipant in the given epoch.</p>

    <div class='pre p1 fill-light mt0'>getProportionValue(epochStart: <a href="#timestampms">TimestampMs</a>, fromParticipantId: IdentityId, toParticipantId: IdentityId): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStart</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fromParticipantId</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>toParticipantId</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='indexedpersonalattributionsgetsumproportionvalue'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getSumProportionValue(epochStart, fromParticipantId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the total decimal proportion of the fromParticipant's cred that
should flow to other participants in the given epoch.</p>

    <div class='pre p1 fill-light mt0'>getSumProportionValue(epochStart: <a href="#timestampms">TimestampMs</a>, fromParticipantId: IdentityId): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>epochStart</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fromParticipantId</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='timestampms'>
      timestampMs
    </h3>
    
    
  </div>
  

  <p>An analytics-only timestamp. Not built for continued functionality within
a MarkovProcessGraph (where epoch nodes are generated and used instead).</p>

    <div class='pre p1 fill-light mt0'>timestampMs</div>
  
    <p>
      Type:
      (<a href="#timestampms">TimestampMs</a> | null)
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='uuidfromstring'>
      uuidFromString
    </h3>
    
    
  </div>
  

  <p>This module contains logic for creating nodes and edges that act as "gadgets" in CredRank.
They are most directly used by markovProcessGraph.js</p>

    <div class='pre p1 fill-light mt0'>uuidFromString</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='makeseedgadget'>
      makeSeedGadget
    </h3>
    
    
  </div>
  

  <p>A helper function for creating a gadget only produces edges incident to seed.
We assume that it has a function for converting from the target type into node address parts, which will
be used to produce a unique edge address, and which are the address parts for the src or dst.
If seedIsSrc is true, then the seed is the src and the dst will be the target. Otherwise, the seed is the dst
and the target will be the src.
These markov edges are never reversed.</p>

    <div class='pre p1 fill-light mt0'>makeSeedGadget($0: MakeSeedGadgetArgs&#x3C;T>): EdgeGadget&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(MakeSeedGadgetArgs&#x3C;T>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>$0.edgePrefix</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>$0.seedIsSrc</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>$0.toParts</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>$0.fromParts</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>EdgeGadget&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='payoutgadget'>
      payoutGadget
    </h3>
    
    
  </div>
  

  <p>The payout gadget creates edges that connect participant epoch nodes to the
epoch accumulator nodes. Each payout edge represents the flow of Cred from a
participant's epoch back to the seed (by means of the accumulator). Thus,
the Cred flow on this edge actually represents Cred score for the
participant. (The Cred score of the epoch node can't be seen as the user's
score, because some of it flows to other contributions, to other epoch
nodes, etc.)</p>

    <div class='pre p1 fill-light mt0'>payoutGadget</div>
  
    <p>
      Type:
      EdgeGadget&#x3C;ParticipantEpochAddress>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='forwardwebbinggadget'>
      forwardWebbingGadget
    </h3>
    
    
  </div>
  

  <p>The forward webbing edges flow Cred forwards from participant epoch nodes to
the temporally next epoch node from the same participant. The intention is
to "smooth out" Cred over time by having some of it flow forwards in time.</p>

    <div class='pre p1 fill-light mt0'>forwardWebbingGadget</div>
  
    <p>
      Type:
      EdgeGadget&#x3C;WebbingAddress>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='backwardwebbinggadget'>
      backwardWebbingGadget
    </h3>
    
    
  </div>
  

  <p>The backward webbing edges flow Cred backwards from participant epoch nodes
to the temporally previous epoch node from the same participant. The
intention is to "smooth out" Cred over time by having some of it flow
backwards in time.</p>

    <div class='pre p1 fill-light mt0'>backwardWebbingGadget</div>
  
    <p>
      Type:
      EdgeGadget&#x3C;WebbingAddress>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sum'>
      sum
    </h3>
    
    
  </div>
  

  <p>This module exposes a class that accesses participant data, aggregating
between a CredGraph and a Ledger.</p>
<p>It is useful for cases where you want to view a participant's Cred and Grain
data simultaneously, for example for creating summary dashboards.</p>

    <div class='pre p1 fill-light mt0'>sum</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sum'>
      sum
    </h3>
    
    
  </div>
  

  <p>This module outputs aggregated data that combines Cred Scores with Ledger
Account data.</p>
<p>We use this internally when creating Grain distributions using a Ledger and
a Cred View. It's also an experimental output format which gives overall
information on the cred in an instance. We may remove it or make breaking
changes to it in the future.</p>

    <div class='pre p1 fill-light mt0'>sum</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sum'>
      sum
    </h3>
    
    
  </div>
  

  <p>Sum a sequence of Grain values.</p>

    <div class='pre p1 fill-light mt0'>sum(xs: Iterable&#x3C;<a href="#grain">Grain</a>>): <a href="#grain">Grain</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>xs</span> <code class='quiet'>(Iterable&#x3C;<a href="#grain">Grain</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#grain">Grain</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='participantcredgrain'>
      ParticipantCredGrain
    </h3>
    
    
  </div>
  

  <p>Cred and Grain data for a given participant.</p>
<p>Implicitly has an associated time scope, which will
be the time scope of the CredGrainView or TimeScopedCredGrainView that
generated this.</p>
<p>The indices of credPerInterval/grainEarnedPerInterval correspond to the
same indices in the IntervalSequence of the CredGrainView or
TimeScopedCredGrainView that generated this.</p>

    <div class='pre p1 fill-light mt0'>ParticipantCredGrain</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>active</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>identity</span> <code class='quiet'>(Identity)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>cred</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>credPerInterval</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>grainEarned</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>grainEarnedPerInterval</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#grain">Grain</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='credgrainview'>
      CredGrainView
    </h3>
    
    
  </div>
  

  <p>Aggregates data across a CredGraph and Ledger.</p>
<p>By default, it includes data across all time present in the instance.
Callers can call <code>withTimeScope</code> to get a <code>TimeScopedCredGrainView</code> which
returns data that only includes a continuous subset of cred and grain data
across time.</p>

    <div class='pre p1 fill-light mt0'>new CredGrainView(participants: $ReadOnlyArray&#x3C;<a href="#participantcredgrain">ParticipantCredGrain</a>>, intervals: <a href="#intervalsequence">IntervalSequence</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>participants</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#participantcredgrain">ParticipantCredGrain</a>>
            = <code>[]</code>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>intervals</span> <code class='quiet'>(<a href="#intervalsequence">IntervalSequence</a>
            = <code>intervalSequence([])</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='credgrainviewfromcredgraphandledger'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fromCredGraphAndLedger(credGraph, ledger)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Creates a CredGrainView using the output of the CredRank API.</p>

    <div class='pre p1 fill-light mt0'>fromCredGraphAndLedger(credGraph: CredGraph, ledger: <a href="#ledger">Ledger</a>): <a href="#credgrainview">CredGrainView</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGraph</span> <code class='quiet'>(CredGraph)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#credgrainview">CredGrainView</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='credgrainviewfromscoredcontributionsandledger'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fromScoredContributionsAndLedger(scoredContributions, ledger, startTimeMs)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Creates a CredGrainView using the output of the CredEquate API.</p>

    <div class='pre p1 fill-light mt0'>fromScoredContributionsAndLedger(scoredContributions: Iterable&#x3C;ScoredContribution>, ledger: <a href="#ledger">Ledger</a>, startTimeMs: <a href="#timestampms">TimestampMs</a>): <a href="#credgrainview">CredGrainView</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>scoredContributions</span> <code class='quiet'>(Iterable&#x3C;ScoredContribution>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>startTimeMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#credgrainview">CredGrainView</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='credgrainviewfromcredgrainviews'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fromCredGrainViews(views)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Combines multiple CredGrainViews into a single one. The intervals will span the
earliest to the latest of all intervals in all the CredGrainViews.
Participant identity/active data will match that of the first occurrence of
that participant in the params.</p>

    <div class='pre p1 fill-light mt0'>fromCredGrainViews(views: ...$ReadOnlyArray&#x3C;<a href="#credgrainview">CredGrainView</a>>): <a href="#credgrainview">CredGrainView</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>views</span> <code class='quiet'>(...$ReadOnlyArray&#x3C;<a href="#credgrainview">CredGrainView</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#credgrainview">CredGrainView</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='credgrainviewparticipant'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>participant(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the data for the participant with the given ID</p>

    <div class='pre p1 fill-light mt0'>participant(id: IdentityId): <a href="#participantcredgrain">ParticipantCredGrain</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#participantcredgrain">ParticipantCredGrain</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='timescopedcredgrainview'>
      TimeScopedCredGrainView
    </h3>
    
    
  </div>
  

  <p>This class's contructor stores a continuous subset of the originalIntervals
and participant cred/grain data where intervals are only included if their
start and end times are both within the provided startTimeMs and endTimeMs,
inclusively.</p>

    <div class='pre p1 fill-light mt0'>new TimeScopedCredGrainView(credGrainView: <a href="#credgrainview">CredGrainView</a>, startTimeMs: <a href="#timestampms">TimestampMs</a>, endTimeMs: <a href="#timestampms">TimestampMs</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGrainView</span> <code class='quiet'>(<a href="#credgrainview">CredGrainView</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>startTimeMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endTimeMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='interval'>
      Interval
    </h3>
    
    
  </div>
  

  <p>Represents a time interval
The interval is half open [startTimeMs, endTimeMs),
i.e. if a timestamp is exactly on the interval boundary, it will fall at the
start of the older interval.</p>

    <div class='pre p1 fill-light mt0'>Interval</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>startTimeMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>endTimeMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='intervalsequence'>
      IntervalSequence
    </h3>
    
    
  </div>
  

  <p>An interval sequence is an array of intervals with the following guarantees:</p>
<ul>
<li>Every interval has positive time span (i.e. the end time is greater
than the start time).</li>
<li>Every interval except for the first starts at the same time that the
previous interval ended.</li>
<li>No interval may have a NaN start or end time. (Infinity is OK.)</li>
</ul>

    <div class='pre p1 fill-light mt0'>IntervalSequence</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='graphinterval'>
      GraphInterval
    </h3>
    
    
  </div>
  

  <p>Represents a slice of a time-partitioned graph
Includes the interval, as well as all of the nodes and edges whose timestamps
are within the interval.</p>

    <div class='pre p1 fill-light mt0'>GraphInterval</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>interval</span> <code class='quiet'>(<a href="#interval">Interval</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>nodes</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#node">Node</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>edges</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#edge">Edge</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='partitiongraph'>
      partitionGraph
    </h3>
    
    
  </div>
  

  <p>Partition a graph based on time intervals.</p>
<p>The intervals are always one week long, as calculated using d3.utcWeek.
The result may contain empty intervals.
If the graph is empty, no intervals are returned.
Timeless nodes are not included in the partition, nor are dangling edges.</p>

    <div class='pre p1 fill-light mt0'>partitionGraph(graph: <a href="#graph">Graph</a>): GraphIntervalPartition</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>graph</span> <code class='quiet'>(<a href="#graph">Graph</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>GraphIntervalPartition</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='graphintervals'>
      graphIntervals
    </h3>
    
    
  </div>
  

  <p>Produce an array of Intervals which cover all the node and edge timestamps
for a graph.</p>
<p>The intervals are one week long, and are aligned on clean week boundaries.</p>
<p>This function is basically a wrapper around weekIntervals that makes sure
the graph's nodes and edges are all accounted for properly.</p>

    <div class='pre p1 fill-light mt0'>graphIntervals(graph: <a href="#graph">Graph</a>): <a href="#intervalsequence">IntervalSequence</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>graph</span> <code class='quiet'>(<a href="#graph">Graph</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#intervalsequence">IntervalSequence</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='weekintervals'>
      weekIntervals
    </h3>
    
    
  </div>
  

  <p>Produce an array of week-long intervals to cover the startTime and endTime.</p>
<p>Each interval is one week long and aligned on week boundaries, as produced
by d3.utcWeek. The weeks always use UTC boundaries to ensure consistent
output regardless of which timezone the user is in.</p>
<p>Assuming that the inputs are valid, there will always be at least one
interval, so that that interval can cover the input timestamps. (E.g. if
startMs and endMs are the same value, then the produced interval will be the
start and end of the last week that starts on or before startMs.)</p>

    <div class='pre p1 fill-light mt0'>weekIntervals(startMs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, endMs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="#intervalsequence">IntervalSequence</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>startMs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endMs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#intervalsequence">IntervalSequence</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sortby'>
      sortBy
    </h3>
    
    
  </div>
  

  <p>Sorting utility. Accepts an array and optionally any number of "pluck"
functions to get the value to sort by. Will create a shallow copy, and sort in ascending order.</p>
<ul>
<li><code>arr</code>: The input array to sort</li>
<li><code>pluckArgs</code>: (0...n) Functions to get the value to sort by. Defaults to identity.</li>
</ul>

    <div class='pre p1 fill-light mt0'>sortBy(arr: $ReadOnlyArray&#x3C;T>, pluckArgs: ...<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;PluckFn&#x3C;T>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>arr</span> <code class='quiet'>($ReadOnlyArray&#x3C;T>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pluckArgs</span> <code class='quiet'>(...<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;PluckFn&#x3C;T>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='identitytypeparser'>
      identityTypeParser
    </h3>
    
    
  </div>
  

  <p>This module contains the ledger, for accumulating state updates related to
identity identities and Grain distribution.</p>
<p>A key requirement for the ledger is that we need to store an ordered log of
every action that's happened in the ledger, so that we can audit the ledger
state to ensure its integrity.</p>

    <div class='pre p1 fill-light mt0'>identityTypeParser</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='allocationreceipt'>
      AllocationReceipt
    </h3>
    
    
  </div>
  

  <p>Timestamped record of a grain payment
made to an Identity from a specific Allocation.</p>

    <div class='pre p1 fill-light mt0'>AllocationReceipt</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>allocationId</span> <code class='quiet'>(AllocationId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>grainReceipt</span> <code class='quiet'>(GrainReceipt)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>credTimestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='accountingstatus'>
      AccountingStatus
    </h3>
    
    
  </div>
  

  <p>The state of the Ledger's accounting configuration.</p>

    <div class='pre p1 fill-light mt0'>AccountingStatus</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>enabled</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>trackGrainIntegration</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>currency</span> <code class='quiet'>(Currency?)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mutableaccount'>
      MutableAccount
    </h3>
    
    
  </div>
  

  <p>Every Identity in the ledger has an Account.</p>

    <div class='pre p1 fill-light mt0'>MutableAccount</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>identity</span> <code class='quiet'>(Identity)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>balance</span> <code class='quiet'>(G.Grain)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>paid</span> <code class='quiet'>(G.Grain)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>allocationHistory</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#allocationreceipt">AllocationReceipt</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>active</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>payoutAddresses</span> <code class='quiet'>(<a href="#payableaddressstore">PayableAddressStore</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>mergedIdentityIds</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;IdentityId>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='mutableaccountbalance'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>balance</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>The current Grain balance of this account. All balances are zero when
accounting is disabled.</p>

    <div class='pre p1 fill-light mt0'>balance</div>
  
    <p>
      Type:
      G.Grain
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='payableaddressstore'>
      PayableAddressStore
    </h3>
    
    
  </div>
  

  <p>PayableAddressStore maps currencies to a participant's
address capable of accepting the currency. This structure exists to
accomodate safe migration for grain/payout token changes. Users must verify
themselves that the address they are supplying is capable of receiving their
share of a grain distribution.</p>

    <div class='pre p1 fill-light mt0'>PayableAddressStore</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="#currencykey">CurrencyKey</a>, PayoutAddress>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='ledger'>
      Ledger
    </h3>
    
    
  </div>
  

  <p>The Ledger is an append-only auditable data store which tracks</p>
<ul>
<li>Identities and what aliases they possess</li>
<li>Identities' grain balances</li>
</ul>
<p>Every time the ledger state is changed, a corresponding Action is added to
the ledger's action log. The ledger state may be serialized by saving the
action log, and then reconstructed by replaying the action log. The
corresponding methods are <code>actionLog</code> and <code>Ledger.fromActionLog</code>.</p>
<p>None of these methods are idempotent, since they all modify the Ledger state
on success by adding a new action to the log. Therefore, they will all fail
if they would not cause any change to the ledger's logical state, so as to
prevent the ledger from permanently accumulating no-op clutter in the log.</p>
<p>It's important that any API method that fails (e.g. trying to add a
conflicting identity) fails without mutating the ledger state; this way we avoid
ever getting the ledger in a corrupted state. To make this easier to test,
the test code uses deep equality testing on the ledger before/after
attempting illegal actions. To ensure that this testing works, we should
avoid adding any ledger state that can't be verified by deep equality
checking (e.g. don't store state in functions or closures that aren't
attached to the Ledger object).</p>
<p>Every Ledger action has a timestamp, and the Ledger's actions must always be
in timestamp-sorted order. Adding a new Action with a timestamp older than a
previous action is illegal.</p>

    <div class='pre p1 fill-light mt0'>new Ledger()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='ledgerfromeventlog'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fromEventLog(log)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reconstruct a Ledger from a LedgerLog.</p>

    <div class='pre p1 fill-light mt0'>fromEventLog(log: LedgerLog): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>log</span> <code class='quiet'>(LedgerLog)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerparse'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>parse(eventLog)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Parse events serialized as a JsonLog-style newline-delimited JSON
string (e.g., by <code>serialize</code>).</p>

    <div class='pre p1 fill-light mt0'>parse(eventLog: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventLog</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='ledgeraccounts'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>accounts()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return all the Accounts in the ledger.</p>

    <div class='pre p1 fill-light mt0'>accounts(): $ReadOnlyArray&#x3C;Account></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;Account></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgeraccount'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>account(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get the Account associated with a particular identity.</p>
<p>If the identity is not in the ledger, an error is thrown.</p>

    <div class='pre p1 fill-light mt0'>account(id: IdentityId): Account</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Account</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgernameavailable'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>nameAvailable(name)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return whether the IdentityName in question is available.</p>
<p>For convenience in test code (and consistency with createIdentity and renameIdentity),
the name is provided as a string. If the string is not a valid name, an error will be
thrown.</p>

    <div class='pre p1 fill-light mt0'>nameAvailable(name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgeraccountbyaddress'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>accountByAddress(address)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return the account matching a given NodeAddress, if one exists.</p>
<p>Returns null if there is no account matching that address.</p>

    <div class='pre p1 fill-light mt0'>accountByAddress(address: <a href="#nodeaddresst">NodeAddressT</a>): (Account | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(Account | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgeraccountbyname'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>accountByName(name)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return the account with the given name, if one exists.</p>
<p>Returns null if there is no account matching that address.</p>
<p>Note: This is case sensitive.</p>

    <div class='pre p1 fill-light mt0'>accountByName(name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): (Account | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(Account | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerallocation'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>allocation(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get the Allocation associated with a particular Allocation ID.</p>
<p>If the ID is not in the ledger, an error is thrown.</p>

    <div class='pre p1 fill-light mt0'>allocation(id: AllocationId): Allocation</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(AllocationId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Allocation</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerallocations'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>allocations()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get an Iterator over all Allocations in the order they occur in the Ledger.</p>

    <div class='pre p1 fill-light mt0'>allocations(): Iterator&#x3C;Allocation></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;Allocation></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdistribution'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>distribution(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get the Distribution associated with a particular Distribution ID.</p>
<p>If the ID is not in the ledger, an error is thrown.</p>

    <div class='pre p1 fill-light mt0'>distribution(id: DistributionId): <a href="#distribution">Distribution</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(DistributionId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#distribution">Distribution</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdistributions'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>distributions()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get an Iterator over all Distributions in the order they occur in the Ledger.</p>

    <div class='pre p1 fill-light mt0'>distributions(): Iterator&#x3C;<a href="#distribution">Distribution</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;<a href="#distribution">Distribution</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdistributionbyallocationid'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>distributionByAllocationId(allocationId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get the Distribution associated with a particular Allocation ID.</p>
<p>If the Allocation ID is not associated with a distribution, an error is thrown.</p>

    <div class='pre p1 fill-light mt0'>distributionByAllocationId(allocationId: AllocationId): <a href="#distribution">Distribution</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>allocationId</span> <code class='quiet'>(AllocationId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#distribution">Distribution</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgercreateidentity'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>createIdentity(type, name)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create an account in the ledger.</p>
<p>This will reserve the identity's name, and its innate address.</p>
<p>This returns the newly created Identity's ID, so that the caller
store it for future reference.</p>
<p>Will fail if the name is not valid, or already taken.</p>

    <div class='pre p1 fill-light mt0'>createIdentity(type: IdentityType, name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): IdentityId</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>type</span> <code class='quiet'>(IdentityType)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>IdentityId</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgermergeidentities'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>mergeIdentities(opts)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Merge two identities together.</p>
<p>One identity is considered the "base" and the other is the "target".
The target is absorbed into the base, meaning:</p>
<ul>
<li>Base gets the Grain balance, and lifetime paid amount added to its account.</li>
<li>Base gets every alias that the target had.</li>
<li>Base gets the target's own address as an alias.</li>
<li>The target account is removed from the ledger.</li>
<li>The target's login name is freed.</li>
</ul>
<p>Attempting to merge an identity that doesn't exist, or to merge an identity into
itself, will error.</p>

    <div class='pre p1 fill-light mt0'>mergeIdentities(opts: {base: IdentityId, target: IdentityId}): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>opts</span> <code class='quiet'>({base: IdentityId, target: IdentityId})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerrenameidentity'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>renameIdentity(identityId, newName)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Change a identity's name.</p>
<p>Will fail if no identity matches the identityId, or if the identity already has that
name, or if the identity's new name is claimed by another identity.</p>

    <div class='pre p1 fill-light mt0'>renameIdentity(identityId: IdentityId, newName: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>identityId</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgeraddalias'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>addAlias(identityId, alias)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Add an alias for a identity.</p>
<p>If that alias is associated with past Grain payments (because it
was unlinked from another identity), those past Grain payments will be
associated with the newly linked identity.</p>
<p>Will fail if the identity does not exist.
Will fail if the alias is already claimed by any identity.</p>

    <div class='pre p1 fill-light mt0'>addAlias(identityId: IdentityId, alias: <a href="#alias">Alias</a>): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>identityId</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>alias</span> <code class='quiet'>(<a href="#alias">Alias</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgeractivate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>activate(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Activate an account, making it eligible to send and recieve Grain.</p>
<p>If the account is already active, this will no-op (without emitting any
event).</p>

    <div class='pre p1 fill-light mt0'>activate(id: IdentityId): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdeactivate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>deactivate(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Deactivate an account, making it ineligible to send or recieve Grain.</p>
<p>The account's Grain balance will remain untouched until it is reactivated.</p>
<p>If the account is already inactive, this will no-op (without emitting any
event).</p>

    <div class='pre p1 fill-light mt0'>deactivate(id: IdentityId): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdistributegrain'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>distributeGrain(distribution)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Canonicalize a Grain distribution in the ledger.</p>
<p>Fails if any of the recipients are not active.</p>

    <div class='pre p1 fill-light mt0'>distributeGrain(distribution: <a href="#distribution">Distribution</a>): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>distribution</span> <code class='quiet'>(<a href="#distribution">Distribution</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgertransfergrain'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>transferGrain(opts)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Transfer Grain from one account to another.</p>
<p>Fails if the sender does not have enough Grain, or if the Grain amount is
negative.
Fails if either the sender or the receipient have not been activated.
Self-transfers are supported.
An optional memo may be added.</p>
<p>Note: The arguments need to be bundled together in an object with named
keys, to avoid getting confused about which positional argument is <code>from</code>
and which one is <code>to</code>.</p>

    <div class='pre p1 fill-light mt0'>transferGrain(opts: {from: IdentityId, to: IdentityId, amount: G.Grain, memo: (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | null)}): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>opts</span> <code class='quiet'>({from: IdentityId, to: IdentityId, amount: G.Grain, memo: (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | null)})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgersetpayoutaddress'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setPayoutAddress(id, payoutAddress, chainId, tokenAddress?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>setPayoutAddress allows participants to set a payable address to collect
grain. These addresses are keyed on a specific currency, which ensures that
users don't erroneously receive a grain distribution to an address that
cannot handle it (such as a custodial wallet, or rigidly-designed smart
contract) and effectively lose that reward.</p>
<p>An address may be deleted by passing in <code>null</code> for the
<code>payoutAddress</code> parameter. This is useful in case the underlying private key
is compromised or the exchange hosting a custodial account is hacked.</p>

    <div class='pre p1 fill-light mt0'>setPayoutAddress(id: IdentityId, payoutAddress: (PayoutAddress | null), chainId: ChainId, tokenAddress: EthAddress?): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(IdentityId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payoutAddress</span> <code class='quiet'>((PayoutAddress | null))</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>chainId</span> <code class='quiet'>(ChainId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tokenAddress</span> <code class='quiet'>(EthAddress?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerenableaccounting'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>enableAccounting()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Enabling accounting has the following effects on the ledger:</p>
<ul>
<li>enables grain transfers</li>
<li>all accounts will start with a zero balance again, which will accumulate
normally from distributions.</li>
</ul>
<p>This is the default behavior of the ledger for compatibility reasons.</p>

    <div class='pre p1 fill-light mt0'>enableAccounting(): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdisableaccounting'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>disableAccounting()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Disabling accounting has the following effects on the ledger:</p>
<ul>
<li>disables grain transfers</li>
<li>zeroes out all balances</li>
<li>deactivates accounts that don't have a PayoutAddress set for the
current instance configuration, and prevents them from activating until
they do.</li>
</ul>

    <div class='pre p1 fill-light mt0'>disableAccounting(): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerenableintegrationtracking'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>enableIntegrationTracking()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Enabling Integration Tracking has the following effects:</p>
<ul>
<li>Subsequent grain distributions are left as unexecuted until
<code>markDistributionAsExecuted</code> is called on it.</li>
<li>The <code>trackedDistributions</code> getter will return an array of distributionIds
created since tracking was enabled. Their statuses can be queried using
<code>isGrainIntegrationExecuted</code>.</li>
</ul>
<p>Integration Tracking can be enabled and disabled at any time.
Some integrations might error if tracking is not enabled, to ensure
their status is tracked in the ledger. This allows for the decoupling of
(1) calculating a grain distribution and then (2) actually distributing
it via the grain integration.</p>
<p>No-ops if integration tracking is already enabled</p>

    <div class='pre p1 fill-light mt0'>enableIntegrationTracking(): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerdisableintegrationtracking'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>disableIntegrationTracking()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Disabling Grain Integration Tracking has the following effects:</p>
<ul>
<li><code>trackedDistributions</code> getter will always return an empty iterator</li>
<li><code>markDistributionAsExecuted</code> will always error when called</li>
</ul>
<p>No-ops if integration tracking is already disabled</p>

    <div class='pre p1 fill-light mt0'>disableIntegrationTracking(): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgermarkdistributionexecuted'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>markDistributionExecuted(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Mark integrations as executed.
Validates that:
a) executions are tracked
b) executions are not yet marked as executed
c) distribution tracking is enabled</p>

    <div class='pre p1 fill-light mt0'>markDistributionExecuted(id: DistributionId): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(DistributionId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgersetexternalcurrency'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>setExternalCurrency(chainId, tokenAddress?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Setting a currency is a prerequisite to executing a grain integration.</p>
<p>When accounting is enabled, this function will set an external currency
in the ledger, but will not modify any accounts.</p>
<p>When accounting is disabled, this function can be called to update
the ledger's external currency configuration. Note that this will also
deactivate identities missing a payout address that matches the new
configuration when accounting is disabled.</p>

    <div class='pre p1 fill-light mt0'>setExternalCurrency(chainId: ChainId, tokenAddress: EthAddress?): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>chainId</span> <code class='quiet'>(ChainId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tokenAddress</span> <code class='quiet'>(EthAddress?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerremoveexternalcurrency'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>removeExternalCurrency()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Will throw if accounting is disabled</p>

    <div class='pre p1 fill-light mt0'>removeExternalCurrency(): <a href="#ledger">Ledger</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ledger">Ledger</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgeraccounting'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>accounting()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the state of the ledger's accounting configuration.</p>

    <div class='pre p1 fill-light mt0'>accounting(): <a href="#accountingstatus">AccountingStatus</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#accountingstatus">AccountingStatus</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerexternalcurrency'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>externalCurrency()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Expectably returns the currency from the
externalCurrency attribute. It throws if a currency is not set.</p>

    <div class='pre p1 fill-light mt0'>externalCurrency(): Currency</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Currency</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgertrackeddistributions'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>trackedDistributions()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>When integration tracking is disabled, an empty iterator is returned.</p>
<p>When integration tracking is enabled, the array of tracked
<code>DistributionIds</code> is returned</p>
<p>The iterator is cleared each time
<code>disableIntegrationTracking</code> is called.</p>

    <div class='pre p1 fill-light mt0'>trackedDistributions(): Iterator&#x3C;DistributionId></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Iterator&#x3C;DistributionId></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerisgrainintegrationexecuted'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>isGrainIntegrationExecuted(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns the status of a tracked distribution
If the distribution has not been executed by the integration, <code>false</code> is
returned.
If the distribution has been executed, <code>true</code> is returned.
If the distribution is untracked, <code>undefined</code> is returned.</p>

    <div class='pre p1 fill-light mt0'>isGrainIntegrationExecuted(id: DistributionId): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(DistributionId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgereventlog'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>eventLog()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Retrieve the log of all actions in the Ledger's history.</p>
<p>May be used to reconstruct the Ledger after serialization.</p>

    <div class='pre p1 fill-light mt0'>eventLog(): LedgerLog</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>LedgerLog</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerserialize'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>serialize()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Serialize the events as a JsonLog-style newline-delimited JSON
string.</p>

    <div class='pre p1 fill-light mt0'>serialize(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledgerlastdistributiontimestamp'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>lastDistributionTimestamp()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Return the cred-effective timestamp for the last Grain distribution.</p>
<p>We provide this because we may want to have a policy that issues one
distribution for each interval in the history of the project.</p>
<p>If there were never any distributions, then null will be returned.</p>

    <div class='pre p1 fill-light mt0'>lastDistributionTimestamp(): (<a href="#timestampms">TimestampMs</a> | null)</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="#timestampms">TimestampMs</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledger_deactivateaccountswithoutpayoutaddress'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_deactivateAccountsWithoutPayoutAddress()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Helper method for deactivating accounts that don't have a payout address
set for the configured <code>currencyKey</code></p>

    <div class='pre p1 fill-light mt0'>_deactivateAccountsWithoutPayoutAddress(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='ledger_eraseledgerbalances'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_eraseLedgerBalances()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Helper method for disabling accounting.</p>
<p>Zero out all balances, so there is no confusion about them.
By zeroing them out, they cannot be compared to external balances
in any meaningful way.</p>

    <div class='pre p1 fill-light mt0'>_eraseLedgerBalances(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='action'>
      Action
    </h3>
    
    
  </div>
  

  <p>The Actions are used to store the history of Ledger changes.</p>

    <div class='pre p1 fill-light mt0'>Action</div>
  
    <p>
      Type:
      (CreateIdentity | RenameIdentity | AddAlias | MergeIdentities | ToggleActivation | DistributeGrain | TransferGrain | ChangeIdentityType | SetPayoutAddress | EnableGrainIntegration | DisableGrainIntegration | MarkDistributionExecuted | EnableAccounting | DisableAccounting | SetExternalCurrency | RemoveExternalCurrency)
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='evmchainid'>
      EvmChainId
    </h3>
    
    
  </div>
  

  <p>EvmChainId is represented in the form of a stringified integer for all
EVM-based chains, including mainnet (1), and xDai (100).
The reason for this is that ethereum's client configuration utilizes
a number to represent chainId, and this way we can just transpose that
chainId here as a component of the currency Id, since the web3 client will
return a stringified integer when the chainId is requested.</p>

    <div class='pre p1 fill-light mt0'>EvmChainId</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='tokenaddress'>
      tokenAddress
    </h3>
    
    
  </div>
  

  <p>tokenAddress is a subset of all available EthAddresses.</p>
<p>A token address is the address of the token contract for an ERC20 token,
or the 20 byte-length equivalent of 0x0, which is the conventional address
used to represent ETH on the ethereum mainnet, or the native currency on an
EVM-based sidechain. See here for more details on these semantics:
<a href="https://ethereum.org/en/developers/docs/intro-to-ethereum/#eth">https://ethereum.org/en/developers/docs/intro-to-ethereum/#eth</a></p>

    <div class='pre p1 fill-light mt0'>tokenAddress</div>
  
    <p>
      Type:
      EthAddress
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='protocolsymbol'>
      ProtocolSymbol
    </h3>
    
    
  </div>
  

  <p>Example protocol symbols: "BTC" for bitcoin and "FIL" for Filecoin</p>

    <div class='pre p1 fill-light mt0'>ProtocolSymbol</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='protocol'>
      Protocol
    </h3>
    
    
  </div>
  

  <p>Chains like Bitcoin and Filecoin do not have "production" sidechains so
we represent them as a string, as specified in the ProtocolSymbol type</p>

    <div class='pre p1 fill-light mt0'>Protocol</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>type</span> <code class='quiet'>(<code>"PROTOCOL"</code>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>chainId</span> <code class='quiet'>(<a href="#protocolsymbol">ProtocolSymbol</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='currencykey'>
      CurrencyKey
    </h3>
    
    
  </div>
  

  <p>The Currency key must be stringified to ensure the data is retrievable.
Keying on the raw Currency object means keying on the object reference,
rather than the contents of the object.</p>

    <div class='pre p1 fill-light mt0'>CurrencyKey</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='random'>
      random
    </h3>
    
    
  </div>
  

  <p>Generate a uniformly random clean ID.</p>

    <div class='pre p1 fill-light mt0'>random(): Uuid</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Uuid</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromstring'>
      fromString
    </h3>
    
    
  </div>
  

  <p>Parse a serialized UUID. This is the left inverse of the trivial
injection from <code>Uuid</code> to <code>string</code>, and throws on invalid input.</p>

    <div class='pre p1 fill-light mt0'>fromString(s: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): Uuid</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>s</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Uuid</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parser'>
      parser
    </h3>
    
    
  </div>
  

  <p>Parse a serialized UUID. This expects to parse a JSON string value
with the same semantics as <code>fromString</code>.</p>

    <div class='pre p1 fill-light mt0'>parser</div>
  
    <p>
      Type:
      C.Parser&#x3C;Uuid>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getrandomvalues'>
      getRandomValues
    </h3>
    
    
  </div>
  

  <p>Fill the given buffer with cryptographically secure random bytes. The
buffer length must not exceed 65536.</p>

    <div class='pre p1 fill-light mt0'>getRandomValues(buf: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>buf</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='g'>
      G
    </h3>
    
    
  </div>
  

  <p>In SourceCred, projects regularly distribute Grain to contributors based on
their Cred scores. This is called a "Distribution". This module contains the
logic for computing distributions.</p>

    <div class='pre p1 fill-light mt0'>G</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='jsonlog'>
      JsonLog
    </h3>
    
    
  </div>
  

  <p>JsonLog tracks and serializes append-only logs of JSON values.</p>
<p>At its heart, it's basically a simple wrapper around an array, which
enforces the rule that items may be appended to it, but never removed.</p>
<p>It also provides serialization logic. We store the log as a
newline-delimited stream of JSON values, with a one-to-one correspondence
between POSIX lines and elements in the sequence. That is, the serialized
form of an element will never contain an embedded newline, and there are no
empty lines. JSON streams can be easily inspected and manipulatedwith tools
like <code>jq</code> as well as standard Unix filters, and can be stored and
transmitted efficiently in Git repositories thanks to packfiles and delta
compression.</p>
<p>Elements of a <code>JsonLog</code> are always parsed using a Combo.Parser, which
ensures type safety at runtime.</p>

    <div class='pre p1 fill-light mt0'>new JsonLog()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='applydistributions'>
      applyDistributions
    </h3>
    
    
  </div>
  

  <p>Iteratively compute and distribute Grain, based on the provided CredGraph,
into the provided Ledger, according to the specified DistributionPolicy.</p>
<p>Here are some examples of how it works:</p>
<ul>
<li>
<p>The last time there was a distribution was two days ago. Since then,
no new Cred Intervals have been completed. This method will no-op.</p>
</li>
<li>
<p>The last time there was a distribution was last week. Since then, one new
Cred Interval has been completed. The method will apply one Distribution.</p>
</li>
<li>
<p>The last time there was a distribution was a month ago. Since then, four
Cred Intervals have been completed. The method will apply four Distributions,
unless maxOldDistributions is set to a lower number (e.g. 2), in which case
that maximum number of distributions will be applied.</p>
</li>
</ul>
<p>It returns the list of applied distributions, which may be helpful for
diagnostics, printing a summary, etc.</p>

    <div class='pre p1 fill-light mt0'>applyDistributions(config: GrainConfig, credGrainView: <a href="#credgrainview">CredGrainView</a>, ledger: <a href="#ledger">Ledger</a>, currentTimestamp: <a href="#timestampms">TimestampMs</a>, allowMultipleDistributionsPerInterval: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>): $ReadOnlyArray&#x3C;<a href="#distribution">Distribution</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(GrainConfig)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGrainView</span> <code class='quiet'>(<a href="#credgrainview">CredGrainView</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>currentTimestamp</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>allowMultipleDistributionsPerInterval</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;<a href="#distribution">Distribution</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='computedistribution'>
      computeDistribution
    </h3>
    
    
  </div>
  

  <p>Compute a single Distribution using CredAccountData.</p>
<p>The distribution will include the provided policies.
It will be computed using only Cred intervals that are finished as of the
effectiveTimestamp.</p>
<p>Note: This method is untested as it is just a bit of plubming; flow gives me
confidence that the semantics are correct.
*</p>

    <div class='pre p1 fill-light mt0'>computeDistribution(policies: $ReadOnlyArray&#x3C;AllocationPolicy>, credGrainView: <a href="#credgrainview">CredGrainView</a>, effectiveTimestamp: <a href="#timestampms">TimestampMs</a>): <a href="#distribution">Distribution</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>policies</span> <code class='quiet'>($ReadOnlyArray&#x3C;AllocationPolicy>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGrainView</span> <code class='quiet'>(<a href="#credgrainview">CredGrainView</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>effectiveTimestamp</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#distribution">Distribution</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='grain'>
      Grain
    </h3>
    
    
  </div>
  

  <p>This module contains the types for tracking Grain, which is the native
project-specific, cred-linked token created in SourceCred instances. In
practice, projects can call these tokens anything they want, but we will
refer to the tokens as "Grain" throughout the codebase. The conserved
properties of all Grains are that they are minted/distributed based on cred
scores, and that they can be used to Boost contributions in a cred graph.</p>
<p>We track Grain using big integer arithmetic, so that we can be precise with
Grain values and avoid float imprecision issues. Following the convention of
ERC20 tokens, we track Grain at 18 decimals of precision, although we can
make this project-specific if there's a future need.</p>
<p>At rest, we represent Grain as strings. This is a convenient decision around
serialization boundaries, so that we can just directly stringify objects containing
Grain values and it will Just Work. The downside is that we need to convert them to/fro
string representations any time we need to do Grain arithmetic, which could create
perf hot spots. If so, we can factor out the hot loop and do them in a way
that has less overhead. You can see context for this decision in <a href="https://github.com/sourcecred/sourcecred/pull/1936">#1936</a> and <a href="https://github.com/sourcecred/sourcecred/pull/1938">#1938</a>.</p>
<p>Ideally, we would just use the native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a> type. However, at time of
writing it's not well supported by <a href="https://github.com/facebook/flow/issues/6639">flow</a> or Safari, so we use the
big-integer library. That library delegates out to native BigInt when
available, so this should be fine.</p>
<p>Since the big-integer library does have a sensible <code>toString</code> method defined
on the integers, we could switch to representing Grain at rest via
big-integers rather than as strings. However, this would require re-writing
a lot of test code. If perf becomes an issue that would be a principled fix.</p>

    <div class='pre p1 fill-light mt0'>Grain</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='format'>
      format
    </h3>
    
    
  </div>
  

  <p>Formats a grain balance as a human-readable number, dividing the
raw grain balance by <code>one</code>.</p>
<p>The client controls how many digits of precision are shown; by default, we
display zero digits. Grain balances will have commas added as
thousands-separators if the balance is greater than 1000g.</p>
<p>The client also specifies a suffix; by default, we use 'g' for grain.</p>
<p>Here are some examples of its behavior, pretending that we use 2 decimals
of precision for readability:</p>
<p>format(133700042n) === "1,337,000g"
format(133700042n, 2) === "1,337,000.42g"
format(133700042n, 2, "seeds") === "1,337,000.42seeds"
format(133700042n, 2, "") === "1,337,000.42"</p>

    <div class='pre p1 fill-light mt0'>format(grain: <a href="#grain">Grain</a>, decimals: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, suffix: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grain</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>decimals</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
            = <code>0</code>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>suffix</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
            = <code>DEFAULT_SUFFIX</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='formatandtrim'>
      formatAndTrim
    </h3>
    
    
  </div>
  

  <p>Formats a grain balance as a human-readable number using the format()
method, but trims any unnecessary decimal information.</p>
<p>The intended use is for UI presentation where less visual clutter is
desired.</p>
<p>Here are some examples of its behavior</p>
<p>formatAndTrim(100000000000000) === "0.0001g"
formatAndTrim(150000000000000000000) === "150g"
formatAndTrim(15000000000000000000000) === "15,000g"
formatAndTrim(15000000000000000000000, "seeds") === "15,000seeds"
formatAndTrim(15000000000000000000000, "") === "15,000"</p>

    <div class='pre p1 fill-light mt0'>formatAndTrim(grain: <a href="#grain">Grain</a>, suffix: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grain</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>suffix</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
            = <code>DEFAULT_SUFFIX</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='multiplyfloat'>
      multiplyFloat
    </h3>
    
    
  </div>
  

  <p>Multiply a grain amount by a floating point number.</p>
<p>Use this method when you need to multiply a grain balance by a floating
point number, e.g. a ratio.</p>
<p>Note that this method is imprecise. It is not safe to assume, for example,
that <code>multiply(g, 1/3) + multiply(g, 2/3) === g</code> due to loss of precision.
However, the errors will be small in absolute terms (i.e. tiny compared to
one full grain).</p>
<p>See some messy analysis of the numerical errors here:
<a href="https://observablehq.com/@decentralion/grain-arithmetic">https://observablehq.com/@decentralion/grain-arithmetic</a></p>

    <div class='pre p1 fill-light mt0'>multiplyFloat(grain: <a href="#grain">Grain</a>, num: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="#grain">Grain</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grain</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>num</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#grain">Grain</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='frominteger'>
      fromInteger
    </h3>
    
    
  </div>
  

  <p>Convert an integer number (in floating-point representation) into a precise
Grain value.</p>

    <div class='pre p1 fill-light mt0'>fromInteger(x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="#grain">Grain</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#grain">Grain</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromfloatstring'>
      fromFloatString
    </h3>
    
    
  </div>
  

  <p>Accept human-readable numbers strings and convert them to precise grain amounts</p>
<p>This is most useful for processing form input values before passing them
into the ledger, since all form fields return strings</p>
<p>In this case, a "float string" is a string that returns a number value
when passed into <code>parseFloat</code></p>
<p>The reason to circumvent any floating point values is to avoid losses in
precision. By modifying the string directly in a predictable pattern, we can
convert uer-generated floating point values to grain at full fidelity, and avoid
any fuzzy floating point arithmetic</p>
<p>The tradeoff here is around versatility. Values with more decimals than the
allowable precision will yield an error when passed in.</p>

    <div class='pre p1 fill-light mt0'>fromFloatString(x: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, precision: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="#grain">Grain</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>x</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>precision</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
            = <code>DECIMAL_PRECISION</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#grain">Grain</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromapproximatefloat'>
      fromApproximateFloat
    </h3>
    
    
  </div>
  

  <p>Approximately create a grain balance from a float.</p>
<p>This method tries to convert the floating point <code>amt</code> into a grain
balance. For example, <code>grain(1)</code> approximately equals <code>ONE</code>.</p>
<p>Do not assume this will be precise! For example, <code>grain(0.1337)</code> results in
<code>133700000000000016n</code>. This method is intended for test code.</p>
<p>This is a shorthand for <code>multiplyFloat(ONE, amt)</code>.</p>

    <div class='pre p1 fill-light mt0'>fromApproximateFloat(f: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="#grain">Grain</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>f</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#grain">Grain</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='tofloatratio'>
      toFloatRatio
    </h3>
    
    
  </div>
  

  <p>Approximates the division of two grain values</p>
<p>This naive implementation of grain division converts the given values
to floats and performs simple floating point division.</p>
<p>Do not assume this will be precise!</p>

    <div class='pre p1 fill-light mt0'>toFloatRatio(numerator: <a href="#grain">Grain</a>, denominator: <a href="#grain">Grain</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>numerator</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>denominator</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='splitbudget'>
      splitBudget
    </h3>
    
    
  </div>
  

  <p>Splits a budget of Grain proportional to floating-point scores.</p>
<p>splitBudget guarantees that the total amount distributed will precisely
equal the budget. This is a surprisingly challenging property to ensure, and
it explains the complexity of this algorithm. We stress-test the method with
extremely uneven share distribution (e.g. a split where some users' scores
are 10**100 larger than others).</p>
<p>The algorithm can be arbitrarily unfair at the atto-Grain level; for
example, in the case <code>splitBudget(fromString("1"), [1, 100])</code> it will give
all the Grain to the first account, even though it only has 1/100th the score
of the second account. However, since Grain is tracked with 18 decimal point
precision, these tiny biases mean very little in practice. In testing, when
splitting one full Grain (i.e. 10**18 attoGrain), we haven't seen discrepancies
over ~100 attoGrain, or one billion-million-th of a full Grain.</p>

    <div class='pre p1 fill-light mt0'>splitBudget(budget: <a href="#grain">Grain</a>, scores: $ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>): $ReadOnlyArray&#x3C;<a href="#grain">Grain</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>budget</span> <code class='quiet'>(<a href="#grain">Grain</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>scores</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;<a href="#grain">Grain</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='budgetremaining'>
      budgetRemaining
    </h3>
    
    
  </div>
  

  <p>Uncomment below if you want to measure the discrepancy caused by
forcing fracion=1 whenever fraction > 1.</p>
<p>In testing, when distributing one full Grain across wildly unequal
scores, it never produced more than ~hundreds of attoGrain discrepancy.</p>

    <div class='pre p1 fill-light mt0'>budgetRemaining</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='add'>
      add
    </h3>
    
    
  </div>
  

  <p>Uncomment below if you want to measure the discrepancy caused by this
"giveaway-leftovers" approach. In testing, when run with wildly varying
shares, it never produced more than ~hundreds of attoGrain discrepancy.</p>

    <div class='pre p1 fill-light mt0'>add</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='serializedcurrencydetails'>
      SerializedCurrencyDetails
    </h3>
    
    
  </div>
  

  <p>Shape of currencyDetails.json on disk</p>

    <div class='pre p1 fill-light mt0'>SerializedCurrencyDetails</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>currencyName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>currencySuffix</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>decimalsToDisplay</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>?)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>integrationCurrency</span> <code class='quiet'>(IntegrationCurrency?)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='currencydetails'>
      CurrencyDetails
    </h3>
    
    
  </div>
  

  <p>Shape of currencyDetails json in memory after parsing</p>

    <div class='pre p1 fill-light mt0'>CurrencyDetails</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>name</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>suffix</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>decimals</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>integrationCurrency</span> <code class='quiet'>(IntegrationCurrency?)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='upgrade'>
      upgrade
    </h3>
    
    
  </div>
  

  <p>Utilized by combo.fmap to enforce default currency values
when parsing. This engenders a "canonical default" since there
will be no need to add default fallbacks when handling currency
detail values after parsing the serialized file.</p>

    <div class='pre p1 fill-light mt0'>upgrade(c: <a href="#serializedcurrencydetails">SerializedCurrencyDetails</a>): <a href="#currencydetails">CurrencyDetails</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>c</span> <code class='quiet'>(<a href="#serializedcurrencydetails">SerializedCurrencyDetails</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#currencydetails">CurrencyDetails</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='alias'>
      Alias
    </h3>
    
    
  </div>
  

  <p>An Alias is basically another graph Node which resolves to this identity. We
ignore the timestamp because it's generally not significant for users; we
keep the address out of obvious necessity, and we keep the description so we
can describe this alias in UIs (e.g. the ledger admin panel).</p>

    <div class='pre p1 fill-light mt0'>Alias</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>description</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='weightoperand'>
      WeightOperand
    </h3>
    
    
  </div>
  

  <p>A leaf node in the Expression tree structure. It represents a trait that can
be weighted atomically.</p>

    <div class='pre p1 fill-light mt0'>WeightOperand</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>key</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>subkey</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='expression'>
      Expression
    </h3>
    
    
  </div>
  

  <p>A recursive type that forms a tree-like structure of algebraic expressions. Can
be evaluated as OPERATOR(...weightOperands, ...expressionOperands).</p>
<p>For example, if the operator is ADD, an expression could be written as:
weightOperand1 + weightOperand2 + expressionOperand1 + ...</p>
<p>The recursive nature of this type allows complex composition of expressions:
ADD(..., MULTIPLY(..., ADD(...)), MAX(...))</p>

    <div class='pre p1 fill-light mt0'>Expression</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>operator</span> <code class='quiet'>(OperatorOrKey)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>description</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>weightOperands</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#weightoperand">WeightOperand</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>expressionOperands</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#expression">Expression</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='expressionoperator'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>operator</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A string from the Operator enum type (ADD, MUPTIPLY, MAX, ...)
OR an OperatorConfig key that is an arbitrary string prefixed by "key:"</p>

    <div class='pre p1 fill-light mt0'>operator</div>
  
    <p>
      Type:
      OperatorOrKey
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='expressiondescription'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>description</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>An arbitrary string describing the level of abstraction / semantic
significance / granularity of this expression.</p>

    <div class='pre p1 fill-light mt0'>description</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='expressionweightoperands'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>weightOperands</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>An array of WeightOperand leaf nodes that are children of this Expression node. Will
be included as operands when the operator is applied.</p>

    <div class='pre p1 fill-light mt0'>weightOperands</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;<a href="#weightoperand">WeightOperand</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='expressionexpressionoperands'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>expressionOperands</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>An array of Expression nodes that are children of this Expression node. Will
be recursively evaluated and then included as operands when the operator is
applied.</p>

    <div class='pre p1 fill-light mt0'>expressionOperands</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;<a href="#expression">Expression</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='contribution'>
      Contribution
    </h3>
    
    
  </div>
  

  <p>A granular contribution that contains the root node of an Expression tree
and also has an outgoing array of participants, creating a DAG-like structure.</p>
<p>Responsible for timestamping, containing granular participation details, and
linking Expressions to Participants.</p>

    <div class='pre p1 fill-light mt0'>Contribution</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>plugin</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>type</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>expression</span> <code class='quiet'>(<a href="#expression">Expression</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>participants</span> <code class='quiet'>($ReadOnlyArray&#x3C;{id: <a href="#nodeaddresst">NodeAddressT</a>, shares: $ReadOnlyArray&#x3C;<a href="#weightoperand">WeightOperand</a>>}>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getweight'>
      getWeight
    </h3>
    
    
  </div>
  

  <p>If the subkey is found, returns the subkey's weight.
If the subkey is not found, returns the key's default.
Throws if the key has not been set in the configuration.</p>

    <div class='pre p1 fill-light mt0'>getWeight($0: <a href="#weightoperand">WeightOperand</a>, config: <a href="#weightconfig">WeightConfig</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(<a href="#weightoperand">WeightOperand</a>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>$0.key</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>$0.subkey</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="#weightconfig">WeightConfig</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='hasexplicitweight'>
      hasExplicitWeight
    </h3>
    
    
  </div>
  

  <p>Returns true if the subkey exists in the subkeys array of the key.
Returns false if the subkey does not exist in the subkeys array.
Throws if the key has not been set in the configuration.</p>

    <div class='pre p1 fill-light mt0'>hasExplicitWeight($0: <a href="#weightoperand">WeightOperand</a>, config: <a href="#weightconfig">WeightConfig</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>$0</span> <code class='quiet'>(<a href="#weightoperand">WeightOperand</a>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>$0.key</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>$0.subkey</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="#weightconfig">WeightConfig</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='weightconfig'>
      WeightConfig
    </h3>
    
    
  </div>
  

  <p>Semantically, allows weight configuration of different qualities/characteristics of
contributions.</p>
<p>Technically, a once-nested key-value store that maps key-subkey pairs to weights and
specifies a default weight at the key-level that can be used when a queried subkey
is not found.</p>
<p>A Discord-based example might look like:
{
"key": "channel",
"default": 1,
"subkeys": [
{ "subkey": "12345678", memo: "props", weight: 3 }
]
}</p>

    <div class='pre p1 fill-light mt0'>WeightConfig</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{key: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, default: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, subkeys: $ReadOnlyArray&#x3C;{subkey: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, memo: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, weight: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}>}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='weightconfigkey'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>key</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Arbitrary string enumerated by a plugin developer.</p>

    <div class='pre p1 fill-light mt0'>key</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='weightconfigdefault'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>default</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>The weight used when a queried subkey is not found.</p>

    <div class='pre p1 fill-light mt0'>default</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='weightconfigsubkeys'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>subkeys</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A key-value store mapping platform-based identifiers to weights.</p>

    <div class='pre p1 fill-light mt0'>subkeys</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{subkey: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, memo: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, weight: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='weightconfigsubkeyssubkey'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>subkey</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Potentially arbitrary, but most likely a platform-specific identifier</p>

    <div class='pre p1 fill-light mt0'>subkey</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='weightconfigsubkeysmemo'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>memo</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>An optional human-readable description of the subkey</p>

    <div class='pre p1 fill-light mt0'>memo</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='weightconfigsubkeysweight'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>weight</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>An algebraic constant/coefficient that defines the semantic value of
the subkey</p>

    <div class='pre p1 fill-light mt0'>weight</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='operatorconfig'>
      OperatorConfig
    </h3>
    
    
  </div>
  

  <p>A key-value store of configured operators, allowing the configuration of
operators within an expression. For example, one might be able to
configure that emoji reactions be added or multiplied.</p>

    <div class='pre p1 fill-light mt0'>OperatorConfig</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{key: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, operator: Operator}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='operatorconfigkey'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>key</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Arbitrary string enumerated by a plugin developer. NOT prefixed.</p>

    <div class='pre p1 fill-light mt0'>key</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='operatorconfigoperator'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>operator</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>The operator that should be applied wherever the key is found.</p>

    <div class='pre p1 fill-light mt0'>operator</div>
  
    <p>
      Type:
      Operator
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='rawconfig'>
      RawConfig
    </h3>
    
    
  </div>
  

  <p>Wraps the other config types, and defines a time scope via a start date.
The end date will be inferred as the next highest start date in an array
of Configs.</p>

    <div class='pre p1 fill-light mt0'>RawConfig</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>memo</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>startDate</span> <code class='quiet'>(TimestampISO)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>weights</span> <code class='quiet'>(<a href="#weightconfig">WeightConfig</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>operators</span> <code class='quiet'>(<a href="#operatorconfig">OperatorConfig</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>shares</span> <code class='quiet'>(<a href="#weightconfig">WeightConfig</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='rawconfigmemo'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>memo</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A note or a human-readable description to make it easier to recognize this config. *</p>

    <div class='pre p1 fill-light mt0'>memo</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='rawconfigsbytarget'>
      RawConfigsByTarget
    </h3>
    
    
  </div>
  

  <p>Groups Configs together by target strings that may represent
a server ID/endpoint, a repository name, etc.</p>

    <div class='pre p1 fill-light mt0'>RawConfigsByTarget</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='memo'>
      memo
    </h3>
    
    
  </div>
  

  <p>A note or a human-readable description to make it easier to recognize this config. *</p>

    <div class='pre p1 fill-light mt0'>memo</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getoperator'>
      getOperator
    </h3>
    
    
  </div>
  

  <p>Takes a prefixed key and returns the configured operator queried by the
non-prefixed key.
Throws if the input is not properly prefixed.
Throws if the key has not been set in the configuration.
Throws if the configured operator is not a valid operator.</p>

    <div class='pre p1 fill-light mt0'>getOperator(rawKey: OperatorOrKey, config: Config): Operator</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rawKey</span> <code class='quiet'>(OperatorOrKey)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(Config)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Operator</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getearlieststartforconfigs'>
      getEarliestStartForConfigs
    </h3>
    
    
  </div>
  

  <p>Utility function for getting the earliest start time of all configs in an array
of ConfigsByTarget.</p>

    <div class='pre p1 fill-light mt0'>getEarliestStartForConfigs(configsByTargetArray: $ReadOnlyArray&#x3C;ConfigsByTarget>): <a href="#timestampms">TimestampMs</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>configsByTargetArray</span> <code class='quiet'>($ReadOnlyArray&#x3C;ConfigsByTarget>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#timestampms">TimestampMs</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='timestampms'>
      TimestampMs
    </h3>
    
    
  </div>
  

  <p>We have a convention of using TimestampMs as our default representation.
However TimestampISO has the benefit of being human readable / writable,
so it's used for serialization and display as well.
We'll validate types at runtime, as there's a fair chance we'll use these
functions to parse data that came from a Flow <code>any</code> type (like JSON).</p>

    <div class='pre p1 fill-light mt0'>TimestampMs</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='toiso'>
      toISO
    </h3>
    
    
  </div>
  

  <p>Creates a TimestampISO from a TimestampMs-like input.</p>
<p>Since much of the previous types have used <code>number</code> as a type instead of
TimestampMs. Accepting <code>number</code> will give an easier upgrade path, rather
than a forced refactor across the codebase.</p>

    <div class='pre p1 fill-light mt0'>toISO(timestampLike: (<a href="#timestampms">TimestampMs</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)): TimestampISO</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestampLike</span> <code class='quiet'>((<a href="#timestampms">TimestampMs</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>))</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>TimestampISO</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromiso'>
      fromISO
    </h3>
    
    
  </div>
  

  <p>Creates a TimestampMs from a TimestampISO.</p>

    <div class='pre p1 fill-light mt0'>fromISO(timestampISO: (TimestampISO | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)): <a href="#timestampms">TimestampMs</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestampISO</span> <code class='quiet'>((TimestampISO | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>))</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#timestampms">TimestampMs</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validatetimestampms'>
      validateTimestampMs
    </h3>
    
    
  </div>
  

  <p>Validate that a number is potentially a valid timestamp.</p>
<p>This checks that the number is a finite integer, which avoids some potential
numbers that are not valid timestamps.</p>

    <div class='pre p1 fill-light mt0'>validateTimestampMs(timestampMs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="#timestampms">TimestampMs</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#timestampms">TimestampMs</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='ledgerstorage'>
      LedgerStorage
    </h3>
    
    
  </div>
  

  <p>Generic adaptor for persisting a Ledger to some storage backend
(e.g. GitHub, local filesystem, a database, etc)</p>

    <div class='pre p1 fill-light mt0'>LedgerStorage</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_getlocalchanges'>
      _getLocalChanges
    </h3>
    
    
  </div>
  

  <p>Returns a list of LedgerEvents that have not been persisted to storage yet</p>

    <div class='pre p1 fill-light mt0'>_getLocalChanges(remoteLedger: <a href="#ledger">Ledger</a>): LedgerDiff</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>remoteLedger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>LedgerDiff</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_getremotechanges'>
      _getRemoteChanges
    </h3>
    
    
  </div>
  

  <p>Returns a list of LedgerEvents in the persisted ledger that have not been
applied to the local ledger.</p>

    <div class='pre p1 fill-light mt0'>_getRemoteChanges(remoteLedger: <a href="#ledger">Ledger</a>): LedgerDiff</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>remoteLedger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>LedgerDiff</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='persist'>
      persist
    </h3>
    
    
  </div>
  

  <p>Persists the local (in-memory) Ledger to the ledger storage. Reloads the
remote ledger from storage right before persisting it to minimize the
possibility of overwriting remote changes that were not synced to the local
ledger and ensure consistency of the ledger events (e.g. no double spends).</p>
<p>A race condition is present in this function: if client A runs reloadLedger
and then client B writes to the remote ledger before client A finishes writing,
then the changes to the ledger that client B made would be overwritten by the
changes from client A. The correctness and consistency of the ledger will still
be maintained, its just that client B might experience data loss of whatever
events they were trying to sync. To detect if this has occurred, we reload
the ledger again after writing the data to ensure the local changes were
not overwritten. If they were, we can show an error message to client B with
a list of changes that failed to sync.</p>

    <div class='pre p1 fill-light mt0'>persist(storageSetArgs: ...<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;any>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ReloadResult></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>storageSetArgs</span> <code class='quiet'>(...<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;any>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ReloadResult></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='reloadledger'>
      reloadLedger
    </h3>
    
    
  </div>
  

  <p>Reloads the persisted Ledger from storage and replays any local changes
on top of any new remote changes, if they exist.</p>
<p>Will return the list of new remote changes as well as a list of local
changes that have not been persisted yet. This data is useful for the
end user to know:</p>
<ul>
<li>what changes they have yet to save</li>
<li>what new remote changes have been applied</li>
<li>if there are any inconsistencies as a result of new remote changes that
conflict with the local changes (e.g. double spend)</li>
</ul>

    <div class='pre p1 fill-light mt0'>reloadLedger(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ReloadResult></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ReloadResult></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='diffledger'>
      diffLedger
    </h3>
    
    
  </div>
  

  <p>Returns an array of ledger events that exist in ledger "a" but not in "b".
An event is considered equal to another if it has the same uuid.</p>
<p>This will not return any events from "b" that don't exist in "a", so the
order of the params matters.</p>
<p>Example 1:</p>
<ul>
<li>Ledger A: [1, 2, 3]</li>
<li>Ledger B: [1, 3, 4, 5]</li>
<li>Returns: [2]</li>
</ul>
<p>Example 2:</p>
<ul>
<li>Ledger A: [1, 3, 4, 5]</li>
<li>Ledger B: [1, 2, 3]</li>
<li>Returns: [4, 5]</li>
</ul>

    <div class='pre p1 fill-light mt0'>diffLedger(a: <a href="#ledger">Ledger</a>, b: <a href="#ledger">Ledger</a>): LedgerDiff</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>a</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>b</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>LedgerDiff</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
  </div>
  

  <p>get method loads the content specified by path in the GitHub repository.</p>

    <div class='pre p1 fill-light mt0'>get(path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    relative path to the content.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></code>:
        
      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='credrank'>
      credrank
    </h3>
    
    
  </div>
  

  <p>A primary SourceCred API that combines the given inputs into a single
WeightedGraph and then runs the CredRank algorithm on it to create a CredGraph
containing the cred scores of nodes/participants.</p>
<p>Might mutate the ledger that is passed in.</p>

    <div class='pre p1 fill-light mt0'>credrank(input: CredrankInput): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredrankOutput></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(CredrankInput)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredrankOutput></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='credrank'>
      credrank
    </h3>
    
    
  </div>
  

  <p>Compute CredRank results given a WeightedGraph, a Ledger, and optional
parameters.</p>

    <div class='pre p1 fill-light mt0'>credrank(weightedGraph: <a href="#weightedgraph">WeightedGraph</a>, ledger: <a href="#ledger">Ledger</a>, personalAttributions: <a href="#personalattributions">PersonalAttributions</a>, markovProcessGraphParameters: $Shape&#x3C;MarkovProcessGraphParameters>, pagerankOptions: $Shape&#x3C;<a href="#pagerankoptions">PagerankOptions</a>>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredGraph></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>weightedGraph</span> <code class='quiet'>(<a href="#weightedgraph">WeightedGraph</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>personalAttributions</span> <code class='quiet'>(<a href="#personalattributions">PersonalAttributions</a>
            = <code>[]</code>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>markovProcessGraphParameters</span> <code class='quiet'>($Shape&#x3C;MarkovProcessGraphParameters>
            = <code>{}</code>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pagerankOptions</span> <code class='quiet'>($Shape&#x3C;<a href="#pagerankoptions">PagerankOptions</a>>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredGraph></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='c'>
      C
    </h3>
    
    
  </div>
  

  <p>This module defines configuration for the Dependencies system, a system
which allows a project to mint excess Cred for its dependencies.</p>
<p>To learn about the semantics of the dependencies system, read the module
docstring for core/bonusMinting.js</p>
<p>At a high level, this config type allows the instance maintainer to specify
identities (usually PROJECT-type identities) to mint extra Cred over time,
as a fraction of the baseline instance Cred.</p>
<p>In the future, we'll likely build a UI to manage this config. However, right
now it's designed for hand-editability. Also, we really want to be able to
ship a default config that adds a SourceCred account (if one doesn't already
exist), activates it (if it was just created), and then flows it some Cred.</p>
<p>With that in mind, here's how the config works:</p>
<ul>
<li>User makes a new config, specifying a name for the identity. The user does
not manually write in an id.</li>
<li>The config is validated against the ledger. If the config has an id, we
verify that there's a matching identity in the ledger with that name
(erroring if not). If the config doesn't have an id, we check if there is
an identity in the ledger with that name. If there is, we write the id
into the config. If there isn't, we create a new identity with the name,
activate it (if told to do so by the config), and then write the id into
the config.</li>
<li>Afterwards, we save the config (which is guaranteed to have an id) back to
disk.</li>
</ul>
<p>You'll note that the state in the config is a mix of human generated
(choosing the name) and automatically maintained (the id). It's something of
a weird compromise, but it accomplishes the design objective of having state
that's easy for humans to write by hand, but also tracks the vital
information by identity id (which is immutable) rather than by name (which
is re-nameable).</p>
<p>Note that at present, when the identity in question is re-named, the config
must be manually updated to account for the rename. In the future (when the
config is automatically maintained) we'll remove this requirement. (Likely
we'll stop tracking the identities by name at all in the config; that's an
affordance to make the files generatable by hand.)</p>

    <div class='pre p1 fill-light mt0'>C</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='processedbonuspolicy'>
      ProcessedBonusPolicy
    </h3>
    
    
  </div>
  

  <p>The ProcessedBonusPolicy is a BonusPolicy which has
been transformed so that it matches the abstractions available when
we're doing raw cred computation: instead of an address, we track an index
into the canonical node order, and rather than arbitrary client-provided
periods, we compute the weight for each Interval.</p>
<p>TODO(#1686, @decentralion): Remove this once we switch to CredRank.</p>

    <div class='pre p1 fill-light mt0'>ProcessedBonusPolicy</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>nodeIndex</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>intervalWeights</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeweightevaluator'>
      nodeWeightEvaluator
    </h3>
    
    
  </div>
  

  <p>Given the weights and types, produce a NodeWeightEvaluator, which assigns a
numerical weight to any node.</p>
<p>The weights are interpreted as prefixes, i.e. a given address may match
multiple weights. When this is the case, the matching weights are multiplied
together. When no weights match, a default weight of 1 is returned.</p>
<p>We currently take the NodeTypes and use them to 'fill in' default type
weights if no weight for the type's prefix is explicitly set. This is a
legacy affordance; shortly we will remove the NodeTypes and require that the
plugins provide the type weights when the Weights object is constructed.</p>

    <div class='pre p1 fill-light mt0'>nodeWeightEvaluator(weights: <a href="#weightst">WeightsT</a>): NodeWeightEvaluator</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>weights</span> <code class='quiet'>(<a href="#weightst">WeightsT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>NodeWeightEvaluator</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgeweightevaluator'>
      edgeWeightEvaluator
    </h3>
    
    
  </div>
  

  <p>Given the weights and the types, produce an EdgeWeightEvaluator,
which will assign an EdgeWeight to any edge.</p>
<p>The edge weights are interpreted as prefix matchers, so a single edge may
match zero or more EdgeWeights. The weight for the edge will be the product
of all matching EdgeWeights (with 1 as the default forwards and backwards
weight.)</p>
<p>The types are used to 'fill in' extra type weights. This is a temporary
state of affairs; we will change plugins to include the type weights
directly in the weights object, so that producing weight evaluators will no
longer depend on having plugin declarations on hand.</p>

    <div class='pre p1 fill-light mt0'>edgeWeightEvaluator(weights: <a href="#weightst">WeightsT</a>): EdgeWeightEvaluator</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>weights</span> <code class='quiet'>(<a href="#weightst">WeightsT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>EdgeWeightEvaluator</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
  </div>
  

  <p>Create an empty trie backed by the given address module.</p>

    <div class='pre p1 fill-light mt0'>constructor(m: AddressModule&#x3C;K>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>m</span> <code class='quiet'>(AddressModule&#x3C;K>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='add'>
      add
    </h3>
    
    
  </div>
  

  <p>Add key <code>k</code> to this trie with value <code>v</code>. Return <code>this</code>.</p>

    <div class='pre p1 fill-light mt0'>add(k: K, val: V): this</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>k</span> <code class='quiet'>(K)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>val</span> <code class='quiet'>(V)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>this</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
  </div>
  

  <p>Get the values in this trie along the path to <code>k</code>.</p>
<p>More specifically, this method has the following observable
behavior. Let <code>inits</code> be the list of all prefixes of <code>k</code>, ordered
by length (shortest to longest). Observe that the length of <code>inits</code>
is <code>n + 1</code>, where <code>n</code> is the number of parts of <code>k</code>; <code>inits</code> begins
with the empty address and ends with <code>k</code> itself. Initialize the
result to an empty array. For each prefix <code>p</code> in <code>inits</code>, if <code>p</code>
was added to this trie with value <code>v</code>, then append <code>v</code> to
<code>result</code>. Return <code>result</code>.</p>

    <div class='pre p1 fill-light mt0'>get(k: K): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;V></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>k</span> <code class='quiet'>(K)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;V></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getlast'>
      getLast
    </h3>
    
    
  </div>
  

  <p>Get the last stored value <code>v</code> in the path to key <code>k</code>.
Returns undefined if no value is available.</p>

    <div class='pre p1 fill-light mt0'>getLast(k: K): V?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>k</span> <code class='quiet'>(K)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>V?</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='intervallength'>
      IntervalLength
    </h3>
    
    
  </div>
  

  <p>This module adds logic for imposing a Cred minting budget on a graph.</p>
<p>Basically, we allow specifiying a budget where nodes matching a particular
address may mint at most a fixed amount of Cred per period. Since every
plugin writes nodes with a distinct prefix, this may be used to specify
plugin-level Cred budgets. The same mechanism could also be used to
implement more finely-grained budgets, e.g. for specific node types.</p>

    <div class='pre p1 fill-light mt0'>IntervalLength</div>
  
    <p>
      Type:
      <code>"WEEKLY"</code>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='applybudget'>
      applyBudget
    </h3>
    
    
  </div>
  

  <p>Given a WeightedGraph and a budget, return a new WeightedGraph which ensures
that the budget constraint is satisfied.</p>
<p>Concretely, this means that the weights in the Graph may be reduced, as
necessary, in order to bring the total minted Cred within an interval down
to the budget's requirements.</p>

    <div class='pre p1 fill-light mt0'>applyBudget(wg: WeightedGraphT, budget: Budget): WeightedGraphT</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>wg</span> <code class='quiet'>(WeightedGraphT)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>budget</span> <code class='quiet'>(Budget)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>WeightedGraphT</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_computereweighting'>
      _computeReweighting
    </h3>
    
    
  </div>
  

  <p>Given the WeightedGraph and the Budget, returns an array of every {addres,
weight} pair where the address needs to be re-weighted in order to satisfy
the budget constraint.</p>

    <div class='pre p1 fill-light mt0'>_computeReweighting(wg: WeightedGraphT, budget: Budget): Reweighting</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>wg</span> <code class='quiet'>(WeightedGraphT)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>budget</span> <code class='quiet'>(Budget)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Reweighting</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_reweightingforentry'>
      _reweightingForEntry
    </h3>
    
    
  </div>
  

  <p>Given a the time-partitioned graph, the weight evaluator, and a particular
entry for the budget, return every {address, weight} pair where the
corresponding address needs to be reweighted in order to satisfy this budget
entry.</p>

    <div class='pre p1 fill-light mt0'>_reweightingForEntry(args: {evaluator: NodeWeightEvaluator, partition: GraphIntervalPartition, entry: BudgetEntry}): Reweighting</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>args</span> <code class='quiet'>({evaluator: NodeWeightEvaluator, partition: GraphIntervalPartition, entry: BudgetEntry})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Reweighting</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_reweightgraph'>
      _reweightGraph
    </h3>
    
    
  </div>
  

  <p>Given a WeightedGraph and the reweighting, return a new WeightedGraph which
has had its weights updated accordingly, without mutating the original
WeightedGraph.</p>

    <div class='pre p1 fill-light mt0'>_reweightGraph(wg: WeightedGraphT, reweighting: Reweighting): WeightedGraphT</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>wg</span> <code class='quiet'>(WeightedGraphT)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>reweighting</span> <code class='quiet'>(Reweighting)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>WeightedGraphT</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_anycommonprefixes'>
      _anyCommonPrefixes
    </h3>
    
    
  </div>
  

  <p>Given an array of node addresses, return true if any node address is a prefix
of another address.</p>
<p>This method runs in O(n^2). This should be fine because it's intended to be
run on small arrays (~one per plugin). If this becomes a performance
hotpsot, we can write a more performant version.</p>

    <div class='pre p1 fill-light mt0'>_anyCommonPrefixes(addresses: $ReadOnlyArray&#x3C;<a href="#nodeaddresst">NodeAddressT</a>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>addresses</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#nodeaddresst">NodeAddressT</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='markovprocessgraphpagerank'>
      markovProcessGraphPagerank
    </h3>
    
    
  </div>
  

  <p>Given a MarkovProcessGraph, compute PageRank scores on it.</p>

    <div class='pre p1 fill-light mt0'>markovProcessGraphPagerank(mpg: MarkovProcessGraph, options: $Shape&#x3C;<a href="#pagerankoptions">PagerankOptions</a>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredGraph></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>mpg</span> <code class='quiet'>(MarkovProcessGraph)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>($Shape&#x3C;<a href="#pagerankoptions">PagerankOptions</a>>
            = <code>{}</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredGraph></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='personalattributionsconfig'>
      PersonalAttributionsConfig
    </h3>
    
    
  </div>
  

  <p>This type resembles the JSON schema for configuring personal attributions,
which allows participants to attribute their cred to other participants.
This feature should not be used to make cred sellable/transferable, but
instead is intended to allow participants to acknowledge that a portion of
their credited outputs are directly generated/supported by the labor of
others. (e.g. when a contributor has a personal assistant working behind the
scenes)</p>

    <div class='pre p1 fill-light mt0'>PersonalAttributionsConfig</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;{fromParticipantName: <a href="#name">Name</a>, fromParticipantId: IdentityId?, recipients: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;{toParticipantName: <a href="#name">Name</a>, toParticipantId: IdentityId?, proportions: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;{startDate: TimestampISO, decimalProportion: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}>}>}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='updatepersonalattributionsconfig'>
      updatePersonalAttributionsConfig
    </h3>
    
    
  </div>
  

  <p>Adds the IdentityIds where only IdentityNames are provided, and updates names
and ids to reflect the account's current identity after merging/renaming.</p>

    <div class='pre p1 fill-light mt0'>updatePersonalAttributionsConfig(config: <a href="#personalattributionsconfig">PersonalAttributionsConfig</a>, ledger: <a href="#ledger">Ledger</a>): <a href="#personalattributionsconfig">PersonalAttributionsConfig</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="#personalattributionsconfig">PersonalAttributionsConfig</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#personalattributionsconfig">PersonalAttributionsConfig</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='contributions'>
      contributions
    </h3>
    
    
  </div>
  

  <p>Iterates through the provided plugins, runs their <code>contributions</code> and
<code>identities</code> processes, and updates the ledger with any new IdentityProposals.</p>
<p>Might mutate the ledger that is passed in.</p>

    <div class='pre p1 fill-light mt0'>contributions(input: ContributionsInput, taskReporter: TaskReporter): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ContributionsOutput></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(ContributionsInput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>taskReporter</span> <code class='quiet'>(TaskReporter
            = <code>new SilentTaskReporter()</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ContributionsOutput></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loggingtaskreporter'>
      LoggingTaskReporter
    </h3>
    
    
  </div>
  

  <p>This class is a lightweight utility for reporting task progress to the
command line.</p>
<ul>
<li>When a task is started, it's printed to the CLI with a " GO " label.</li>
<li>When it's finished, it's printed with a "DONE" label, along with the time</li>
</ul>
<p>elapsed.</p>
<ul>
<li>Tasks are tracked and represented by string id.</li>
<li>The same task id may be re-used after the first task with that id is</li>
</ul>
<p>finished.</p>

    <div class='pre p1 fill-light mt0'>new LoggingTaskReporter(consoleLog: ConsoleLog?, getTime: GetTime?)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>consoleLog</span> <code class='quiet'>(ConsoleLog?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>getTime</span> <code class='quiet'>(GetTime?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='silenttaskreporter'>
      SilentTaskReporter
    </h3>
    
    
  </div>
  

  <p>SilentTaskReporter is a task reporter that collects some information, but does not
emit any visible notifications.</p>
<p>It can be used for testing purposes, or as a default TaskReporter for cases where
we don't want to default to emitting anything to console.</p>
<p>Rather than emitting any messages or taking timing information, it allows retrieving
the sequence of task updates that were sent to the reporter.
This makes it easy for test code to verify that the TaskReporter was sent the right
sequence of tasks.</p>
<p>Callers can also check what tasks are still active (e.g. to verify that there are no
active tasks unfinished at the end of a method.)</p>

    <div class='pre p1 fill-light mt0'>new SilentTaskReporter()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='scopedtaskreporter'>
      ScopedTaskReporter
    </h3>
    
    
  </div>
  

  <p>ScopedTaskReporter is a higher-order task reporter
for generating opaque scopes meant to be passed into child contexts.</p>
<p>In this case, a scope is a log prefix indicating the parent context
in which the current task is running.</p>
<p>This allows for reliable filtering and searching on existing tasks
by prefix. Care should be taken to ensure that the same prefix does
not exist in peer task contexts, so far as error handling is concerned,
or a filter may incorrectly catch and finish a still-running task while
error-handling. This risk can be mitigated by only designating prefixes via
a Scoped Task Reporter, as opposed to passing prefixes into the <code>start</code>
and <code>finish</code> methods manually. For example, this block will always throw:</p>
<p>function f(top: SilentTaskReporter) {
top.start("my-prefix: foo");
const scoped = new ScopedTaskReporter(top, "my-prefix");
scoped.start("foo"); // Error: task my-prefix: foo already active
}</p>

    <div class='pre p1 fill-light mt0'>new ScopedTaskReporter(delegate: TaskReporter, prefix: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>delegate</span> <code class='quiet'>(TaskReporter)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>prefix</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='credequate'>
      credequate
    </h3>
    
    
  </div>
  

  <p>A primary SourceCred API that runs the CredEquate algorithm on the given
inputs to create ScoredContributions containing info on the cred scores of
contributions and the cred earned by participants in each contribution.</p>

    <div class='pre p1 fill-light mt0'>credequate(input: CredequateInput): CredequateOutput</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(CredequateInput)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>CredequateOutput</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='credgrainview'>
      credGrainView
    </h3>
    
    
  </div>
  

  <p>The input CredGrainView merged with information from the generated
scoredContributions</p>

    <div class='pre p1 fill-light mt0'>credGrainView</div>
  
    <p>
      Type:
      <a href="#credgrainview">CredGrainView</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='scoreddependencycontributions'>
      scoredDependencyContributions
    </h3>
    
    
  </div>
  

  <p>Scored contributions for the dependencies. 1 per week per dependency.</p>

    <div class='pre p1 fill-light mt0'>scoredDependencyContributions</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;ScoredContribution>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='dependencies'>
      dependencies
    </h3>
    
    
  </div>
  

  <p>A SourceCred API that generates ScoredContributions to give bonus cred to
organizations and projects that the instance depends on or supports.</p>
<p>May mutate the ledger and the dependencies inputs. Will return a new
CredGrainView with dependencies included.</p>

    <div class='pre p1 fill-light mt0'>dependencies(input: DependenciesInput): DependenciesOutput</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(DependenciesInput)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>DependenciesOutput</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='graph'>
      graph
    </h3>
    
    
  </div>
  

  <p>Iterates through the provided plugins, runs their <code>graph</code> and <code>identities</code>
processes, and updates the ledger with any new IdentityProposals.</p>
<p>Might mutate the ledger that is passed in.</p>

    <div class='pre p1 fill-light mt0'>graph(input: GraphInput, scope: $ReadOnlyArray&#x3C;<a href="#pluginid">PluginId</a>>?, taskReporter: TaskReporter): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GraphOutput></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(GraphInput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>scope</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#pluginid">PluginId</a>>?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>taskReporter</span> <code class='quiet'>(TaskReporter
            = <code>new SilentTaskReporter()</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GraphOutput></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='cascadingreferencedetector'>
      CascadingReferenceDetector
    </h3>
    
    
  </div>
  

  <p>A class for composing ReferenceDetectors. Calls ReferenceDetectors in the order
they're given in the constructor, returning the first NodeAddressT it encounters.</p>

    <div class='pre p1 fill-light mt0'>new CascadingReferenceDetector(refs: $ReadOnlyArray&#x3C;ReferenceDetector>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>refs</span> <code class='quiet'>($ReadOnlyArray&#x3C;ReferenceDetector>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='grain'>
      grain
    </h3>
    
    
  </div>
  

  <p>A primary SourceCred API that combines the given inputs into a list of
grain distributions.</p>
<p>May mutate the ledger that is passed in.</p>

    <div class='pre p1 fill-light mt0'>grain(input: GrainInput): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GrainOutput></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(GrainInput)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GrainOutput></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='executegrainintegrationsfromgraininput'>
      executeGrainIntegrationsFromGrainInput
    </h3>
    
    
  </div>
  

  <p>Marshall grainInput from a Grain Configuration file for use with
executeGrainIntegration function</p>

    <div class='pre p1 fill-light mt0'>executeGrainIntegrationsFromGrainInput(grainInput: GrainInput, ledger: <a href="#ledger">Ledger</a>, distributions: $ReadOnlyArray&#x3C;<a href="#distribution">Distribution</a>>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GrainIntegrationResults></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>grainInput</span> <code class='quiet'>(GrainInput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>distributions</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="#distribution">Distribution</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GrainIntegrationResults></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='grainintegrationfunction'>
      GrainIntegrationFunction
    </h3>
    
    
  </div>
  

  <p>This function definition is implemented by Grain Integrations.
Grain integrations allow distributions to be executed programmatically
beyond the ledger. However, an integration might have some side-effects
that require the ledger to be updated, and it therefore has the option of
returning a list of of ledger operations. The ledger will update the ledger
if accounting is enabled. Otherwise, grain balances will be tracked
elsewhere.</p>

    <div class='pre p1 fill-light mt0'>GrainIntegrationFunction</div>
  
    <p>
      Type:
      function (PayoutDistributions, IntegrationConfig): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;PayoutResult>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='sortedids'>
      sortedIds
    </h3>
    
    
  </div>
  

  <p>Return ids sorted by balance.</p>

    <div class='pre p1 fill-light mt0'>sortedIds(distributionBalances: <a href="#distributionbalances">DistributionBalances</a>): $ReadOnlyArray&#x3C;IdentityId></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>distributionBalances</span> <code class='quiet'>(<a href="#distributionbalances">DistributionBalances</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;IdentityId></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='formatcenter'>
      formatCenter
    </h3>
    
    
  </div>
  

  <p>Center string in some whitespace for total length {len}.</p>

    <div class='pre p1 fill-light mt0'>formatCenter(str: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, len: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>str</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>len</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='distributionbalances'>
      DistributionBalances
    </h3>
    
    
  </div>
  

  <p>Given some distribution, return the total allocated to id across
all allocation policies.</p>

    <div class='pre p1 fill-light mt0'>DistributionBalances</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;IdentityId, G.Grain>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gettotaldistributed'>
      getTotalDistributed
    </h3>
    
    
  </div>
  

  <p>Given DistributionBalances, return total grain distributed
across participants.</p>

    <div class='pre p1 fill-light mt0'>getTotalDistributed(distributionBalances: <a href="#distributionbalances">DistributionBalances</a>): G.Grain</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>distributionBalances</span> <code class='quiet'>(<a href="#distributionbalances">DistributionBalances</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>G.Grain</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='analysisinput'>
      AnalysisInput
    </h3>
    
    
  </div>
  

  <p>Input type for the analysis API</p>

    <div class='pre p1 fill-light mt0'>AnalysisInput</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>credGraph</span> <code class='quiet'>(CredGraph)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>featureFlags</span> <code class='quiet'>({neo4j: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?})</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='analysisoutput'>
      AnalysisOutput
    </h3>
    
    
  </div>
  

  <p>Output type for the analysis API</p>

    <div class='pre p1 fill-light mt0'>AnalysisOutput</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>accounts</span> <code class='quiet'>(CredAccountData)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>neo4j</span> <code class='quiet'>(<a href="#neo4joutput">Neo4jOutput</a>?)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='analysis'>
      analysis
    </h3>
    
    
  </div>
  

  <p>A primary SourceCred API that transforms the given inputs into useful data
analysis structures.</p>

    <div class='pre p1 fill-light mt0'>analysis(input: <a href="#analysisinput">AnalysisInput</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#analysisoutput">AnalysisOutput</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(<a href="#analysisinput">AnalysisInput</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#analysisoutput">AnalysisOutput</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='neo4joutput'>
      Neo4jOutput
    </h3>
    
    
  </div>
  

  <p>Iterators that will yield CSV strings. The CSV contents will be batched in
groups for scalability. Each group will include headers. These strings can
each be written to disk as a .csv file and then used to export the nodes
and edges of a CredGraph into a Neo4j database using neo4j-admin.</p>

    <div class='pre p1 fill-light mt0'>Neo4jOutput</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>nodes</span> <code class='quiet'>(any)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>edges</span> <code class='quiet'>(any)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='batcharray'>
      batchArray
    </h3>
    
    
  </div>
  

  <p>Returns an array of arrays that contains all of the items in the original
array parameter, but batched into arrays no larger than the batchSize.
Example:
batch([1,2,3,4,5], 2) = [[1,2], [3,4], [5]]</p>

    <div class='pre p1 fill-light mt0'>batchArray(array: $ReadOnlyArray&#x3C;T>, batchSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): $ReadOnlyArray&#x3C;$ReadOnlyArray&#x3C;T>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>array</span> <code class='quiet'>($ReadOnlyArray&#x3C;T>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>batchSize</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;$ReadOnlyArray&#x3C;T>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='batchiterator'>
      batchIterator
    </h3>
    
    
  </div>
  

  <p>Returns an iterator that will stop upon reaching the batchSize, and then can be
reused again for more batches. Use the provided hasNext() method to know when
there are no more batches available.
Example:
const result = [];
while (iterator.hasNext()) {
for (const item of iterator) {
// code to process item
}
// code to finalize batch
}</p>

    <div class='pre p1 fill-light mt0'>batchIterator(iterator: (Iterator&#x3C;T> | Generator&#x3C;T, void, void>), batchSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): BatchIterator&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>iterator</span> <code class='quiet'>((Iterator&#x3C;T> | Generator&#x3C;T, void, void>))</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>batchSize</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>BatchIterator&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='readinstance'>
      ReadInstance
    </h3>
    
    
  </div>
  

  <p>This is an Instance implementation that reads and writes using relative paths
on the given base URL. The base URL given should end with a trailing slash.</p>

    <div class='pre p1 fill-light mt0'>new ReadInstance(storage: <a href="#datastorage">DataStorage</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>storage</span> <code class='quiet'>(<a href="#datastorage">DataStorage</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='readonlyinstance'>
      ReadOnlyInstance
    </h3>
    
    
  </div>
  

  <p>Simple read interface for inputs and outputs of the main SourceCred API.</p>

    <div class='pre p1 fill-light mt0'>ReadOnlyInstance</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='readonlyinstancereadgraphinput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readGraphInput()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads inputs required to run Graph.</p>

    <div class='pre p1 fill-light mt0'>readGraphInput(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GraphInput></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GraphInput></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadcontributionsinput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readContributionsInput()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads inputs required to run Contributions.</p>

    <div class='pre p1 fill-light mt0'>readContributionsInput(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ContributionsInput></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;ContributionsInput></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadcredrankinput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readCredrankInput()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads inputs required to run CredRank.</p>

    <div class='pre p1 fill-light mt0'>readCredrankInput(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredrankInput></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredrankInput></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadcredequateinput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readCredequateInput()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads inputs required to run CredEquate.</p>

    <div class='pre p1 fill-light mt0'>readCredequateInput(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredequateInput></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredequateInput></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadgraininput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readGrainInput()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads inputs required to run Grain.</p>

    <div class='pre p1 fill-light mt0'>readGrainInput(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GrainInput></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;GrainInput></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadanalysisinput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readAnalysisInput()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads inputs required to run Analysis.</p>

    <div class='pre p1 fill-light mt0'>readAnalysisInput(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#analysisinput">AnalysisInput</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#analysisinput">AnalysisInput</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadweightedgraphforplugin'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readWeightedGraphForPlugin(pluginId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads a weighted graph generated by a previous run of Graph.</p>

    <div class='pre p1 fill-light mt0'>readWeightedGraphForPlugin(pluginId: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#weightedgraph">WeightedGraph</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pluginId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#weightedgraph">WeightedGraph</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadcredgraph'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readCredGraph()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads a cred graph generated by a previous run of CredRank.</p>

    <div class='pre p1 fill-light mt0'>readCredGraph(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredGraph></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;CredGraph></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadcredgrainview'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readCredGrainView()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads a CredGrainView generated by a previous run of CredRank.</p>

    <div class='pre p1 fill-light mt0'>readCredGrainView(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#credgrainview">CredGrainView</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#credgrainview">CredGrainView</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readonlyinstancereadledger'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>readLedger()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Reads a ledger.</p>

    <div class='pre p1 fill-light mt0'>readLedger(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#ledger">Ledger</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#ledger">Ledger</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='instance'>
      Instance
    </h3>
    
    
  </div>
  

  <p>Simple read/write interface for inputs and outputs of the main SourceCred API.</p>

    <div class='pre p1 fill-light mt0'>Instance</div>
  
  
    <p>
      Extends
      
        <a href="#readonlyinstance">ReadOnlyInstance</a>
      
    </p>
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='instancewritegraphoutput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeGraphOutput(graphOutput, shouldZip?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Writes output after running Graph.</p>

    <div class='pre p1 fill-light mt0'>writeGraphOutput(graphOutput: GraphOutput, shouldZip: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>graphOutput</span> <code class='quiet'>(GraphOutput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>shouldZip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instancewritecontributionsoutput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeContributionsOutput(contributionsOutput, shouldZip?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Writes output after running Contributions.</p>

    <div class='pre p1 fill-light mt0'>writeContributionsOutput(contributionsOutput: ContributionsOutput, shouldZip: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>contributionsOutput</span> <code class='quiet'>(ContributionsOutput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>shouldZip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instancewritecredrankoutput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeCredrankOutput(credrankOutput, shouldZip?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Writes output after running CredRank.</p>

    <div class='pre p1 fill-light mt0'>writeCredrankOutput(credrankOutput: CredrankOutput, shouldZip: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credrankOutput</span> <code class='quiet'>(CredrankOutput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>shouldZip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instancewritecredequateoutput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeCredequateOutput(credequateOutput, shouldZip?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Writes output after running CredEquate.</p>

    <div class='pre p1 fill-light mt0'>writeCredequateOutput(credequateOutput: CredequateOutput, shouldZip: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credequateOutput</span> <code class='quiet'>(CredequateOutput)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>shouldZip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instancewriteanalysisoutput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeAnalysisOutput(analysisOutput)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Writes output after running Analysis.</p>

    <div class='pre p1 fill-light mt0'>writeAnalysisOutput(analysisOutput: <a href="#analysisoutput">AnalysisOutput</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>analysisOutput</span> <code class='quiet'>(<a href="#analysisoutput">AnalysisOutput</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instancewriteledger'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeLedger(ledger)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Writes a ledger.</p>

    <div class='pre p1 fill-light mt0'>writeLedger(ledger: <a href="#ledger">Ledger</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ledger</span> <code class='quiet'>(<a href="#ledger">Ledger</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instancewritegrainintegrationoutput'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>writeGrainIntegrationOutput(result)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>writes grain integration output</p>

    <div class='pre p1 fill-light mt0'>writeGrainIntegrationOutput(result: $Shape&#x3C;GrainIntegrationMultiResult>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>($Shape&#x3C;GrainIntegrationMultiResult>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='instanceupdategrainintegrationconfig'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>updateGrainIntegrationConfig(result, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Write grain config updates back into the instance</p>

    <div class='pre p1 fill-light mt0'>updateGrainIntegrationConfig(result: $Shape&#x3C;GrainIntegrationMultiResult>, config: GrainInput): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>($Shape&#x3C;GrainIntegrationMultiResult>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(GrainInput)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='rawpluginbudgetconfig'>
      RawPluginBudgetConfig
    </h3>
    
    
  </div>
  

  <p>This module contains logic for setting Cred minting budgets over time on a per-plugin basis.
As an example, suppose we want to limit the GitHub plugin to mint only 200 Cred per week,
and we want the Discord plugin to mint 100 Cred per Week until Jan 1, 2020 and 200 Cred per
week thereafter. We could do so with the following config:</p>

    <div class='pre p1 fill-light mt0'>RawPluginBudgetConfig</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>intervalLength</span> <code class='quiet'>(<a href="#intervallength">IntervalLength</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>plugins</span> <code class='quiet'>({})</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='originstorage'>
      OriginStorage
    </h3>
    
    
  </div>
  

  <p>This class serves as a simple wrapper for http GET requests using fetch.</p>

    <div class='pre p1 fill-light mt0'>new OriginStorage(base: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>base</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='originstorageget'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>get(resource)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>This get method will error if a non-200 or 300-level status was returned.</p>

    <div class='pre p1 fill-light mt0'>get(resource: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>resource</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='datastorage'>
      DataStorage
    </h3>
    
    
  </div>
  

  <p>Data Storage allows the implementation of a uniform abstraction for I/O</p>

    <div class='pre p1 fill-light mt0'>DataStorage</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='datastorageget'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>get(key)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>If the value for the key entered cannot be found, an error should be thrown.</p>

    <div class='pre p1 fill-light mt0'>get(key: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>key</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='writabledatastorage'>
      WritableDataStorage
    </h3>
    
    
  </div>
  

  <p>keys should be file-system friendly</p>

    <div class='pre p1 fill-light mt0'>WritableDataStorage</div>
  
  
    <p>
      Extends
      
        <a href="#datastorage">DataStorage</a>
      
    </p>
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='balanced'>
      Balanced
    </h3>
    
    
  </div>
  

  <p>The Balanced policy attempts to pay Grain to everyone so that their
lifetime Grain payouts are consistent with their lifetime Cred scores.</p>
<p>We recommend use of the Balanced strategy as it takes new information into
account-- for example, if a user's contributions earned little Cred in the
past, but are now seen as more valuable, the Balanced policy will take this
into account and pay them more, to fully appreciate their past
contributions.</p>

    <div class='pre p1 fill-light mt0'>Balanced</div>
  
    <p>
      Type:
      <code>"BALANCED"</code>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='balancedreceipts'>
      balancedReceipts
    </h3>
    
    
  </div>
  

  <p>Allocate a fixed budget of Grain to the users who were "most underpaid".</p>
<p>We consider a user underpaid if they have received a smaller proportion of
past earnings than their share of score. They are balanced paid if their
proportion of earnings is equal to their score share, and they are overpaid
if their proportion of earnings is higher than their share of the score.</p>
<p>We start by imagining a hypothetical world, where the entire grain supply of
the project (including this allocation) was allocated according to the
current scores. Based on this, we can calculate the "balanced" lifetime earnings
for each participant. Usually, some will be "underpaid" (they received less
than this amount) and others are "overpaid".</p>
<p>We can sum across all users who were underpaid to find the "total
underpayment".</p>
<p>Now that we've calculated each actor's underpayment, and the total
underpayment, we divide the allocation's grain budget across users in
proportion to their underpayment.</p>
<p>You should use this allocation when you want to divide a fixed budget of grain
across participants in a way that aligns long-term payment with total cred
scores.</p>

    <div class='pre p1 fill-light mt0'>balancedReceipts(policy: BalancedPolicy, credGrainView: <a href="#credgrainview">CredGrainView</a>, effectiveTimestamp: <a href="#timestampms">TimestampMs</a>): $ReadOnlyArray&#x3C;GrainReceipt></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>policy</span> <code class='quiet'>(BalancedPolicy)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGrainView</span> <code class='quiet'>(<a href="#credgrainview">CredGrainView</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>effectiveTimestamp</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;GrainReceipt></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nonnegativegrain'>
      NonnegativeGrain
    </h3>
    
    
  </div>
  

  <p>The NonnegativeGrain type ensures Grain amount is >= 0,
which is particularly useful in the case of policy budgets
or grain transfers.</p>

    <div class='pre p1 fill-light mt0'>NonnegativeGrain</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='immediate'>
      Immediate
    </h3>
    
    
  </div>
  

  <p>The Immediate policy evenly distributes its Grain budget across users
based on their Cred in the most recent interval.</p>
<p>It's used when you want to ensure that everyone gets some consistent reward
for participating (even if they may be "overpaid" in a lifetime sense).
We recommend using a smaller budget for the Immediate policy.</p>

    <div class='pre p1 fill-light mt0'>Immediate</div>
  
    <p>
      Type:
      <code>"IMMEDIATE"</code>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='immediatereceipts'>
      immediateReceipts
    </h3>
    
    
  </div>
  

  <p>Split a grain budget in proportion to the cred scores in
the most recent time interval, with the option to extend the interval
to include the last {numIntervalsLookback} weeks.</p>

    <div class='pre p1 fill-light mt0'>immediateReceipts(policy: ImmediatePolicy, credGrainView: <a href="#credgrainview">CredGrainView</a>, effectiveTimestamp: <a href="#timestampms">TimestampMs</a>): $ReadOnlyArray&#x3C;GrainReceipt></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>policy</span> <code class='quiet'>(ImmediatePolicy)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGrainView</span> <code class='quiet'>(<a href="#credgrainview">CredGrainView</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>effectiveTimestamp</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;GrainReceipt></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='recent'>
      Recent
    </h3>
    
    
  </div>
  

  <p>The Recent policy distributes cred using a time discount factor, weighing
recent contributions higher. The policy takes a history of cred scores, progressively
discounting past cred scores, and then taking the sum over the discounted scores.</p>
<p>A cred score at time t reads as follows: "The discounted cred c' at a timestep which is
n timesteps back from the most recent one is its cred score c multiplied by the discount
factor to the nth power."</p>
<p>c' =  c * (1 - discount) ** n</p>
<p>Discounts range from 0 to 1, with a higher discount weighing recent contribution
higher.</p>
<p>Note that this is a generalization of the Immediate policy, where Immediate
is the same as Recent with a full discount, i.e. a discount factor 1 (100%).</p>

    <div class='pre p1 fill-light mt0'>Recent</div>
  
    <p>
      Type:
      <code>"RECENT"</code>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='recentreceipts'>
      recentReceipts
    </h3>
    
    
  </div>
  

  <p>Split a grain budget based on exponentially weighted recent
cred.</p>

    <div class='pre p1 fill-light mt0'>recentReceipts(policy: RecentPolicy, credGrainView: <a href="#credgrainview">CredGrainView</a>, effectiveTimestamp: <a href="#timestampms">TimestampMs</a>): $ReadOnlyArray&#x3C;GrainReceipt></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>policy</span> <code class='quiet'>(RecentPolicy)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>credGrainView</span> <code class='quiet'>(<a href="#credgrainview">CredGrainView</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>effectiveTimestamp</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;GrainReceipt></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='special'>
      Special
    </h3>
    
    
  </div>
  

  <p>The Special policy is a power-maintainer tool for directly paying Grain
to a target identity. I'm including it because we will use it to create
"initialization" payouts to contributors with prior Grain balances in our old
ledger.</p>
<p>This has potential for abuse, I don't recommend making it easy to make special
payouts from the UI, since it subverts the "Grain comes from Cred" model.</p>

    <div class='pre p1 fill-light mt0'>Special</div>
  
    <p>
      Type:
      <code>"SPECIAL"</code>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='writeinstance'>
      WriteInstance
    </h3>
    
    
  </div>
  

  <p>This is an writable Instance implementation that reads and writes using relative paths.</p>

    <div class='pre p1 fill-light mt0'>new WriteInstance(writableDataStorage: <a href="#writabledatastorage">WritableDataStorage</a>)</div>
  
  
    <p>
      Extends
      
        <a href="#readinstance">ReadInstance</a>
      
    </p>
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>writableDataStorage</span> <code class='quiet'>(<a href="#writabledatastorage">WritableDataStorage</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='writeinstanceupdategrainintegrationconfig'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>updateGrainIntegrationConfig(result, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  
    <div class='pre p1 fill-light mt0'>updateGrainIntegrationConfig(result: $Shape&#x3C;GrainIntegrationMultiResult>, config: GrainInput): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>($Shape&#x3C;GrainIntegrationMultiResult>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(GrainInput)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='localinstance'>
      LocalInstance
    </h3>
    
    
  </div>
  

  <p>This is an Instance implementation that reads and writes using relative paths
on the local disk.</p>

    <div class='pre p1 fill-light mt0'>new LocalInstance(baseDirectory: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  
    <p>
      Extends
      
        <a href="#writeinstance">WriteInstance</a>
      
    </p>
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>baseDirectory</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mkdirx'>
      mkdirx
    </h3>
    
    
  </div>
  

  <p>Make a directory, if it doesn't already exist.</p>

    <div class='pre p1 fill-light mt0'>mkdirx(path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='isdirempty'>
      isDirEmpty
    </h3>
    
    
  </div>
  

  <p>Check if a directory is empty</p>
<p>Will error if a path that resolves to anything other
than a directory is provided</p>

    <div class='pre p1 fill-light mt0'>isDirEmpty(dirPath: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>dirPath</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='diskstorage'>
      DiskStorage
    </h3>
    
    
  </div>
  

  <p>Disk Storage abstracts away low-level file I/O operations.</p>

    <div class='pre p1 fill-light mt0'>new DiskStorage(basePath: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>basePath</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='diskstorageget'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>get(path)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>The <code>path</code> parameter must be relative to the <code>basePath</code> set at
construction. Any I/O errors when attempting to read contents at the path
will cause an error to be thrown.</p>

    <div class='pre p1 fill-light mt0'>get(path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='diskstorageset'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>set(path, contents)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>The <code>path</code> parameter must be relative to the <code>basePath</code> set at
construction. Any I/O errors when attempting to write contents at the path
will cause an error to be thrown.</p>

    <div class='pre p1 fill-light mt0'>set(path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, contents: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>contents</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='diskstorage_checkpathprefix'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_checkPathPrefix(path)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p><code>path</code> is a relative file path to the <code>basePath</code>. The normalized
result cannot be above the instance's base path. This is ensures that any
attempts at accessing the file system outside of the instance
will cause an error to throw.</p>

    <div class='pre p1 fill-light mt0'>_checkPathPrefix(path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='normalize'>
      normalize
    </h3>
    
    
  </div>
  

  <p>Normalize the given POSIX path, resolving ".." and "." segments.</p>
<p>When multiple, sequential forward slashes are found, they are
replaced by a single forward slash. A trailing forward slash is
preserved if present, but not added if absent.</p>
<p>If the path is a zero-length string, "." is returned, representing
the current working directory.</p>
<p>A <code>TypeError</code> is thrown if <code>path</code> is not a string.</p>

    <div class='pre p1 fill-light mt0'>normalize(path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getplugin'>
      getPlugin
    </h3>
    
    
  </div>
  

  <p>Returns an object mapping owner-name pairs to CLI plugin
declarations; keys are like <code>sourcecred/github</code>.</p>

    <div class='pre p1 fill-light mt0'>getPlugin(pluginId: <a href="#pluginid">PluginId</a>): Plugin?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pluginId</span> <code class='quiet'>(<a href="#pluginid">PluginId</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Plugin?</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='pluginid'>
      PluginId
    </h3>
    
    
  </div>
  

  <p>A PluginId uniquely identifies a Plugin.</p>
<p>Each PluginId takes a <code>owner/name</code> format, as in
<code>sourcecred/github</code>.</p>
<p>PluginIds are canonically lower-case.</p>

    <div class='pre p1 fill-light mt0'>PluginId</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loadjson'>
      loadJson
    </h3>
    
    
  </div>
  

  <p>Load and parse a JSON file from DataStorage.</p>
<p>If the file cannot be read, then an error is thrown.
If parsing fails, an error is thrown.</p>

    <div class='pre p1 fill-light mt0'>loadJson(storage: <a href="#datastorage">DataStorage</a>, path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, parser: P.Parser&#x3C;T>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>storage</span> <code class='quiet'>(<a href="#datastorage">DataStorage</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>parser</span> <code class='quiet'>(P.Parser&#x3C;T>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loadjsonwithdefault'>
      loadJsonWithDefault
    </h3>
    
    
  </div>
  

  <p>Load and parse a JSON file from DataStorage, with a default to use if the
file is not found.</p>
<p>This is intended as a convenience for situations where the user may
optionally provide configuration in a json file.</p>
<p>The default must be provided as a function that returns a default, to
accommodate situations where the object may be mutable, or where constructing
the default may be expensive.</p>
<p>If no file is present at that location, then the default constructor is
invoked to create a default value, and that is returned.</p>
<p>If attempting to load the file fails for any reason other than ENOENT or a
404 (e.g. the path actually is a directory), then the error is thrown.</p>
<p>If parsing fails, an error is thrown.</p>

    <div class='pre p1 fill-light mt0'>loadJsonWithDefault(storage: <a href="#datastorage">DataStorage</a>, path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, parser: P.Parser&#x3C;T>, def: function (): T): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>storage</span> <code class='quiet'>(<a href="#datastorage">DataStorage</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>parser</span> <code class='quiet'>(P.Parser&#x3C;T>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>def</span> <code class='quiet'>(function (): T)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loadfilewithdefault'>
      loadFileWithDefault
    </h3>
    
    
  </div>
  

  <p>Read a text file from DataStorage, with a default string value to use if the
file is not found. The file is read in the default encoding, UTF-8.</p>
<p>This is intended as a convenience for situations where the user may
optionally provide configuration in a non-JSON file saved to disk.</p>
<p>The default must be provided as a function that returns a default, in
case constructing the default may be expensive.</p>
<p>If no file is present at that location, then the default constructor is
invoked to create a default value, and that is returned.</p>
<p>If attempting to load the file fails for any reason other than ENOENT or a
404 (e.g. the path actually is a directory), then the error is thrown.</p>

    <div class='pre p1 fill-light mt0'>loadFileWithDefault(storage: <a href="#datastorage">DataStorage</a>, path: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, def: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>storage</span> <code class='quiet'>(<a href="#datastorage">DataStorage</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>path</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>def</span> <code class='quiet'>(function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fetchgithubrepofromcache'>
      fetchGithubRepoFromCache
    </h3>
    
    
  </div>
  

  <p>Retrieve previously scraped data for a GitHub repo from cache.</p>
<p>Note: the GithubToken requirement is planned to be removed.
See <a href="https://github.com/sourcecred/sourcecred/issues/1580">https://github.com/sourcecred/sourcecred/issues/1580</a></p>

    <div class='pre p1 fill-light mt0'>fetchGithubRepoFromCache(repoId: RepoId, token: GithubToken): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Repository></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repoId</span> <code class='quiet'>(RepoId)</code>
	    the GitHub repository to retrieve from cache

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>token</span> <code class='quiet'>(GithubToken)</code>
	    authentication token to be used for the GitHub API; generate a
token at: 
<a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>token.token</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>token.cache</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Repository></code>:
        a promise that resolves to a JSON object containing the data
scraped from the repository, with data format to be specified
later

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fetchgithubrepo'>
      fetchGithubRepo
    </h3>
    
    
  </div>
  

  <p>Scrape data from a GitHub repo using the GitHub API.</p>

    <div class='pre p1 fill-light mt0'>fetchGithubRepo(repoId: RepoId, token: GithubToken): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repoId</span> <code class='quiet'>(RepoId)</code>
	    the GitHub repository to be scraped

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>token</span> <code class='quiet'>(GithubToken)</code>
	    authentication token to be used for the GitHub API; generate a
token at: 
<a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>token.token</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>token.cache</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>></code>:
        a promise that resolves to a JSON object containing the data
scraped from the repository, with data format to be specified
later

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='quotarefreshat'>
      quotaRefreshAt
    </h3>
    
    
  </div>
  

  <p>Determine the instant at which our GitHub quota will refresh.</p>
<p>The returned promise may reject with a <code>GithubResponseError</code> or
string error message.</p>

    <div class='pre p1 fill-light mt0'>quotaRefreshAt(token: GithubToken): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>token</span> <code class='quiet'>(GithubToken)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_resolverefreshtime'>
      _resolveRefreshTime
    </h3>
    
    
  </div>
  

  <p>Given a <code>resetAt</code> date response from GitHub, determine the actual
date until which we want to wait. We clamp to a reasonable range and
apply some padding.</p>

    <div class='pre p1 fill-light mt0'>_resolveRefreshTime(now: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, nominalRefreshTime: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>now</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>nominalRefreshTime</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mirror'>
      Mirror
    </h3>
    
    
  </div>
  

  <p>A local mirror of a subset of a GraphQL database.</p>
<p>Clients should interact with this module as follows:</p>
<ul>
<li>Invoke the constructor to acquire a <code>Mirror</code> instance.</li>
<li>Invoke <code>registerObject</code> to register a root object of interest.</li>
<li>Invoke <code>update</code> to update all transitive dependencies.</li>
<li>Invoke <code>extract</code> to retrieve the data in structured form.</li>
</ul>
<p>See the relevant methods for documentation.</p>

    <div class='pre p1 fill-light mt0'>new Mirror(db: Database, schema: Schema.Schema, options: {blacklistedIds: $ReadOnlyArray&#x3C;Schema.ObjectId>?, guessTypename: function (Schema.ObjectId): (Schema.Typename | null)?}?)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>db</span> <code class='quiet'>(Database)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>schema</span> <code class='quiet'>(Schema.Schema)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({blacklistedIds: $ReadOnlyArray&#x3C;Schema.ObjectId>?, guessTypename: function (Schema.ObjectId): (Schema.Typename | null)?}?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='mirror_initialize'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_initialize()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Embed the GraphQL schema into the database, initializing it for use
as a mirror.</p>
<p>This method should only be invoked once, at construction time.</p>
<p>If the database has already been initialized with the same schema
and version, no action is taken and no error is thrown. If the
database has been initialized with a different schema or version,
the database is left unchanged, and an error is thrown.</p>
<p>A discussion of the database structure follows.</p>
<hr>
<p>Objects have three kinds of fields: connections, links, and
primitives. The database likewise has a <code>connections</code> table,
<code>links</code> table, and <code>primitives</code> table, each storing corresponding
data for all GraphQL object types.</p>
<p>In more detail:</p>
<ul>
<li>
<p>The <code>connections</code> table has a row for each <code>(id, fieldname)</code>
pair, where <code>fieldname</code> is the name of a connection field on the
object with the given ID. This stores metadata about the
connection: its total count, when it was last updated, etc. It
does not store the actual entries in the connection (the nodes
that the connection points to); <code>connection_entries</code> stores
these.</p>
</li>
<li>
<p>The <code>links</code> table has a row for each <code>(id, fieldname)</code> pair,
where <code>fieldname</code> is the name of a link field on the object
with the given ID. This simply points to the referenced object.</p>
</li>
<li>
<p>The <code>primitives</code> table has a row for each <code>(id, fieldname)</code>
pair, where <code>fieldname</code> is the name of a (non-ID) primitive
field on the object with the given ID. The <code>value</code> column holds
the JSON-stringified primitive value: so, for instance, the
JSON value <code>null</code> is represented as the SQL string 'null',
<em>not</em> SQL NULL, while the JSON string "null" is represented as
the SQL string '"null"'. This is primarily to accommodate
storing booleans: SQLite has no boolean storage class, and we
cannot simply encode <code>true</code> and <code>false</code> as <code>1</code> and <code>0</code> because
we need to be able to distinguish between these respective
values when we read them back out. There are other ways to do
this more efficiently in both space and time (see discussion on
#883 for some options).</p>
</li>
</ul>
<p>These fields are type-specific, and so only exist once a node's
typename is set.</p>
<p>We refer to node and primitive data together as "own data", because
this is the data that can be queried uniformly for all elements of
a type; querying connection data, by contrast, requires the
object-specific end cursor.</p>
<p>Nested fields merit additional explanation. The nested field itself
exists on the <code>primitives</code> table with SQL value NULL, 0, or 1 (as
SQL integers, not strings). As with all other primitives, <code>NULL</code>
indicates that the value has never been fetched. If the value has
been fetched, it is 0 if the nested field itself was <code>null</code> on the
GraphQL result, or 1 if it was present. This field lets us
distinguish "author: null" from "author: {user: null}".</p>
<p>The "eggs" of a nested field are treated as normal primitive or
link values, whose fieldname is the nested fieldname and egg
fieldname joined by a period. So, if object type <code>Foo</code> has nested
field <code>bar: Schema.nested({baz: Schema.primitive()})</code>, then the
<code>primitives</code> table will include a row with fieldname 'bar.baz'.
Likewise, a row in the <code>links</code> table might have fieldname
'quux.zod'.</p>
<p>All aforementioned tables are keyed by object ID. Each object also
appears once in the <code>objects</code> table, which relates its ID,
typename, and last own-data update. Each connection has its own
last-update value, because connections can be updated independently
of each other and of own-data. An object's typename may be <code>NULL</code>
if we have only reached the object through edges of unfaithful
type, in which case we will perform an extra query to definitively
determine fetch the object's type before requesting its own data or
connections.</p>
<p>Note that any object in the database should have entries in the
<code>connections</code>, <code>links</code>, and <code>primitives</code> tables for all relevant
fields, even if the node has never been updated. This is for
convenience of implementation: it means that the first fetch for a
node is the same as subsequent fetches (a simple SQL <code>UPDATE</code>
instead of first requiring an existence check).</p>
<p>A table <code>network_log</code> logs all GraphQL requests made by this module
and their corresponding responses, as well as the update created
from the response. This is for debugging. For example, if a node in
the database is corrupt in some way, inspecting the network log
will show exactly which queries caused it to enter its broken
state. In theory, it should be possible to replay the network log
to re-create the database state exactly, though no tooling exists
to do so automatically.</p>
<p>Finally, a table <code>meta</code> is used to store metadata about the mirror
itself. This is used to make sure that the mirror is not loaded
with an incompatible version of the code or schema. It is never
updated after it is first set.</p>

    <div class='pre p1 fill-light mt0'>_initialize()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_createupdate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_createUpdate(updateTimestamp)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Register a new update, representing one communication with the
remote server. A unique ID will be created and returned.</p>

    <div class='pre p1 fill-light mt0'>_createUpdate(updateTimestamp: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): UpdateId</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateTimestamp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>UpdateId</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirrorregisterobject'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>registerObject(object)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Inform the GraphQL mirror of the existence of an object. The
object's ID must be specified. The object's concrete type may also
be specified, in which case it must be an OBJECT type in the
GraphQL schema.</p>
<p>If the object has previously been registered with the same type, no
action is taken and no error is raised. If the object has
previously been registered with a different type, an error is
thrown, and the database is left unchanged.</p>

    <div class='pre p1 fill-light mt0'>registerObject(object: {typename: (null | Schema.Typename), id: Schema.ObjectId}): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>object</span> <code class='quiet'>({typename: (null | Schema.Typename), id: Schema.ObjectId})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyregisterobject'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyRegisterObject(object, guessMismatchMessage?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>registerObject</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>
<p>This internal method also permits registering an object without
specifying its typename.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyRegisterObject(object: {typename: (null | Schema.Typename), id: Schema.ObjectId}, guessMismatchMessage: function (guess: Schema.Typename): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>object</span> <code class='quiet'>({typename: (null | Schema.Typename), id: Schema.ObjectId})</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>guessMismatchMessage</span> <code class='quiet'>(function (guess: Schema.Typename): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyregisternodefieldresult'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyRegisterNodeFieldResult(result, context)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Register an object corresponding to the provided <code>NodeFieldResult</code>,
if any, returning the object's ID. If the provided value is <code>null</code>,
no action is taken, no error is thrown, and <code>null</code> is returned.</p>
<p>As with <code>registerObject</code>, an error is thrown if an object by the
given ID already exists with a different typename.</p>
<p>This method does not begin or end any transactions. Other methods
may call this method as a subroutine in a larger transaction.</p>
<p>See: <code>registerObject</code>.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyRegisterNodeFieldResult(result: NodeFieldResult, context: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): (Schema.ObjectId | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>(NodeFieldResult)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(Schema.ObjectId | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_findoutdated'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_findOutdated(since)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Find objects and connections that are not known to be up-to-date.</p>
<p>An object's typename is up-to-date if it has ever been fetched from
a faithful field reference or a direct typename query.</p>
<p>An object is up-to-date if its own data has been loaded at least as
recently as the provided date.</p>
<p>A connection is up-to-date if it has been fetched at least as
recently as the provided date, and at the time of fetching there
were no more pages.</p>

    <div class='pre p1 fill-light mt0'>_findOutdated(since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="#queryplan">QueryPlan</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>since</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#queryplan">QueryPlan</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_isuptodate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_isUpToDate(queryPlan)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Check whether the given query plan indicates that the mirror is
already up to date and no further queries are required.</p>

    <div class='pre p1 fill-light mt0'>_isUpToDate(queryPlan: <a href="#queryplan">QueryPlan</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryPlan</span> <code class='quiet'>(<a href="#queryplan">QueryPlan</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryfromplan'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryFromPlan(queryPlan, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set to fetch data corresponding to the
given query plan.</p>
<p>The resulting GraphQL should be embedded into a top-level query.</p>
<p>The result of this query is an <code>UpdateResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryFromPlan(queryPlan: <a href="#queryplan">QueryPlan</a>, options: {typenamesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryPlan</span> <code class='quiet'>(<a href="#queryplan">QueryPlan</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({typenamesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updatedata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest data given by an <code>UpdateResult</code>. This is porcelain over
<code>_updateConnection</code> and <code>_updateOwnData</code>.</p>
<p>See: <code>_findOutdated</code>.
See: <code>_queryFromPlan</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateData(updateId: UpdateId, queryResult: <a href="#updateresult">UpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#updateresult">UpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdatedata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateData</code>, but do not enter any transactions. Other methods
may call this method as a subroutine in a larger transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateData(updateId: UpdateId, queryResult: <a href="#updateresult">UpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#updateresult">UpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_logrequest'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_logRequest(body, variables, timestamp)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the request query and query parameters to the database.</p>

    <div class='pre p1 fill-light mt0'>_logRequest(body: Queries.Body, variables: {}, timestamp: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): NetworkLogId</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>body</span> <code class='quiet'>(Queries.Body)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>variables</span> <code class='quiet'>({})</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestamp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>NetworkLogId</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_logresponse'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_logResponse(rowid, jsonResponse, timestamp)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the network response and response timestamp to the table row
corresponding to the request that generated it.</p>

    <div class='pre p1 fill-light mt0'>_logResponse(rowid: NetworkLogId, jsonResponse: <a href="#updateresult">UpdateResult</a>, timestamp: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rowid</span> <code class='quiet'>(NetworkLogId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>jsonResponse</span> <code class='quiet'>(<a href="#updateresult">UpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestamp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_logrequestupdateid'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_logRequestUpdateId(rowid, updateId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the UpdateId in the table row corresponding to the network request
that generated it.</p>

    <div class='pre p1 fill-light mt0'>_logRequestUpdateId(rowid: NetworkLogId, updateId: UpdateId): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rowid</span> <code class='quiet'>(NetworkLogId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updatestep'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateStep(postQuery, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Perform one step of the update loop: find outdated entities, fetch
their updates, and feed the results back into the database.</p>
<p>Returns a promise that resolves to <code>true</code> if any changes were made.</p>

    <div class='pre p1 fill-light mt0'>_updateStep(postQuery: function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>, options: {nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>postQuery</span> <code class='quiet'>(function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirrorupdate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>update(postQuery, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Update this mirror with new information from a remote GraphQL
server.</p>
<p>The <code>postQuery</code> function should post a GraphQL query to the remote
server and return the <code>data</code> contents of its response, rejecting if
there are any errors. (Note that this requirement may change
backward-incompatibly in future versions of this module, in the
case that we wish to handle deletions without regenerating all
data.)</p>
<p>The options are as follows:</p>
<ul>
<li>
<p><code>since</code>: Fetch all data that is not known to be up-to-date as
of the provided time. For instance, to fetch all objects more
than a day old, use <code>new Date(new Date() - 86400e3)</code>.</p>
</li>
<li>
<p><code>now</code>: Function to yield the current date, which will be used
as the modification time for any objects or connections updated
in this process. Should probably be <code>() => new Date()</code>.</p>
</li>
<li>
<p><code>connectionPageSize</code>: Maximum number of entries to fetch in any
given connection. Some providers have a hard limit of 100 on
this value.</p>
</li>
<li>
<p><code>connectionLimit</code>: Maximum number of connections to fetch in a
single query.</p>
</li>
</ul>
<p>See: <code>registerObject</code>.
See: <code>extract</code>.</p>

    <div class='pre p1 fill-light mt0'>update(postQuery: function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>, options: {nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>postQuery</span> <code class='quiet'>(function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryshallow'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryShallow(typename, fidelity)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set required to identify an object of
the given declared type, which may be either an object type or a
union type. This is the minimal required data whenever we find a
reference to an object that we want to traverse later.</p>
<p>The <code>fidelity</code> argument should be the fidelity of the field being
traversed. If it is faithful, the object's typename will be queried
as well; if it is unfaithful, the typename will not be requested.</p>
<p>The resulting GraphQL should be embedded in the context of any node
of the provided type. For instance, <code>_queryShallow("Issue")</code>
returns a selection set that might replace the <code>?</code> in any of the
following queries:</p>
<pre><code>repository(owner: "foo", name: "bar") {
  issues(first: 1) {
    nodes { ? }
  }
}

nodes(ids: ["issue#1", "issue#2"]) { ? }
</code></pre>
<p>The result of this query has type <code>NodeFieldResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryShallow(typename: Schema.Typename, fidelity: Schema.Fidelity): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>typename</span> <code class='quiet'>(Schema.Typename)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fidelity</span> <code class='quiet'>(Schema.Fidelity)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_getendcursor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_getEndCursor(objectId, fieldname)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get the current value of the end cursor on a connection, or
<code>undefined</code> if the object has never been fetched. If no object by
the given ID is known, or the object does not have a connection of
the given name, then an error is thrown.</p>
<p>Note that <code>null</code> is a valid end cursor and is distinct from
<code>undefined</code>.</p>

    <div class='pre p1 fill-light mt0'>_getEndCursor(objectId: Schema.ObjectId, fieldname: Schema.Fieldname): (<a href="#endcursor">EndCursor</a> | void)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>objectId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="#endcursor">EndCursor</a> | void)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryConnection(typename, fieldname, endCursor, connectionPageSize)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set to fetch elements from a collection,
specified by its enclosing object type and the connection field
name (for instance, "Repository" and "issues").</p>
<p>If the connection has been queried before and you wish to fetch new
elements, use an appropriate end cursor. Use <code>undefined</code> otherwise.
Note that <code>null</code> is a valid end cursor and is distinct from
<code>undefined</code>. Note that these semantics are compatible with the
return value of <code>_getEndCursor</code>.</p>
<p>If an end cursor for a particular node's connection was specified,
then the resulting GraphQL should be embedded in the context of
that node. For instance, if repository "foo/bar" has ID "baz" and
an end cursor of "c000" on its "issues" connection, then the
GraphQL emitted by <code>_queryConnection("issues", "c000")</code> might
replace the <code>?</code> in the following query:</p>
<pre><code>node(id: "baz") { ? }
</code></pre>
<p>If no end cursor was specified, then the resulting GraphQL may be
embedded in the context of <em>any</em> node with a connection of the
appropriate fieldname. For instance, <code>_queryConnection("issues")</code>
emits GraphQL that may replace the <code>?</code> in either of the following
queries:</p>
<pre><code>node(id: "baz") { ? }  # where "baz" is a repository ID
repository(owner: "foo", name: "bar") { ? }
</code></pre>
<p>Note, however, that this query will fetch nodes from the <em>start</em> of
the connection. It would be wrong to append these results onto an
connection for which we have already fetched data.</p>
<p>The result of this query has type <code>ConnectionFieldResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>
<p>See: <code>_getEndCursor</code>.
See: <code>_updateConnection</code>.</p>

    <div class='pre p1 fill-light mt0'>_queryConnection(typename: Schema.Typename, fieldname: Schema.Fieldname, endCursor: (<a href="#endcursor">EndCursor</a> | void), connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>typename</span> <code class='quiet'>(Schema.Typename)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endCursor</span> <code class='quiet'>((<a href="#endcursor">EndCursor</a> | void))</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>connectionPageSize</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updateconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateConnection(updateId, objectId, fieldname, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest new entries in a connection on an existing object.</p>
<p>The connection's last update will be set to the given value, which
must be an existing update lest an error be thrown.</p>
<p>If the object does not exist or does not have a connection by the
given name, an error will be thrown.</p>
<p>See: <code>_queryConnection</code>.
See: <code>_createUpdate</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateConnection(updateId: UpdateId, objectId: Schema.ObjectId, fieldname: Schema.Fieldname, queryResult: ConnectionFieldResult): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>objectId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(ConnectionFieldResult)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdateconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateConnection(updateId, objectId, fieldname, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateConnection</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateConnection(updateId: UpdateId, objectId: Schema.ObjectId, fieldname: Schema.Fieldname, queryResult: ConnectionFieldResult): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>objectId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(ConnectionFieldResult)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryowndata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryOwnData(typename)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set required to fetch the own-data
(primitives and node references) of an object, but not its
connection entries. The result depends only on the (concrete) type
of the object, not its ID.</p>
<p>The provided typename must correspond to an object type, not a
union type; otherwise, an error will be thrown.</p>
<p>The resulting GraphQL can be embedded into the context of any node
with the provided typename. For instance, if there are issues with
IDs "#1" and "#2", then <code>_queryOwnData("Issue")</code> emits GraphQL
that may replace the <code>?</code> in any of the following queries:</p>
<pre><code>repository(owner: "foo", name: "bar") {
  issues(first: 1) { ? }
}
nodes(ids: ["#1", "#2") { ... on Issue { ? } }
node(id: "#1") { ... on Issue { ? } }
</code></pre>
<p>The result of this query has type <code>E</code>, where <code>E</code> is the element
type of <code>OwnDataUpdateResult</code>. That is, it is an object with shape
that depends on the provided typename: the name of each ID or
primitive field is a key mapping to a primitive value, and the name
of each node field is a key mapping to a <code>NodeFieldResult</code>.
Additionally, the attribute "__typename" maps to the node's
typename.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryOwnData(typename: Schema.Typename): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>typename</span> <code class='quiet'>(Schema.Typename)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updateowndata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateOwnData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest own-data (primitive and link) updates for many objects of a
fixed concrete type. Every object in the input list must have the
same <code>__typename</code> attribute, which must be the name of a valid
object type.</p>
<p>See: <code>_queryOwnData</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateOwnData(updateId: UpdateId, queryResult: <a href="#owndataupdateresult">OwnDataUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#owndataupdateresult">OwnDataUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdateowndata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateOwnData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateOwnData</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateOwnData(updateId: UpdateId, queryResult: <a href="#owndataupdateresult">OwnDataUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#owndataupdateresult">OwnDataUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_querytypename'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryTypename()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set required to fetch the typename of an
object. The resulting GraphQL can be embedded in any node context.</p>
<p>The result of this query has type <code>E</code>, where <code>E</code> is the element
type of <code>TypenamesUpdateResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryTypename(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updatetypenames'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateTypenames(queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest typenames for many object IDs.</p>
<p>See: <code>_queryTypenames</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateTypenames(queryResult: <a href="#typenamesupdateresult">TypenamesUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#typenamesupdateresult">TypenamesUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdatetypenames'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateTypenames(queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateTypenames</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateTypenames(queryResult: <a href="#typenamesupdateresult">TypenamesUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#typenamesupdateresult">TypenamesUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirrorextract'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>extract(rootId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Extract a structured object and all of its transitive dependencies
from the database.</p>
<p>The result is an object whose keys are fieldnames, and whose values
are:</p>
<ul>
<li>for "__typename": the object's GraphQL typename;</li>
<li>for "id": the object's GraphQL ID;</li>
<li>for primitive fields: the corresponding primitive value;</li>
<li>for node reference fields: a reference to the corresponding
extracted object, which may be <code>null</code>;</li>
<li>for connection fields: an in-order array of the corresponding
extracted objects, each of which may be <code>null</code>;</li>
<li>for nested fields: an object with primitive and node reference
fields in the same form as above (note: nested objects do not
automatically have a "__typename" field).</li>
</ul>
<p>For instance, the result of <code>extract("issue:1")</code> might be:</p>
<pre><code>{
  __typename: "Issue",
  id: "issue:1172",
  title: "bug: holding &#x3C;Space> causes CPU to overheat",
  body: "We should fix this immediately.",
  author: {
    __typename: "User",
    id: "user:admin",
    login: "admin",
  },
  comments: [
    {
      __typename: "IssueComment",
      body: "I depend on this behavior; please do not change it.",
      author: {
        __typename: "User",
        id: "user:longtimeuser4",
        login: "longtimeuser4",
      },
    },
    {
      __typename: "IssueComment",
      body: "That's horrifying.",
      author: {
        __typename: "User",
        id: "user:admin",
        login: "admin",
      },
    },
  ],
  timeline: [
    {
      __typename: "Commit",
      messageHeadline: "reinstate CPU warmer (fixes #1172)",
      author: {
        date: "2001-02-03T04:05:06-07:00",
        user: {
          __typename: "User",
          id: "user:admin",
          login: "admin",
        }
      }
    }
  ],
}
</code></pre>
<p>(Here, "title" is a primitive, the "author" field on an issue is a
node reference, "comments" is a connection, and the "author" field
on a commit is a nested object.)</p>
<p>The returned structure may be circular.</p>
<p>If a node appears more than one time in the result---for instance,
the "user:admin" node above---all instances will refer to the same
object. However, objects are distinct across calls to <code>extract</code>, so
it is safe to deeply mutate the result of this function.</p>
<p>The provided object ID must correspond to a known object, or an
error will be thrown. Furthermore, all transitive dependencies of
the object must have been at least partially loaded at some point,
or an error will be thrown.</p>

    <div class='pre p1 fill-light mt0'>extract(rootId: Schema.ObjectId): any</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rootId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>any</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mirror'>
      Mirror
    </h3>
    
    
  </div>
  

  <p>Mirrors data from the Discourse API into a local sqlite db.</p>
<p>This class allows us to persist a local copy of data from a Discourse
instance. We have it for reasons similar to why we have a GraphQL mirror for
GitHub; it allows us to avoid re-doing expensive IO every time we re-load
SourceCred. It also gives us robustness in the face of network failures (we
can keep however much we downloaded until the fault).</p>
<p>As implemented, the Mirror will never update already-downloaded content,
meaning it will not catch edits or deletions. As such, it's advisable to
replace the cache periodically (perhaps once a week or month). We may
implement automatic cache invalidation in the future.</p>
<p>Each Mirror instance is tied to a particular server. Trying to use a mirror
for multiple Discourse servers is not permitted; use separate Mirrors.</p>

    <div class='pre p1 fill-light mt0'>new Mirror(repo: MirrorRepository, fetcher: <a href="#discourse">Discourse</a>, serverUrl: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, options: $Shape&#x3C;MirrorOptions>?)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repo</span> <code class='quiet'>(MirrorRepository)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fetcher</span> <code class='quiet'>(<a href="#discourse">Discourse</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>serverUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>($Shape&#x3C;MirrorOptions>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='mirror_initialize'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_initialize()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Embed the GraphQL schema into the database, initializing it for use
as a mirror.</p>
<p>This method should only be invoked once, at construction time.</p>
<p>If the database has already been initialized with the same schema
and version, no action is taken and no error is thrown. If the
database has been initialized with a different schema or version,
the database is left unchanged, and an error is thrown.</p>
<p>A discussion of the database structure follows.</p>
<hr>
<p>Objects have three kinds of fields: connections, links, and
primitives. The database likewise has a <code>connections</code> table,
<code>links</code> table, and <code>primitives</code> table, each storing corresponding
data for all GraphQL object types.</p>
<p>In more detail:</p>
<ul>
<li>
<p>The <code>connections</code> table has a row for each <code>(id, fieldname)</code>
pair, where <code>fieldname</code> is the name of a connection field on the
object with the given ID. This stores metadata about the
connection: its total count, when it was last updated, etc. It
does not store the actual entries in the connection (the nodes
that the connection points to); <code>connection_entries</code> stores
these.</p>
</li>
<li>
<p>The <code>links</code> table has a row for each <code>(id, fieldname)</code> pair,
where <code>fieldname</code> is the name of a link field on the object
with the given ID. This simply points to the referenced object.</p>
</li>
<li>
<p>The <code>primitives</code> table has a row for each <code>(id, fieldname)</code>
pair, where <code>fieldname</code> is the name of a (non-ID) primitive
field on the object with the given ID. The <code>value</code> column holds
the JSON-stringified primitive value: so, for instance, the
JSON value <code>null</code> is represented as the SQL string 'null',
<em>not</em> SQL NULL, while the JSON string "null" is represented as
the SQL string '"null"'. This is primarily to accommodate
storing booleans: SQLite has no boolean storage class, and we
cannot simply encode <code>true</code> and <code>false</code> as <code>1</code> and <code>0</code> because
we need to be able to distinguish between these respective
values when we read them back out. There are other ways to do
this more efficiently in both space and time (see discussion on
#883 for some options).</p>
</li>
</ul>
<p>These fields are type-specific, and so only exist once a node's
typename is set.</p>
<p>We refer to node and primitive data together as "own data", because
this is the data that can be queried uniformly for all elements of
a type; querying connection data, by contrast, requires the
object-specific end cursor.</p>
<p>Nested fields merit additional explanation. The nested field itself
exists on the <code>primitives</code> table with SQL value NULL, 0, or 1 (as
SQL integers, not strings). As with all other primitives, <code>NULL</code>
indicates that the value has never been fetched. If the value has
been fetched, it is 0 if the nested field itself was <code>null</code> on the
GraphQL result, or 1 if it was present. This field lets us
distinguish "author: null" from "author: {user: null}".</p>
<p>The "eggs" of a nested field are treated as normal primitive or
link values, whose fieldname is the nested fieldname and egg
fieldname joined by a period. So, if object type <code>Foo</code> has nested
field <code>bar: Schema.nested({baz: Schema.primitive()})</code>, then the
<code>primitives</code> table will include a row with fieldname 'bar.baz'.
Likewise, a row in the <code>links</code> table might have fieldname
'quux.zod'.</p>
<p>All aforementioned tables are keyed by object ID. Each object also
appears once in the <code>objects</code> table, which relates its ID,
typename, and last own-data update. Each connection has its own
last-update value, because connections can be updated independently
of each other and of own-data. An object's typename may be <code>NULL</code>
if we have only reached the object through edges of unfaithful
type, in which case we will perform an extra query to definitively
determine fetch the object's type before requesting its own data or
connections.</p>
<p>Note that any object in the database should have entries in the
<code>connections</code>, <code>links</code>, and <code>primitives</code> tables for all relevant
fields, even if the node has never been updated. This is for
convenience of implementation: it means that the first fetch for a
node is the same as subsequent fetches (a simple SQL <code>UPDATE</code>
instead of first requiring an existence check).</p>
<p>A table <code>network_log</code> logs all GraphQL requests made by this module
and their corresponding responses, as well as the update created
from the response. This is for debugging. For example, if a node in
the database is corrupt in some way, inspecting the network log
will show exactly which queries caused it to enter its broken
state. In theory, it should be possible to replay the network log
to re-create the database state exactly, though no tooling exists
to do so automatically.</p>
<p>Finally, a table <code>meta</code> is used to store metadata about the mirror
itself. This is used to make sure that the mirror is not loaded
with an incompatible version of the code or schema. It is never
updated after it is first set.</p>

    <div class='pre p1 fill-light mt0'>_initialize()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_createupdate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_createUpdate(updateTimestamp)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Register a new update, representing one communication with the
remote server. A unique ID will be created and returned.</p>

    <div class='pre p1 fill-light mt0'>_createUpdate(updateTimestamp: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): UpdateId</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateTimestamp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>UpdateId</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirrorregisterobject'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>registerObject(object)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Inform the GraphQL mirror of the existence of an object. The
object's ID must be specified. The object's concrete type may also
be specified, in which case it must be an OBJECT type in the
GraphQL schema.</p>
<p>If the object has previously been registered with the same type, no
action is taken and no error is raised. If the object has
previously been registered with a different type, an error is
thrown, and the database is left unchanged.</p>

    <div class='pre p1 fill-light mt0'>registerObject(object: {typename: (null | Schema.Typename), id: Schema.ObjectId}): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>object</span> <code class='quiet'>({typename: (null | Schema.Typename), id: Schema.ObjectId})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyregisterobject'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyRegisterObject(object, guessMismatchMessage?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>registerObject</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>
<p>This internal method also permits registering an object without
specifying its typename.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyRegisterObject(object: {typename: (null | Schema.Typename), id: Schema.ObjectId}, guessMismatchMessage: function (guess: Schema.Typename): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>object</span> <code class='quiet'>({typename: (null | Schema.Typename), id: Schema.ObjectId})</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>guessMismatchMessage</span> <code class='quiet'>(function (guess: Schema.Typename): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyregisternodefieldresult'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyRegisterNodeFieldResult(result, context)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Register an object corresponding to the provided <code>NodeFieldResult</code>,
if any, returning the object's ID. If the provided value is <code>null</code>,
no action is taken, no error is thrown, and <code>null</code> is returned.</p>
<p>As with <code>registerObject</code>, an error is thrown if an object by the
given ID already exists with a different typename.</p>
<p>This method does not begin or end any transactions. Other methods
may call this method as a subroutine in a larger transaction.</p>
<p>See: <code>registerObject</code>.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyRegisterNodeFieldResult(result: NodeFieldResult, context: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): (Schema.ObjectId | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>result</span> <code class='quiet'>(NodeFieldResult)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>(function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(Schema.ObjectId | null)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_findoutdated'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_findOutdated(since)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Find objects and connections that are not known to be up-to-date.</p>
<p>An object's typename is up-to-date if it has ever been fetched from
a faithful field reference or a direct typename query.</p>
<p>An object is up-to-date if its own data has been loaded at least as
recently as the provided date.</p>
<p>A connection is up-to-date if it has been fetched at least as
recently as the provided date, and at the time of fetching there
were no more pages.</p>

    <div class='pre p1 fill-light mt0'>_findOutdated(since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="#queryplan">QueryPlan</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>since</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#queryplan">QueryPlan</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_isuptodate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_isUpToDate(queryPlan)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Check whether the given query plan indicates that the mirror is
already up to date and no further queries are required.</p>

    <div class='pre p1 fill-light mt0'>_isUpToDate(queryPlan: <a href="#queryplan">QueryPlan</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryPlan</span> <code class='quiet'>(<a href="#queryplan">QueryPlan</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryfromplan'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryFromPlan(queryPlan, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set to fetch data corresponding to the
given query plan.</p>
<p>The resulting GraphQL should be embedded into a top-level query.</p>
<p>The result of this query is an <code>UpdateResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryFromPlan(queryPlan: <a href="#queryplan">QueryPlan</a>, options: {typenamesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryPlan</span> <code class='quiet'>(<a href="#queryplan">QueryPlan</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({typenamesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updatedata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest data given by an <code>UpdateResult</code>. This is porcelain over
<code>_updateConnection</code> and <code>_updateOwnData</code>.</p>
<p>See: <code>_findOutdated</code>.
See: <code>_queryFromPlan</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateData(updateId: UpdateId, queryResult: <a href="#updateresult">UpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#updateresult">UpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdatedata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateData</code>, but do not enter any transactions. Other methods
may call this method as a subroutine in a larger transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateData(updateId: UpdateId, queryResult: <a href="#updateresult">UpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#updateresult">UpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_logrequest'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_logRequest(body, variables, timestamp)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the request query and query parameters to the database.</p>

    <div class='pre p1 fill-light mt0'>_logRequest(body: Queries.Body, variables: {}, timestamp: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): NetworkLogId</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>body</span> <code class='quiet'>(Queries.Body)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>variables</span> <code class='quiet'>({})</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestamp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>NetworkLogId</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_logresponse'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_logResponse(rowid, jsonResponse, timestamp)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the network response and response timestamp to the table row
corresponding to the request that generated it.</p>

    <div class='pre p1 fill-light mt0'>_logResponse(rowid: NetworkLogId, jsonResponse: <a href="#updateresult">UpdateResult</a>, timestamp: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rowid</span> <code class='quiet'>(NetworkLogId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>jsonResponse</span> <code class='quiet'>(<a href="#updateresult">UpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestamp</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_logrequestupdateid'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_logRequestUpdateId(rowid, updateId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Save the UpdateId in the table row corresponding to the network request
that generated it.</p>

    <div class='pre p1 fill-light mt0'>_logRequestUpdateId(rowid: NetworkLogId, updateId: UpdateId): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rowid</span> <code class='quiet'>(NetworkLogId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updatestep'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateStep(postQuery, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Perform one step of the update loop: find outdated entities, fetch
their updates, and feed the results back into the database.</p>
<p>Returns a promise that resolves to <code>true</code> if any changes were made.</p>

    <div class='pre p1 fill-light mt0'>_updateStep(postQuery: function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>, options: {nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>postQuery</span> <code class='quiet'>(function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirrorupdate'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>update(postQuery, options)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Update this mirror with new information from a remote GraphQL
server.</p>
<p>The <code>postQuery</code> function should post a GraphQL query to the remote
server and return the <code>data</code> contents of its response, rejecting if
there are any errors. (Note that this requirement may change
backward-incompatibly in future versions of this module, in the
case that we wish to handle deletions without regenerating all
data.)</p>
<p>The options are as follows:</p>
<ul>
<li>
<p><code>since</code>: Fetch all data that is not known to be up-to-date as
of the provided time. For instance, to fetch all objects more
than a day old, use <code>new Date(new Date() - 86400e3)</code>.</p>
</li>
<li>
<p><code>now</code>: Function to yield the current date, which will be used
as the modification time for any objects or connections updated
in this process. Should probably be <code>() => new Date()</code>.</p>
</li>
<li>
<p><code>connectionPageSize</code>: Maximum number of entries to fetch in any
given connection. Some providers have a hard limit of 100 on
this value.</p>
</li>
<li>
<p><code>connectionLimit</code>: Maximum number of connections to fetch in a
single query.</p>
</li>
</ul>
<p>See: <code>registerObject</code>.
See: <code>extract</code>.</p>

    <div class='pre p1 fill-light mt0'>update(postQuery: function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>, options: {nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>postQuery</span> <code class='quiet'>(function ({body: Queries.Body, variables: {}}): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;any>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>({nodesLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, nodesOfTypeLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, connectionLimit: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, since: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>, now: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>})</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryshallow'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryShallow(typename, fidelity)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set required to identify an object of
the given declared type, which may be either an object type or a
union type. This is the minimal required data whenever we find a
reference to an object that we want to traverse later.</p>
<p>The <code>fidelity</code> argument should be the fidelity of the field being
traversed. If it is faithful, the object's typename will be queried
as well; if it is unfaithful, the typename will not be requested.</p>
<p>The resulting GraphQL should be embedded in the context of any node
of the provided type. For instance, <code>_queryShallow("Issue")</code>
returns a selection set that might replace the <code>?</code> in any of the
following queries:</p>
<pre><code>repository(owner: "foo", name: "bar") {
  issues(first: 1) {
    nodes { ? }
  }
}

nodes(ids: ["issue#1", "issue#2"]) { ? }
</code></pre>
<p>The result of this query has type <code>NodeFieldResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryShallow(typename: Schema.Typename, fidelity: Schema.Fidelity): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>typename</span> <code class='quiet'>(Schema.Typename)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fidelity</span> <code class='quiet'>(Schema.Fidelity)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_getendcursor'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_getEndCursor(objectId, fieldname)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get the current value of the end cursor on a connection, or
<code>undefined</code> if the object has never been fetched. If no object by
the given ID is known, or the object does not have a connection of
the given name, then an error is thrown.</p>
<p>Note that <code>null</code> is a valid end cursor and is distinct from
<code>undefined</code>.</p>

    <div class='pre p1 fill-light mt0'>_getEndCursor(objectId: Schema.ObjectId, fieldname: Schema.Fieldname): (<a href="#endcursor">EndCursor</a> | void)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>objectId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="#endcursor">EndCursor</a> | void)</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryConnection(typename, fieldname, endCursor, connectionPageSize)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set to fetch elements from a collection,
specified by its enclosing object type and the connection field
name (for instance, "Repository" and "issues").</p>
<p>If the connection has been queried before and you wish to fetch new
elements, use an appropriate end cursor. Use <code>undefined</code> otherwise.
Note that <code>null</code> is a valid end cursor and is distinct from
<code>undefined</code>. Note that these semantics are compatible with the
return value of <code>_getEndCursor</code>.</p>
<p>If an end cursor for a particular node's connection was specified,
then the resulting GraphQL should be embedded in the context of
that node. For instance, if repository "foo/bar" has ID "baz" and
an end cursor of "c000" on its "issues" connection, then the
GraphQL emitted by <code>_queryConnection("issues", "c000")</code> might
replace the <code>?</code> in the following query:</p>
<pre><code>node(id: "baz") { ? }
</code></pre>
<p>If no end cursor was specified, then the resulting GraphQL may be
embedded in the context of <em>any</em> node with a connection of the
appropriate fieldname. For instance, <code>_queryConnection("issues")</code>
emits GraphQL that may replace the <code>?</code> in either of the following
queries:</p>
<pre><code>node(id: "baz") { ? }  # where "baz" is a repository ID
repository(owner: "foo", name: "bar") { ? }
</code></pre>
<p>Note, however, that this query will fetch nodes from the <em>start</em> of
the connection. It would be wrong to append these results onto an
connection for which we have already fetched data.</p>
<p>The result of this query has type <code>ConnectionFieldResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>
<p>See: <code>_getEndCursor</code>.
See: <code>_updateConnection</code>.</p>

    <div class='pre p1 fill-light mt0'>_queryConnection(typename: Schema.Typename, fieldname: Schema.Fieldname, endCursor: (<a href="#endcursor">EndCursor</a> | void), connectionPageSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>typename</span> <code class='quiet'>(Schema.Typename)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endCursor</span> <code class='quiet'>((<a href="#endcursor">EndCursor</a> | void))</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>connectionPageSize</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updateconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateConnection(updateId, objectId, fieldname, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest new entries in a connection on an existing object.</p>
<p>The connection's last update will be set to the given value, which
must be an existing update lest an error be thrown.</p>
<p>If the object does not exist or does not have a connection by the
given name, an error will be thrown.</p>
<p>See: <code>_queryConnection</code>.
See: <code>_createUpdate</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateConnection(updateId: UpdateId, objectId: Schema.ObjectId, fieldname: Schema.Fieldname, queryResult: ConnectionFieldResult): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>objectId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(ConnectionFieldResult)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdateconnection'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateConnection(updateId, objectId, fieldname, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateConnection</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateConnection(updateId: UpdateId, objectId: Schema.ObjectId, fieldname: Schema.Fieldname, queryResult: ConnectionFieldResult): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>objectId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(Schema.Fieldname)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(ConnectionFieldResult)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_queryowndata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryOwnData(typename)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set required to fetch the own-data
(primitives and node references) of an object, but not its
connection entries. The result depends only on the (concrete) type
of the object, not its ID.</p>
<p>The provided typename must correspond to an object type, not a
union type; otherwise, an error will be thrown.</p>
<p>The resulting GraphQL can be embedded into the context of any node
with the provided typename. For instance, if there are issues with
IDs "#1" and "#2", then <code>_queryOwnData("Issue")</code> emits GraphQL
that may replace the <code>?</code> in any of the following queries:</p>
<pre><code>repository(owner: "foo", name: "bar") {
  issues(first: 1) { ? }
}
nodes(ids: ["#1", "#2") { ... on Issue { ? } }
node(id: "#1") { ... on Issue { ? } }
</code></pre>
<p>The result of this query has type <code>E</code>, where <code>E</code> is the element
type of <code>OwnDataUpdateResult</code>. That is, it is an object with shape
that depends on the provided typename: the name of each ID or
primitive field is a key mapping to a primitive value, and the name
of each node field is a key mapping to a <code>NodeFieldResult</code>.
Additionally, the attribute "__typename" maps to the node's
typename.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryOwnData(typename: Schema.Typename): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>typename</span> <code class='quiet'>(Schema.Typename)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updateowndata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateOwnData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest own-data (primitive and link) updates for many objects of a
fixed concrete type. Every object in the input list must have the
same <code>__typename</code> attribute, which must be the name of a valid
object type.</p>
<p>See: <code>_queryOwnData</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateOwnData(updateId: UpdateId, queryResult: <a href="#owndataupdateresult">OwnDataUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#owndataupdateresult">OwnDataUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdateowndata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateOwnData(updateId, queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateOwnData</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateOwnData(updateId: UpdateId, queryResult: <a href="#owndataupdateresult">OwnDataUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>updateId</span> <code class='quiet'>(UpdateId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#owndataupdateresult">OwnDataUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_querytypename'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_queryTypename()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Create a GraphQL selection set required to fetch the typename of an
object. The resulting GraphQL can be embedded in any node context.</p>
<p>The result of this query has type <code>E</code>, where <code>E</code> is the element
type of <code>TypenamesUpdateResult</code>.</p>
<p>This function is pure: it does not interact with the database.</p>

    <div class='pre p1 fill-light mt0'>_queryTypename(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Queries.Selection></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_updatetypenames'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_updateTypenames(queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Ingest typenames for many object IDs.</p>
<p>See: <code>_queryTypenames</code>.</p>

    <div class='pre p1 fill-light mt0'>_updateTypenames(queryResult: <a href="#typenamesupdateresult">TypenamesUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#typenamesupdateresult">TypenamesUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirror_nontransactionallyupdatetypenames'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_nontransactionallyUpdateTypenames(queryResult)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>As <code>_updateTypenames</code>, but do not enter any transactions. Other
methods may call this method as a subroutine in a larger
transaction.</p>

    <div class='pre p1 fill-light mt0'>_nontransactionallyUpdateTypenames(queryResult: <a href="#typenamesupdateresult">TypenamesUpdateResult</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>queryResult</span> <code class='quiet'>(<a href="#typenamesupdateresult">TypenamesUpdateResult</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mirrorextract'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>extract(rootId)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Extract a structured object and all of its transitive dependencies
from the database.</p>
<p>The result is an object whose keys are fieldnames, and whose values
are:</p>
<ul>
<li>for "__typename": the object's GraphQL typename;</li>
<li>for "id": the object's GraphQL ID;</li>
<li>for primitive fields: the corresponding primitive value;</li>
<li>for node reference fields: a reference to the corresponding
extracted object, which may be <code>null</code>;</li>
<li>for connection fields: an in-order array of the corresponding
extracted objects, each of which may be <code>null</code>;</li>
<li>for nested fields: an object with primitive and node reference
fields in the same form as above (note: nested objects do not
automatically have a "__typename" field).</li>
</ul>
<p>For instance, the result of <code>extract("issue:1")</code> might be:</p>
<pre><code>{
  __typename: "Issue",
  id: "issue:1172",
  title: "bug: holding &#x3C;Space> causes CPU to overheat",
  body: "We should fix this immediately.",
  author: {
    __typename: "User",
    id: "user:admin",
    login: "admin",
  },
  comments: [
    {
      __typename: "IssueComment",
      body: "I depend on this behavior; please do not change it.",
      author: {
        __typename: "User",
        id: "user:longtimeuser4",
        login: "longtimeuser4",
      },
    },
    {
      __typename: "IssueComment",
      body: "That's horrifying.",
      author: {
        __typename: "User",
        id: "user:admin",
        login: "admin",
      },
    },
  ],
  timeline: [
    {
      __typename: "Commit",
      messageHeadline: "reinstate CPU warmer (fixes #1172)",
      author: {
        date: "2001-02-03T04:05:06-07:00",
        user: {
          __typename: "User",
          id: "user:admin",
          login: "admin",
        }
      }
    }
  ],
}
</code></pre>
<p>(Here, "title" is a primitive, the "author" field on an issue is a
node reference, "comments" is a connection, and the "author" field
on a commit is a nested object.)</p>
<p>The returned structure may be circular.</p>
<p>If a node appears more than one time in the result---for instance,
the "user:admin" node above---all instances will refer to the same
object. However, objects are distinct across calls to <code>extract</code>, so
it is safe to deeply mutate the result of this function.</p>
<p>The provided object ID must correspond to a known object, or an
error will be thrown. Furthermore, all transitive dependencies of
the object must have been at least partially loaded at some point,
or an error will be thrown.</p>

    <div class='pre p1 fill-light mt0'>extract(rootId: Schema.ObjectId): any</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rootId</span> <code class='quiet'>(Schema.ObjectId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>any</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='schemainfo'>
      SchemaInfo
    </h3>
    
    
  </div>
  

  <p>Decomposition of a schema, grouping types by their kind (object vs.
union) and object fields by their kind (primitive vs. link vs.
connection).</p>
<p>All arrays contain elements in arbitrary order.</p>

    <div class='pre p1 fill-light mt0'>SchemaInfo</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>objectTypes</span> <code class='quiet'>({})</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>unionTypes</span> <code class='quiet'>({})</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='queryplan'>
      QueryPlan
    </h3>
    
    
  </div>
  

  <p>A set of objects and connections that should be updated.</p>

    <div class='pre p1 fill-light mt0'>QueryPlan</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>typenames</span> <code class='quiet'>($ReadOnlyArray&#x3C;Schema.ObjectId>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>objects</span> <code class='quiet'>($ReadOnlyArray&#x3C;{typename: Schema.Typename, id: Schema.ObjectId}>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>connections</span> <code class='quiet'>($ReadOnlyArray&#x3C;{objectTypename: Schema.Typename, objectId: Schema.ObjectId, fieldname: Schema.Fieldname, endCursor: (<a href="#endcursor">EndCursor</a> | void)}>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='endcursor'>
      EndCursor
    </h3>
    
    
  </div>
  

  <p>An <code>endCursor</code> of a GraphQL <code>pageInfo</code> object, denoting where the
cursor should continue reading the next page. This is <code>null</code> when the
cursor is at the beginning of the connection (i.e., when the
connection is empty, or when <code>first: 0</code> is provided).</p>

    <div class='pre p1 fill-light mt0'>EndCursor</div>
  
    <p>
      Type:
      (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | null)
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='typenamesupdateresult'>
      TypenamesUpdateResult
    </h3>
    
    
  </div>
  

  <p>Result describing only the typename of a set of nodes. Used when we
only have references to nodes via unfaithful fields.</p>

    <div class='pre p1 fill-light mt0'>TypenamesUpdateResult</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{__typename: Schema.Typename, id: Schema.ObjectId}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='owndataupdateresult'>
      OwnDataUpdateResult
    </h3>
    
    
  </div>
  

  <p>Result describing own-data for many nodes of a given type. Whether a
value is a <code>PrimitiveResult</code> or a <code>NodeFieldResult</code> is determined by
the schema.</p>
<p>This type would be exact but for facebook/flow#2977, et al.</p>

    <div class='pre p1 fill-light mt0'>OwnDataUpdateResult</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{__typename: Schema.Typename, id: Schema.ObjectId}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeconnectionsupdateresult'>
      NodeConnectionsUpdateResult
    </h3>
    
    
  </div>
  

  <p>Result describing new elements for connections on a single node.</p>
<p>This type would be exact but for facebook/flow#2977, et al.</p>

    <div class='pre p1 fill-light mt0'>NodeConnectionsUpdateResult</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>id</span> <code class='quiet'>(Schema.ObjectId)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='updateresult'>
      UpdateResult
    </h3>
    
    
  </div>
  

  <p>Result describing all kinds of updates. Each key's prefix determines
what type of results the corresponding value represents (see
constants below). No field prefix is a prefix of another, so this
characterization is complete.</p>
<p>This type would be exact but for facebook/flow#2977, et al.</p>
<p>See: <code>_FIELD_PREFIXES</code>.</p>

    <div class='pre p1 fill-light mt0'>UpdateResult</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='typenames'>
      TYPENAMES
    </h3>
    
    
  </div>
  

  <p>A key of an <code>UpdateResult</code> has this prefix if and only if the
corresponding value represents <code>TypenamesUpdateResult</code>s.</p>

    <div class='pre p1 fill-light mt0'>TYPENAMES</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='own_data'>
      OWN_DATA
    </h3>
    
    
  </div>
  

  <p>A key of an <code>UpdateResult</code> has this prefix if and only if the
corresponding value represents <code>OwnDataUpdateResult</code>s.</p>

    <div class='pre p1 fill-light mt0'>OWN_DATA</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='node_connections'>
      NODE_CONNECTIONS
    </h3>
    
    
  </div>
  

  <p>A key of an <code>UpdateResult</code> has this prefix if and only if the
corresponding value represents <code>NodeConnectionsUpdateResult</code>s.</p>

    <div class='pre p1 fill-light mt0'>NODE_CONNECTIONS</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_makesingleupdatefunction'>
      _makeSingleUpdateFunction
    </h3>
    
    
  </div>
  

  <p>Convert a prepared statement into a JS function that executes that
statement and asserts that it makes exactly one change to the
database.</p>
<p>The prepared statement must use only named parameters, not positional
parameters.</p>
<p>The prepared statement must not return data (e.g., INSERT and UPDATE
are okay; SELECT is not).</p>
<p>The statement is not executed inside an additional transaction, so in
the case that the assertion fails, the effects of the statement are
not rolled back by this function.</p>
<p>This is useful when the statement is like <code>UPDATE ... WHERE id = ?</code>
and it is assumed that <code>id</code> is a primary key for a record already
exists---if either existence or uniqueness fails, this method will
raise an error quickly instead of leading to a corrupt state.</p>
<p>For example, this code...</p>
<pre><code>const setName: ({|+userId: string, +newName: string|}) => void =
  _makeSingleUpdateFunction(
    "UPDATE users SET name = :newName WHERE id = :userId"
  );
setName({userId: "user:foo", newName: "The Magnificent Foo"});
</code></pre>
<p>...will update <code>user:foo</code>'s name, or throw an error if there is no
such user or if multiple users have this ID.</p>

    <div class='pre p1 fill-light mt0'>_makeSingleUpdateFunction(stmt: Statement): function (Args): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>stmt</span> <code class='quiet'>(Statement)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>function (Args): void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='body'>
      Body
    </h3>
    
    
  </div>
  

  <p>GraphQL structured query data format.</p>
<p>Main module exports:</p>
<ul>
<li>lots of types for various GraphQL language constructs</li>
<li>the <code>build</code> object, providing a fluent builder API</li>
<li>the <code>stringify</code> object, and particularly <code>stringify.body</code></li>
<li>the two layout strategies <code>multilineLayout</code> and <code>inlineLayout</code></li>
</ul>

    <div class='pre p1 fill-light mt0'>Body</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Definition>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='layoutstrategy'>
      LayoutStrategy
    </h3>
    
    
  </div>
  

  <p>A strategy for stringifying a sequence of GraphQL language tokens.</p>

    <div class='pre p1 fill-light mt0'>LayoutStrategy</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='multilinelayout'>
      multilineLayout
    </h3>
    
    
  </div>
  

  <p>Create a layout strategy that lays out text over multiple lines,
indenting with the given tab string (such as "\t" or "  ").</p>

    <div class='pre p1 fill-light mt0'>multilineLayout(tab: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="#layoutstrategy">LayoutStrategy</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tab</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#layoutstrategy">LayoutStrategy</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='inlinelayout'>
      inlineLayout
    </h3>
    
    
  </div>
  

  <p>Create a layout strategy that lays out all text on one line.</p>

    <div class='pre p1 fill-light mt0'>inlineLayout(): <a href="#layoutstrategy">LayoutStrategy</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#layoutstrategy">LayoutStrategy</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='typename'>
      Typename
    </h3>
    
    
  </div>
  

  <p>Data types to describe a particular subset of GraphQL schemata.
Schemata represented by this module must satisfy these constraints:</p>
<ul>
<li>Every object must have an <code>id</code> field of primitive type.</li>
<li>Every field of an object must be either a primitive, a reference
to a single (possibly nullable) object, or a <em>connection</em> as
described in the Relay cursor connections specification. In
particular, no field may directly contain a list.</li>
<li>Interface types must be represented as unions of all their
implementations.</li>
</ul>

    <div class='pre p1 fill-light mt0'>Typename</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='cacheid'>
      CacheId
    </h3>
    
    
  </div>
  

  <p>A derived ID to reference a cache layer.</p>

    <div class='pre p1 fill-light mt0'>CacheId</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='cacheidforrepoid'>
      cacheIdForRepoId
    </h3>
    
    
  </div>
  

  <p>Derives the CacheId for a RepoId.</p>
<p>Returned <code>CacheId</code>s will be:</p>
<ul>
<li>Deterministic</li>
<li>Unique for this plugin</li>
<li>Lowercase</li>
<li>Safe to use for filenames</li>
<li>Distinct for semantically distinct inputs (input IDs that differ
only in case may map to the same output, because GitHub does not
permit collisions-modulo-case)</li>
</ul>

    <div class='pre p1 fill-light mt0'>cacheIdForRepoId(repoId: RepoId): <a href="#cacheid">CacheId</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repoId</span> <code class='quiet'>(RepoId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#cacheid">CacheId</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='retry'>
      retry
    </h3>
    
    
  </div>
  

  <p>Run a retryable operation until it terminates or exhausts its retry
policy. If <code>attempt</code> ever rejects, this function also immediately
rejects with the same value.</p>

    <div class='pre p1 fill-light mt0'>retry(attempt: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;AttemptOutcome&#x3C;T, E>>, policy: $Shape&#x3C;RetryPolicy>?, io: Io): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result&#x3C;T, E>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>attempt</span> <code class='quiet'>(function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;AttemptOutcome&#x3C;T, E>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>policy</span> <code class='quiet'>($Shape&#x3C;RetryPolicy>?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>io</span> <code class='quiet'>(Io
            = <code>realIo</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result&#x3C;T, E>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='compressbyremovingbody'>
      compressByRemovingBody
    </h3>
    
    
  </div>
  

  <p>Mutate the RelationalView, by replacing all of the post bodies with
empty strings. Usage of this method is a convenient hack to save space,
as we don't currently use the bodies after the _addReferences step.
Also removes commit messages.</p>

    <div class='pre p1 fill-light mt0'>compressByRemovingBody()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='urlreferencemap'>
      urlReferenceMap
    </h3>
    
    
  </div>
  

  <p>Creates a Map&#x3C;URL, NodeAddressT> for each ReferentEntity in this view.
Note: duplicates are accepted within one view. However for any URL, the
corresponding N.RawAddress should be the same, or we'll throw an error.</p>

    <div class='pre p1 fill-light mt0'>urlReferenceMap(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/URL/URL">URL</a>, <a href="#nodeaddresst">NodeAddressT</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/URL/URL">URL</a>, <a href="#nodeaddresst">NodeAddressT</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='expectallnonnull'>
      expectAllNonNull
    </h3>
    
    
  </div>
  

  <p>Invoke this function when the GitHub GraphQL schema docs indicate
that a connection provides a list of <em>nullable</em> nodes, but we expect
them all to always be non-null.</p>
<p>This will drop any <code>null</code> elements from the provided list, issuing a
warning to stderr if <code>null</code>s are found.</p>

    <div class='pre p1 fill-light mt0'>expectAllNonNull(context: {__typename: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}, fieldname: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, xs: $ReadOnlyArray&#x3C;(null | T)>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>context</span> <code class='quiet'>({__typename: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>})</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fieldname</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>xs</span> <code class='quiet'>($ReadOnlyArray&#x3C;(null | T)>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parsereferences'>
      parseReferences
    </h3>
    
    
  </div>
  

  <p>Parse GitHub references from a Markdown document, such as an issue or
comment body. This will include references that span multiple lines
(across softbreaks), and exclude references that occur within code
blocks.</p>

    <div class='pre p1 fill-light mt0'>parseReferences(body: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ParsedReference></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>body</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ParsedReference></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='textblocks'>
      textBlocks
    </h3>
    
    
  </div>
  

  <p>Extract maximal contiguous blocks of text from a Markdown string, in
source-appearance order.</p>
<p>For the purposes of this method, code (of both the inline and block
varieties) is not considered text, and will not be included in the
output at all. HTML contents are similarly excluded.</p>
<p>Normal text, emphasized/strong text, link text, and image alt text
all count as text and will be included. A block of text is not
required to have the same formatting: e.g., the Markdown document
given by <code>hello *there* [you](https://example.com)</code> without the
backticks has one contiguous block of text: <code>"hello there you"</code>.</p>
<p>Softbreaks count as normal text, and render as a single space.
Hardbreaks break a contiguous block of text.</p>
<p>Block-level elements, such as paragraphs, lists, and block quotes,
break contiguous blocks of text.</p>
<p>See test cases for examples.</p>

    <div class='pre p1 fill-light mt0'>textBlocks(string: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>string</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromrelationalviews'>
      fromRelationalViews
    </h3>
    
    
  </div>
  

  <p>Builds a GithubReferenceDetector using multiple RelationalView.
As RelationalView should only be used for one repository at a time, you will
commonly want to compose several of them into one GithubReferenceDetector.</p>
<p>Note: duplicates are normally expected. However for any URL, the corresponding
NodeAddressT should be the same, or we'll throw an error.</p>

    <div class='pre p1 fill-light mt0'>fromRelationalViews(views: $ReadOnlyArray&#x3C;RelationalView>): GithubReferenceDetector</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>views</span> <code class='quiet'>($ReadOnlyArray&#x3C;RelationalView>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>GithubReferenceDetector</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mappedreferencedetector'>
      MappedReferenceDetector
    </h3>
    
    
  </div>
  

  <p>A reference detector which uses a pregenerated <code>Map&#x3C;URL, NodeAddressT></code> as a
lookup table.</p>
<p>Note: this is sensitive to canonicalization issues because it's based on string
comparisons. For example:</p>
<ul>
<li>"<a href="http://foo.bar/123">http://foo.bar/123</a>" != "<a href="http://foo.bar/123#chapter-2">http://foo.bar/123#chapter-2</a>"</li>
<li>"<a href="http://foo.bar/?a=1&#x26;b=2">http://foo.bar/?a=1&#x26;b=2</a>" != "<a href="http://foo.bar/?b=2&#x26;a=1">http://foo.bar/?b=2&#x26;a=1</a>"</li>
<li>"<a href="http://foo.bar/space+bar">http://foo.bar/space+bar</a>" != "<a href="http://foo.bar/space%20bar">http://foo.bar/space%20bar</a>"</li>
</ul>

    <div class='pre p1 fill-light mt0'>new MappedReferenceDetector(map: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/URL/URL">URL</a>, <a href="#nodeaddresst">NodeAddressT</a>>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>map</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/URL/URL">URL</a>, <a href="#nodeaddresst">NodeAddressT</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='translatingreferencedetector'>
      TranslatingReferenceDetector
    </h3>
    
    
  </div>
  

  <p>A ReferenceDetector which takes a base ReferenceDetector and applies a
translate function to any results.</p>

    <div class='pre p1 fill-light mt0'>new TranslatingReferenceDetector(base: ReferenceDetector, translate: TranslateFunction)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>base</span> <code class='quiet'>(ReferenceDetector)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>translate</span> <code class='quiet'>(TranslateFunction)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validatetoken'>
      validateToken
    </h3>
    
    
  </div>
  

  <p>Validates a token against know formatting.
Throws an error if it appears invalid.</p>
<p>Personal access token
<a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line</a></p>
<p>Installation access token
<a href="https://developer.github.com/v3/apps/#create-a-new-installation-token">https://developer.github.com/v3/apps/#create-a-new-installation-token</a></p>

    <div class='pre p1 fill-light mt0'>validateToken(token: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): GithubToken</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>token</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>GithubToken</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='discordconfigjson'>
      DiscordConfigJson
    </h3>
    
    
  </div>
  

  <p>The serialized form of the Discord config.
If you are editing a config.json file, it should match this type.</p>
<p>TODO: This type is kind of disorganized. It would be cleaner to have all the
weight configuration in single optional sub-object, I think. Consider
cleaning up before 0.8.0.</p>

    <div class='pre p1 fill-light mt0'>DiscordConfigJson</div>
  
    <p>
      Type:
      $ReadOnlyArray&#x3C;{guildId: Model.Snowflake, reactionWeightConfig: ReactionWeightConfig?, roleWeightConfig: RoleWeightConfig?, channelWeightConfig: ChannelWeightConfig?, propsChannels: $ReadOnlyArray&#x3C;Model.Snowflake>?, includeNsfwChannels: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?, simplifyGraph: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?, beginningDate: TimestampISO?}>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_upgrade'>
      _upgrade
    </h3>
    
    
  </div>
  

  <p>Upgrade from the version on disk to the DiscordConfig.</p>
<p>For now, this allows us to refactor to a cleaner internal type without breaking any existing users.
We may need this indefinitely if e.g. we decide to de-serialize the raw JSON into maps (since maps
can't be written directly to JSON).</p>

    <div class='pre p1 fill-light mt0'>_upgrade(json: <a href="#discordconfigjson">DiscordConfigJson</a>): DiscordConfigs</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>json</span> <code class='quiet'>(<a href="#discordconfigjson">DiscordConfigJson</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>DiscordConfigs</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='graphmessage'>
      GraphMessage
    </h3>
    
    
  </div>
  

  <p>All of the information necessary to add a message to
the graph, along with its reactions and its mentions.</p>

    <div class='pre p1 fill-light mt0'>GraphMessage</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>message</span> <code class='quiet'>(Model.Message)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>author</span> <code class='quiet'>((Model.GuildMember | null))</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>reactions</span> <code class='quiet'>($ReadOnlyArray&#x3C;GraphReaction>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>mentions</span> <code class='quiet'>($ReadOnlyArray&#x3C;GraphMention>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>channelId</span> <code class='quiet'>(Model.Snowflake)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>channelName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>channelParentId</span> <code class='quiet'>(Model.Snowflake?)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='findgraphmessages'>
      findGraphMessages
    </h3>
    
    
  </div>
  

  <p>Find all of the messages that should go into the graph.
This will deliberately ignore messages that have no reactions, since
they have no Cred impact and don't need to go into the graph.</p>

    <div class='pre p1 fill-light mt0'>findGraphMessages(repo: SqliteMirrorRepository): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>repo</span> <code class='quiet'>(SqliteMirrorRepository)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='topichaslikedpost'>
      TopicHasLikedPost
    </h3>
    
    
  </div>
  

  <p>TopicHasLikedPost edges connect a Topic to the posts
in that topic that were liked, in proportion to the
total like weight of the post in question.</p>
<p>See: <a href="https://github.com/sourcecred/sourcecred/issues/1896">https://github.com/sourcecred/sourcecred/issues/1896</a></p>

    <div class='pre p1 fill-light mt0'>TopicHasLikedPost</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>edge</span> <code class='quiet'>(<a href="#edge">Edge</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>weight</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parselinks'>
      parseLinks
    </h3>
    
    
  </div>
  

  <p>Parse the links from a Discourse post's cookedHtml, generating
an array of UrlStrings. All of the UrlStrings will contain the full
server URL (i.e. relative references are made absolute). The serverUrl
is required so that we can do this.</p>

    <div class='pre p1 fill-light mt0'>parseLinks(cookedHtml: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serverUrl: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;UrlString></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>cookedHtml</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>serverUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;UrlString></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='defaulttagweight'>
      defaultTagWeight
    </h3>
    
    
  </div>
  

  <p>Tags can be configured to confer specific like-weight multipliers when
added to a Topic.
If a tag does not have a configured weight, the defaultWeight is applied.
An example configuration might look like:</p>
<pre><code>"weights": {
  "defaultTagWeight": 1,
  "tagWeights": {
    "foo": 0,
    "bar": 1.25,
    "baz": 2
  }
  // categoryWeight configs...
}
</code></pre>
<p>where foo and bar are the names of tags used in discourse.</p>
<p>When multiple tags are assigned to a topic, their weights are multiplied
together to yield a total tag Weight multiplier. In our example configuration,
if both foo and bar are added to a topic, likes on posts in the topic will
have a weight of 0, (0 * 1.25 = 0), which means that no cred will be minted
by those likes.</p>
<p>If "bar" and "baz" are both added to another topic, the likes on all posts
in that topic will carry a weight of 2.5 (1.25 * 2 = 2.5), which means that
2.5x as much cred will be minted by those likes.</p>

    <div class='pre p1 fill-light mt0'>defaultTagWeight</div>
  
    <p>
      Type:
      <a href="#nodeweight">NodeWeight</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='defaultcategoryweight'>
      defaultCategoryWeight
    </h3>
    
    
  </div>
  

  <p>Categories can be configured to confer a specific like-weight multiplier
when added to a Topic.
If a category does not have a configured weight, the defaultWeight is applied.
An example configuration might look like:</p>
<pre><code>weights: {
 "defaultCategoryWeight": 1,
 "categoryWeights": {
   "5": 0,
   "36": 1.25
 }
 // tagWeight configs...
}
</code></pre>
<p>where "5" and "36" are the categoryIds in discourse.</p>
<p>An easy way to find the categoryId for a given category is to browse to the
categories section in discourse
(e.g. <a href="https://discourse.sourcecred.io/categories">https://discourse.sourcecred.io/categories</a>).
Then mousing over or clicking on a category will bring you to a url that
has the shape <a href="https://exampleUrl.com/c/">https://exampleUrl.com/c/</a>/
Clicking on the community category in sourcecred navigates to
<a href="https://discourse.sourcecred.io/c/community/26">https://discourse.sourcecred.io/c/community/26</a> for example, where the
categoryId is 26</p>

    <div class='pre p1 fill-light mt0'>defaultCategoryWeight</div>
  
    <p>
      Type:
      <a href="#nodeweight">NodeWeight</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='readrepository'>
      ReadRepository
    </h3>
    
    
  </div>
  

  <p>An interface for reading the local Discourse data.</p>

    <div class='pre p1 fill-light mt0'>ReadRepository</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='readrepositorytopics'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>topics()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Retrieve every Topic available.</p>
<p>The order is unspecified.</p>

    <div class='pre p1 fill-light mt0'>topics(): $ReadOnlyArray&#x3C;<a href="#topic">Topic</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;<a href="#topic">Topic</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositoryposts'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>posts()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Retrieve every Post available.</p>
<p>The order is unspecified.</p>

    <div class='pre p1 fill-light mt0'>posts(): $ReadOnlyArray&#x3C;Post></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;Post></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositoryfindpostintopic'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>findPostInTopic(topicId, indexWithinTopic)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Given a TopicId and a post number, find that numbered post within the topic.</p>
<p>Returns undefined if no such post is available.</p>

    <div class='pre p1 fill-light mt0'>findPostInTopic(topicId: TopicId, indexWithinTopic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): PostId?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topicId</span> <code class='quiet'>(TopicId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>indexWithinTopic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>PostId?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositoryusers'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>users()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Get usernames for all users.</p>
<p>The order is unspecified.</p>

    <div class='pre p1 fill-light mt0'>users(): $ReadOnlyArray&#x3C;User></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;User></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositorylikes'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>likes()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Gets all of the like actions in the history.</p>

    <div class='pre p1 fill-light mt0'>likes(): $ReadOnlyArray&#x3C;LikeAction></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;LikeAction></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositoryfinduser'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>findUser(username)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Gets the user with a given name, if they exist.</p>
<p>Note: input username is case-insensitive.</p>

    <div class='pre p1 fill-light mt0'>findUser(username: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): User?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>username</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>User?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositorytopicbyid'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>topicById(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Gets a Topic by ID.</p>

    <div class='pre p1 fill-light mt0'>topicById(id: TopicId): <a href="#topic">Topic</a>?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(TopicId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#topic">Topic</a>?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='readrepositorypostbyid'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>postById(id)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Gets a Post by ID.</p>

    <div class='pre p1 fill-light mt0'>postById(id: PostId): Post?</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(PostId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Post?</code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='definitioncheckms'>
      definitionCheckMs
    </h3>
    
    
  </div>
  

  <p>The timestamp of the last time we've loaded category definition topics.
Used for determining whether we should reload them during an update.</p>

    <div class='pre p1 fill-light mt0'>definitionCheckMs</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='topicbumpms'>
      topicBumpMs
    </h3>
    
    
  </div>
  

  <p>The most recent bumpedMs timestamp of all topics.
Used for determining what the most recent topic changes we have stored in
our local mirror, and which we should fetch from the API during update.</p>

    <div class='pre p1 fill-light mt0'>topicBumpMs</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bumpedmsfortopic'>
      bumpedMsForTopic
    </h3>
    
    
  </div>
  

  <p>For the given topic ID, retrieves the bumpedMs value.
Returns null, when the topic wasn't found.</p>

    <div class='pre p1 fill-light mt0'>bumpedMsForTopic(id: TopicId): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(TopicId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='syncheads'>
      syncHeads
    </h3>
    
    
  </div>
  

  <p>Finds the SyncHeads values, used as input to skip
already up-to-date content when mirroring.</p>

    <div class='pre p1 fill-light mt0'>syncHeads(): SyncHeads</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>SyncHeads</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='replacetopictransaction'>
      replaceTopicTransaction
    </h3>
    
    
  </div>
  

  <p>Idempotent insert/replace of a Topic, including all it's Posts.</p>
<p>Note: this will insert new posts, update existing posts and delete old posts.
As these are separate queries, we use a transaction here.</p>

    <div class='pre p1 fill-light mt0'>replaceTopicTransaction(topic: <a href="#topic">Topic</a>, posts: $ReadOnlyArray&#x3C;Post>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="#topic">Topic</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>posts</span> <code class='quiet'>($ReadOnlyArray&#x3C;Post>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bumpdefinitiontopiccheck'>
      bumpDefinitionTopicCheck
    </h3>
    
    
  </div>
  

  <p>Bumps the definitionCheckMs (from SyncHeads) to the provided timestamp.</p>

    <div class='pre p1 fill-light mt0'>bumpDefinitionTopicCheck(timestampMs: <a href="#timestampms">TimestampMs</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fetch'>
      fetch
    </h3>
    
    
  </div>
  

  <p>Class for retrieving data from the Discourse API.</p>
<p>The Discourse API implements the JSON endpoints for all functionality of the actual site.
As such, it tends to return a lot of information that we don't care about (in contrast
to a GraphQL API which would give us only what we ask for). As such, we implement a simple
interface over it, which both abstracts over calling the API, and does some post-processing
on the results to simplify it to data that is relevant for us.</p>

    <div class='pre p1 fill-light mt0'>fetch</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='topicview'>
      TopicView
    </h3>
    
    
  </div>
  

  <p>The "view" received from the Discourse API
when getting a topic by ID.</p>
<p>This filters some relevant data like bumpedMs,
and the type separation makes this distinction clear.</p>

    <div class='pre p1 fill-light mt0'>TopicView</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>id</span> <code class='quiet'>(TopicId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>categoryId</span> <code class='quiet'>(CategoryId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>tags</span> <code class='quiet'>($ReadOnlyArray&#x3C;Tag>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>title</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>authorUsername</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='topiclatest'>
      TopicLatest
    </h3>
    
    
  </div>
  

  <p>The "latest" format Topic from the Discourse API
when getting a list of sorted topics.</p>
<p>This filters relevant data like authorUsername,
and the type separation makes this distinction clear.</p>

    <div class='pre p1 fill-light mt0'>TopicLatest</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>id</span> <code class='quiet'>(TopicId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>categoryId</span> <code class='quiet'>(CategoryId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>tags</span> <code class='quiet'>($ReadOnlyArray&#x3C;Tag>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>title</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>bumpedMs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='topic'>
      Topic
    </h3>
    
    
  </div>
  

  <p>A complete Topic object.</p>

    <div class='pre p1 fill-light mt0'>Topic</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'></span> <code class='quiet'>(any)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'></span> <code class='quiet'>(any)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='discourse'>
      Discourse
    </h3>
    
    
  </div>
  

  <p>Interface over the external Discourse API, structured to suit our particular needs.
We have an interface (as opposed to just an implementation) to enable easy mocking and
testing.</p>

    <div class='pre p1 fill-light mt0'>Discourse</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='discourselikesbyuser'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>likesByUser(targetUsername, offset)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Retrieves the like actions that were initiated by the target user.
May be 404 on the server, which will return a null here.</p>

    <div class='pre p1 fill-light mt0'>likesByUser(targetUsername: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, offset: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;LikeAction> | null)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>targetUsername</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>offset</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;LikeAction> | null)></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='discoursetopicsbumpedsince'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>topicsBumpedSince(sinceMs)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Fetches Topics that have been bumped to a higher timestamp than <code>sinceMs</code>.</p>
<p>Note: this will not be able to find "about-x-category" category definition topics.
due to a hard-coded filter in the API.
<a href="https://github.com/discourse/discourse/blob/594925b8965a26c512665371092fec3383320b58/app/controllers/list_controller.rb#L66">https://github.com/discourse/discourse/blob/594925b8965a26c512665371092fec3383320b58/app/controllers/list_controller.rb#L66</a></p>
<p>Use categoryDefinitionTopicIds() to find those topics.</p>

    <div class='pre p1 fill-light mt0'>topicsBumpedSince(sinceMs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#topiclatest">TopicLatest</a>>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sinceMs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="#topiclatest">TopicLatest</a>>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parselatesttopic'>
      parseLatestTopic
    </h3>
    
    
  </div>
  

  <p>Parses a "latest" topic.</p>
<p>A "latest" topic, is a topic as returned by the /latest.json API call,
and has a distinct assumptions:</p>
<ul>
<li>bumped_at is always present.</li>
</ul>
<p>usernamesById map used to resolve these IDs to usernames.</p>

    <div class='pre p1 fill-light mt0'>parseLatestTopic(json: any): <a href="#topiclatest">TopicLatest</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>json</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#topiclatest">TopicLatest</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='discoursereferencedetector'>
      DiscourseReferenceDetector
    </h3>
    
    
  </div>
  

  <p>Discourse ReferenceDetector detector that relies on database lookups.</p>

    <div class='pre p1 fill-light mt0'>new DiscourseReferenceDetector(data: <a href="#readrepository">ReadRepository</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="#readrepository">ReadRepository</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='initiative'>
      Initiative
    </h3>
    
    
  </div>
  

  <p>An intermediate representation of an Initiative.</p>
<p>This makes the assumption a Champion cannot fail in championing.
Instead of a success status, they should be removed if unsuccessful.</p>
<p>There is also no timestamp for completion or each edge.
It should be inferred from the node timestamps instead.
We can support accurate edge timestamps by interpreting wiki histories.
However the additional complexity and requirements put on the tracker
don't seem worthwhile right now.
Especially because cred can flow even before bounties are released.
See <a href="https://discourse.sourcecred.io/t/write-the-initiatives-plugin/269/6">https://discourse.sourcecred.io/t/write-the-initiatives-plugin/269/6</a></p>

    <div class='pre p1 fill-light mt0'>Initiative</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>id</span> <code class='quiet'>(InitiativeId)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>title</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>timestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>weight</span> <code class='quiet'>(InitiativeWeight?)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>completed</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>dependencies</span> <code class='quiet'>(<a href="#edgespec">EdgeSpec</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>references</span> <code class='quiet'>(<a href="#edgespec">EdgeSpec</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>contributions</span> <code class='quiet'>(<a href="#edgespec">EdgeSpec</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>champions</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/URL/URL">URL</a>>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='initiativerepository'>
      InitiativeRepository
    </h3>
    
    
  </div>
  

  <p>Represents a source of Initiatives.</p>

    <div class='pre p1 fill-light mt0'>InitiativeRepository</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='initiativerepositoryinitiatives'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>initiatives()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Gets an array of all Initiatives in this repository.</p>

    <div class='pre p1 fill-light mt0'>initiatives(): $ReadOnlyArray&#x3C;<a href="#initiative">Initiative</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>$ReadOnlyArray&#x3C;<a href="#initiative">Initiative</a>></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='nodeentryfield'>
      NodeEntryField
    </h3>
    
    
  </div>
  

  <p>Represents an "inline contribution" node. They're called entries and named
by type: contribution entry, reference entry, dependency entry.
The generalization of this is a node entry.</p>

    <div class='pre p1 fill-light mt0'>NodeEntryField</div>
  
    <p>
      Type:
      (<code>"DEPENDENCY"</code> | <code>"REFERENCE"</code> | <code>"CONTRIBUTION"</code>)
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='normalizenodeentry'>
      normalizeNodeEntry
    </h3>
    
    
  </div>
  

  <p>Takes a NodeEntryJson and normalizes it to a NodeEntry.</p>
<p>Will throw when required fields are missing. Otherwise handles default
values and converting ISO timestamps.</p>

    <div class='pre p1 fill-light mt0'>normalizeNodeEntry(input: NodeEntryJson, defaultTimestampMs: <a href="#timestampms">TimestampMs</a>): NodeEntry</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>input</span> <code class='quiet'>(NodeEntryJson)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>defaultTimestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>NodeEntry</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_titleslug'>
      _titleSlug
    </h3>
    
    
  </div>
  

  <p>Creates a url-friendly-slug from the title of a NodeEntry. Useful for
generating a default key.</p>
<p>Note: keys are not required to meet the formatting rules of this slug,
this is mostly for predictability and convenience of NodeAddresses.</p>

    <div class='pre p1 fill-light mt0'>_titleSlug(title: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>title</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='initiativefile'>
      InitiativeFile
    </h3>
    
    
  </div>
  

  <p>Represents a single Initiative using a file as source.</p>
<p>Note: The file name will be used to derive the InitiativeId. So it doesn't
make sense to use this outside of the context of an InitiativesDirectory.</p>

    <div class='pre p1 fill-light mt0'>InitiativeFile</div>
  
    <p>
      Type:
      InitiativeFileV020
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='initiativefileurl'>
      initiativeFileURL
    </h3>
    
    
  </div>
  

  <p>When provided with the initiative NodeAddressT of an InitiativeFile this extracts
the URL from it. Or null when the address is not for an InitiativeFile.</p>

    <div class='pre p1 fill-light mt0'>initiativeFileURL(address: <a href="#nodeaddresst">NodeAddressT</a>): (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | null)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>address</span> <code class='quiet'>(<a href="#nodeaddresst">NodeAddressT</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | null)</code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='initiativesdirectory'>
      InitiativesDirectory
    </h3>
    
    
  </div>
  

  <p>Represents an Initiatives directory.</p>
<p>Initiative directories contain a set of InitiativeFiles in a <code>*.json</code> pattern.
Where the file name is the ID of that Initiative.
Additionally we require a <code>remoteUrl</code> for this directory. We expect this directory
to be something you can browse online. This allows us to create a ReferenceDetector.</p>

    <div class='pre p1 fill-light mt0'>InitiativesDirectory</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>localPath</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>remoteUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loadedinitiativesdirectory'>
      LoadedInitiativesDirectory
    </h3>
    
    
  </div>
  

  <p>Opaque because we only want this file's functions to create these load results.
However we do allow anyone to consume it's properties.</p>

    <div class='pre p1 fill-light mt0'>LoadedInitiativesDirectory</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loaddirectory'>
      loadDirectory
    </h3>
    
    
  </div>
  

  <p>Loads a given InitiativesDirectory.</p>

    <div class='pre p1 fill-light mt0'>loadDirectory(dir: <a href="#initiativesdirectory">InitiativesDirectory</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#loadedinitiativesdirectory">LoadedInitiativesDirectory</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>dir</span> <code class='quiet'>(<a href="#initiativesdirectory">InitiativesDirectory</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#loadedinitiativesdirectory">LoadedInitiativesDirectory</a>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='edgespec'>
      EdgeSpec
    </h3>
    
    
  </div>
  

  <p>A type which supports multiple ways of defining what edges an Initiative has.
Currently includes reference detected URLs and NodeEntries.
This is the normalized variant of EdgeSpecJson.</p>

    <div class='pre p1 fill-light mt0'>EdgeSpec</div>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>urls</span> <code class='quiet'>($ReadOnlyArray&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/URL/URL">URL</a>>)</code>
          
          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>entries</span> <code class='quiet'>($ReadOnlyArray&#x3C;NodeEntry>)</code>
          
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='normalizeedgespec'>
      normalizeEdgeSpec
    </h3>
    
    
  </div>
  

  <p>Takes an EdgeSpecJson and normalizes it to an EdgeSpec.</p>
<p>Will throw when required fields are missing or duplicate keys are found.
Otherwise handles default values and converting ISO timestamps.
Note: we allow the EdgeSpecJson to be undefined to easily support omitting
edges entirely, while still normalizing to an EdgeSpec.</p>

    <div class='pre p1 fill-light mt0'>normalizeEdgeSpec(spec: EdgeSpecJson?, defaultTimestampMs: <a href="#timestampms">TimestampMs</a>): <a href="#edgespec">EdgeSpec</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>spec</span> <code class='quiet'>(EdgeSpecJson?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>defaultTimestampMs</span> <code class='quiet'>(<a href="#timestampms">TimestampMs</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#edgespec">EdgeSpec</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_validateedgespec'>
      _validateEdgeSpec
    </h3>
    
    
  </div>
  

  <p>A separate function to validate an EdgeSpec after it's normalized.
Normally you don't need to invoke this directly.</p>

    <div class='pre p1 fill-light mt0'>_validateEdgeSpec(spec: <a href="#edgespec">EdgeSpec</a>): <a href="#edgespec">EdgeSpec</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>spec</span> <code class='quiet'>(<a href="#edgespec">EdgeSpec</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#edgespec">EdgeSpec</a></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_findduplicatesbykey'>
      _findDuplicatesByKey
    </h3>
    
    
  </div>
  

  <p>Find the NodeEntries which have a duplicate key.</p>

    <div class='pre p1 fill-light mt0'>_findDuplicatesByKey(entries: $ReadOnlyArray&#x3C;NodeEntry>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;NodeEntry></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>entries</span> <code class='quiet'>($ReadOnlyArray&#x3C;NodeEntry>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;NodeEntry></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='findduplicates'>
      findDuplicates
    </h3>
    
    
  </div>
  

  <p>Finds elements in the array which are included twice or more.
Uses a === comparison, not deep equality.</p>

    <div class='pre p1 fill-light mt0'>findDuplicates(items: $ReadOnlyArray&#x3C;T>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;T></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>items</span> <code class='quiet'>($ReadOnlyArray&#x3C;T>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;T></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
